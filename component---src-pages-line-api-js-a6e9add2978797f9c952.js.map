{"version":3,"sources":["webpack:///../node_modules/lodash/_baseIsDate.js","webpack:///../packages/line/dist/nivo-line.esm.js","webpack:///../node_modules/gatsby/node_modules/core-js/modules/es6.typed.uint32-array.js","webpack:///./src/pages/line/api.js","webpack:///./src/data/components/line/props.js","webpack:///./src/data/components/line/generator.js","webpack:///../node_modules/gatsby/node_modules/core-js/modules/es6.typed.int32-array.js","webpack:///./src/data/components/line/mapper.js","webpack:///../packages/axes/dist/nivo-axes.esm.js","webpack:///../node_modules/lodash/uniqBy.js","webpack:///../packages/scales/dist/nivo-scales.esm.js","webpack:///../node_modules/lodash/isDate.js","webpack:///./src/data/components/line/defaults.js","webpack:///./src/components/components/api-client/ApiPreview.js","webpack:///./src/components/components/api-client/ApiTabs.js","webpack:///./src/components/components/api-client/ApiSubmit.js","webpack:///./src/components/components/api-client/ApiResponse.js","webpack:///./src/components/components/api-client/ApiClient.js","webpack:///../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack:///../node_modules/@babel/runtime/helpers/esm/createClass.js","webpack:///../node_modules/delaunator/index.js","webpack:///../node_modules/d3-delaunay/src/path.js","webpack:///../node_modules/d3-delaunay/src/polygon.js","webpack:///../node_modules/d3-delaunay/src/voronoi.js","webpack:///../node_modules/d3-delaunay/src/delaunay.js","webpack:///../packages/voronoi/dist/nivo-voronoi.esm.js"],"names":["baseGetTag","isObjectLike","dateTag","module","exports","value","PointTooltip","memo","_ref","point","React","createElement","BasicTooltip","id","data","xFormatted","yFormatted","enableChip","color","serieColor","Chip","style","display","width","height","background","SliceTooltip$1","_ref2","slice","otherAxis","axis","TableTooltip","rows","points","map","key","serieId","concat","_objectSpread","target","i","arguments","length","source","ownKeys","Object","keys","getOwnPropertySymbols","filter","sym","getOwnPropertyDescriptor","enumerable","forEach","_defineProperty","obj","defineProperty","configurable","writable","commonPropTypes","PropTypes","arrayOf","shape","oneOfType","string","number","isRequired","x","instanceOf","Date","y","xScale","scalePropType","xFormat","func","yScale","yFormat","layers","oneOf","curve","lineCurvePropType","axisTop","axisPropType","axisRight","axisBottom","axisLeft","enableGridX","bool","enableGridY","gridXValues","gridYValues","enablePoints","pointSymbol","pointSize","pointColor","any","pointBorderWidth","pointBorderColor","markers","object","colors","ordinalColorsPropType","enableArea","areaOpacity","areaBlendMode","blendModePropType","areaBaselineValue","lineWidth","defs","legends","LegendPropShape","isInteractive","debugMesh","tooltip","tooltipFormat","enableSlices","debugSlices","sliceTooltip","enableCrosshair","crosshairType","crosshairPropTypes","type","commonDefaultProps","enablePointLabel","useMesh","motionPropTypes","pixelRatio","min","max","from","theme","scheme","LineDefaultProps","animate","motionStiffness","motionDamping","LineCanvasDefaultProps","global","window","devicePixelRatio","_slicedToArray","arr","Array","isArray","_arrayWithHoles","Symbol","iterator","prototype","toString","call","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","err","_iterableToArrayLimit","TypeError","_nonIterableRest","_objectSpread$1","_defineProperty$1","_toConsumableArray","arr2","_arrayWithoutHoles","iter","_iterableToArray","_nonIterableSpread","useLine","_ref9","_ref9$xScale","xScaleSpec","_ref9$yScale","yScaleSpec","_ref9$colors","_ref9$curve","_ref9$areaBaselineVal","_ref9$pointColor","_ref9$pointBorderColo","_ref9$enableSlices","enableSlicesTooltip","formatX","useValueFormatter","formatY","getColor","useOrdinalColorScale","useTheme","getPointColor","useInheritedColor","getPointBorderColor","_useMemo","useMemo","computeXYScalesForSeries","rawSeries","series","serie","_ref3","reduce","acc","datum","position","index","borderColor","usePoints","slices","_ref4","Map","has","get","set","entries","sort","a","b","_ref5","x0","_ref6","slicePoints","prevSlice","nextSlice","y0","reverse","_map","_ref7","sliceHeight","_ref8","useSlices","lineGenerator","line","defined","d","curveFromProp","useLineGenerator","areaGenerator","area","y1","useAreaGenerator","Areas$1","lines","_useMotionConfig","useMotionConfig","springConfig","areaColor","fill","fillOpacity","strokeWidth","mixBlendMode","SmartMotion","spring","LinesItem$1","thickness","stroke","Lines$1","SlicesItem$1","debug","isCurrent","setCurrent","_useTooltip","useTooltip","showTooltipFromEvent","hideTooltip","handleMouseEnter","useCallback","event","handleMouseMove","handleMouseLeave","strokeOpacity","onMouseEnter","onMouseMove","onMouseLeave","Slices$1","current","_extends","assign","hasOwnProperty","apply","this","Points","symbol","size","borderWidth","enableLabel","label","labelYOffset","getLabel","getLabelGenerator","mappedPoints","DotsItem","TransitionMotion","styles","interpolatedStyles","defaultProps","Points$1","Mesh$1","margin","onClick","showTooltipAt","left","top","handleClick","Mesh$2","nodes","_defineProperty$2","_extends$1","_slicedToArray$1","_arrayWithHoles$1","_iterableToArrayLimit$1","_nonIterableRest$1","Line","props","partialMargin","pointLabel","pointLabelFormat","pointLabelYOffset","_useDimensions","useDimensions","innerWidth","innerHeight","outerWidth","outerHeight","_useLine","_useState2","useState","currentPoint","setCurrentPoint","_useState4","currentSlice","setCurrentSlice","legendData","layerById","grid","Grid","xValues","yValues","CartesianMarkers","axes","Axes","right","bottom","areas","crosshair","mesh","legend","BoxLegendSvg","containerWidth","containerHeight","labelFormat","Crosshair","SvgWrapper","layer","Fragment","_objectSpread$2","Line$1","withContainer","_extends$2","ResponsiveLine","ResponsiveWrapper","_defineProperty$3","_slicedToArray$2","_arrayWithHoles$2","_iterableToArrayLimit$2","_nonIterableRest$2","LineCanvas","canvasEl","useRef","_useVoronoiMesh","useVoronoiMesh","delaunay","voronoi","useEffect","ctx","getContext","scale","fillStyle","fillRect","translate","strokeStyle","renderGridLinesToCanvas","values","renderAxesToCanvas","save","globalAlpha","context","beginPath","restore","arc","Math","PI","renderVoronoiToCanvas","renderVoronoiCellToCanvas","renderLegendToCanvas","_objectSpread$3","getPointFromMouseEvent","_getRelativeCursor2","getRelativeCursor","isCursorInRect","pointIndex","find","handleMouseHover","ref","cursor","LineCanvas$1","_extends$3","ResponsiveLineCanvas","init","byteOffset","generateLightDataSet","LineApi","title","keywords","meta","tags","componentName","apiPath","flavors","chartClass","dataProperty","controlGroups","groups","propsMapper","mapper","omit","defaultSettings","JSON","stringify","group","help","description","required","controlType","controlOptions","disabled","choices","v","disabledValue","defaultValue","enableControlForFlavors","unit","step","defaults","lineCurvePropKeys","choice","dotDefaults","axesProperties","getLegendsProps","shouldCreate","addLabel","shouldRemove","getItemTitle","anchor","direction","justify","translateX","translateY","itemWidth","itemHeight","itemsSpacing","symbolSize","symbolShape","itemDirection","itemTextColor","alert","effects","on","itemBackground","itemOpacity","motionProperties","groupProperties","generateSeries","generateHeavyDataSet","range","settingsMapper","mapAxis","exclude","centerScale","bandwidth","offset","round","timeByType","millisecond","timeMillisecond","utcMillisecond","second","timeSecond","utcSecond","minute","timeMinute","utcMinute","hour","timeHour","utcHour","day","timeDay","utcDay","week","timeWeek","utcWeek","sunday","timeSunday","utcSunday","monday","timeMonday","utcMonday","tuesday","timeTuesday","utcTuesday","wednesday","timeWednesday","utcWednesday","thursday","timeThursday","utcThursday","friday","timeFriday","utcFriday","saturday","timeSaturday","utcSaturday","month","timeMonth","utcMonth","year","timeYear","utcYear","timeTypes","timeIntervalRegexp","RegExp","join","getScaleTicks","spec","ticks","isNumber","matches","match","timeType","useUTC","every","Number","Error","domain","computeCartesianTicks","ticksPosition","tickValues","tickSize","tickPadding","tickRotation","_ref$engine","engine","textProps","textPropsByEngine","lineX","lineY","text","textX","textY","textAlign","align","center","textBaseline","baseline","getFormatter","format$1","f","timeFormat","format","computeGridLines","_values","lineValues","lineCount","x1","x2","y2","axisPropTypes","renderTick","node","legendPosition","legendOffset","AxisTick","_value","opacity","rotate","_onClick","textAnchor","gStyle","transform","e","dominantBaseline","AxisTick$1","willEnter","willLeave","_ref$style","val","Axis","formatValue","_computeCartesianTick","legendNode","legendX","legendY","legendRotation","tick","tickIndex","Motion","xy","Axis$1","positions","Axes$1","isXAxis","GridLine","GridLine$1","GridLines$1","lineWillEnter","lineWillLeave","interpolatedStyle","Grid$1","xLines","yLines","degreesToRadians","degrees","renderAxisToCanvas","_ref$x","_ref$y","_ref$tickSize","_ref$tickPadding","_ref$tickRotation","_ref$legendPosition","_ref$legendOffset","font","fontSize","fontFamily","lineCap","moveTo","lineTo","fillText","_textAlign","fontWeight","positions$1","baseIteratee","baseUniq","array","iteratee","_precisionCutOffsByTy","linearScalePropTypes","stacked","logScalePropTypes","base","pointScalePropTypes","timePrecisions","precisionCutOffs","date","setMilliseconds","setSeconds","setMinutes","setHours","setDate","setMonth","precisionCutOffsByType","createDateNormalizer","_ref$format","_ref$precision","precision","_ref$useUTC","precisionFn","cutOff","createPrecisionMethod","parseTime","utcParse","timeParse","timeScalePropTypes","getOtherAxis","compareValues","compareDateValues","getTime","_series","generateSeriesXY","stackX","stackY","computeScale","xStacked","yStacked","_ref$min","_ref$max","_ref$stacked","_ref$reverse","minValue","minStacked","maxValue","maxStacked","scaleLinear","rangeRound","linearScale","scalePoint","all","pointScale","normalize","scaleUtc","scaleTime","timeScale","sign","_ref$base","hasZero","some","hasMixedSign","scaleLog","nice","logScale","generateSeriesAxis","scaleSpec","_ref$getValue","getValue","_ref$setValue","setValue","parseFloat","uniq","sortBy","uniqBy","last","stackAxis","otherType","compare","isDate","stack","stackValue","head","baseIsDate","baseUnary","nodeUtil","nodeIsDate","enable","orient","Link","styled","Image","img","EmptyContainer","div","textLight","ApiPreview","responseStatus","chartUrl","href","rel","src","alt","tabs","ApiTabs","body","isLoading","currentTab","setCurrentTab","hoverTab","setHoverTab","Wrapper","className","Nav","tab","icon","iconColors","NavItem","Icon","Content","CodeBlock","dimensions","headerHeight","miniNavWidth","cardBackground","border","media","tablet","mobile","nav","span","LoaderContainer","loaderBarAnimation","keyframes","LoaderBar","accent","Loader","Button","ApiSubmit","render","loading","Component","Container","Header","borderLight","ResponseJson","pre","ApiResponse","response","responseContent","ApiClient","handleSettingsUpdate","settings","setState","handleDataUpdate","state","handleSubmit","fetch","config","nivoApiUrl","method","headers","Accept","then","res","status","json","catch","console","error","component","flavorKeys","flavor","Layout","ComponentPage","ComponentHeader","ComponentFlavorSelector","ComponentDescription","url","ControlPanel","SubmitWrapper","ComponentSettings","currentFlavor","onChange","cardAltBackground","_classCallCheck","instance","Constructor","_defineProperties","descriptor","_createClass","protoProps","staticProps","EPSILON","pow","EDGE_STACK","Uint32Array","Delaunator","coords","n","maxTriangles","_triangles","_halfedges","Int32Array","_hashSize","ceil","sqrt","_hullPrev","_hullNext","_hullTri","_hullHash","_ids","_dists","Float64Array","update","getX","defaultGetX","getY","defaultGetY","p","hullPrev","hullNext","hullTri","hullHash","minX","Infinity","minY","maxX","maxY","i0","i1","i2","cx","cy","minDist","dist","i0x","i0y","_i2","i1x","i1y","minRadius","_i3","r","circumradius","i2x","i2y","_i4","quicksort","hull","j","_i5","d0","subarray","triangles","halfedges","_i6","_x","_y","ax","ay","bx","by","dx","dy","ex","ey","bl","cl","circumcenter","_cx","_cy","_i7","_hullStart","hullSize","_hashKey","trianglesLen","_addTriangle","xp","yp","k","_i8","_x2","_y2","abs","start","_j","q","t","_legalize","_i9","floor","px","py","fx","fy","bp","cp","ar","a0","b0","al","p0","pr","pl","p1","ap","hbl","_link","br","c","qx","qy","rx","ry","ids","dists","temp","tempDist","_i10","_j2","swap","_temp","_tempDist","tmp","Path","_x0","_y0","_x1","_y1","_","w","h","Polygon","Voronoi","xmin","ymin","xmax","ymax","_circumcenters","vectors","_init","_this$delaunay","circumcenters","t1","t2","t3","x3","y3","a2","a3","b2","b3","d1","d2","d3","ab","buffer","_this$delaunay2","inedges","ti","tj","xi","yi","xj","yj","_renderSegment","h0","h1","_project","rect","_clip","closePath","mark","cellPolygons","cell","wrap","_context","prev","cellPolygon","stop","polygon","renderCell","S","c0","_regioncode","c1","_clipSegment","_step","_this$delaunay3","e0","_cell","V","_clipInfinite","_clipFinite","e1","P","sx0","sy0","sx1","sy1","_S","_S2","_S3","_S4","_edgecode","_edge","contains","vx0","vy0","vxn","vyn","unshift","splice","vx","vy","_marked","flatIterable","tau","pointX","pointY","jitter","sin","cos","Delaunay","_delaunator","_hullIndex","collinear","bounds","hullIndex","_p","_n2","neighbors","l","indexOf","abrupt","dc","dt","renderHull","_h","t0","trianglePolygons","_context2","trianglePolygon","renderTriangle","flatArray","that","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step2","_context3","finish","VoronoiDefaultProps","xDomain","yDomain","enableLinks","linkLineWidth","linkLineColor","enableCells","cellLineWidth","cellLineColor","Voronoi$1","renderBounds","links","cells","renderPoints","compose","withTheme","withDimensions","withPropsOnChange","scaledPoints","pure","ResponsiveVoronoi","getAccessor","directive","points2d","computeMeshPoints","computeMesh","Mesh","elementRef","currentIndex","setCurrentIndex","voronoiPath","getIndexAndNodeFromEvent","_getIndexAndNodeFromE2","_getIndexAndNodeFromE4","previousNode","_getIndexAndNodeFromE6"],"mappings":"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","file":"component---src-pages-line-api-js-a6e9add2978797f9c952.js","sourcesContent":["var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n/** `Object#toString` result references. */\n\n\nvar dateTag = '[object Date]';\n/**\n * The base implementation of `_.isDate` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n */\n\nfunction baseIsDate(value) {\n  return isObjectLike(value) && baseGetTag(value) == dateTag;\n}\n\nmodule.exports = baseIsDate;","import React, { memo, useMemo, useCallback, useState, Fragment, useRef, useEffect } from 'react';\nimport { lineCurvePropType, blendModePropType, motionPropTypes, curveFromProp, useValueFormatter, useTheme, useMotionConfig, SmartMotion, getLabelGenerator, DotsItem, withContainer, useDimensions, CartesianMarkers, SvgWrapper, ResponsiveWrapper, getRelativeCursor, isCursorInRect } from '@nivo/core';\nimport { ordinalColorsPropType, useOrdinalColorScale, useInheritedColor } from '@nivo/colors';\nimport { axisPropType, Grid, Axes, renderGridLinesToCanvas, renderAxesToCanvas } from '@nivo/axes';\nimport { LegendPropShape, BoxLegendSvg, renderLegendToCanvas } from '@nivo/legends';\nimport { BasicTooltip, TableTooltip, crosshairPropTypes, useTooltip, Crosshair } from '@nivo/tooltip';\nimport { line, area } from 'd3-shape';\nimport { scalePropType, computeXYScalesForSeries } from '@nivo/scales';\nimport PropTypes from 'prop-types';\nimport { TransitionMotion, spring } from 'react-motion';\nimport { Mesh as Mesh$2, useVoronoiMesh, renderVoronoiToCanvas, renderVoronoiCellToCanvas } from '@nivo/voronoi';\n\nvar LinePointTooltip = function LinePointTooltip(_ref) {\n  var point = _ref.point;\n  return React.createElement(BasicTooltip, {\n    id: React.createElement(\"span\", null, \"x: \", React.createElement(\"strong\", null, point.data.xFormatted), \", y:\", ' ', React.createElement(\"strong\", null, point.data.yFormatted)),\n    enableChip: true,\n    color: point.serieColor\n  });\n};\nLinePointTooltip.propTypes = {\n  point: PropTypes.object.isRequired\n};\nvar PointTooltip = memo(LinePointTooltip);\n\nvar Chip = function Chip(_ref) {\n  var color = _ref.color;\n  return React.createElement(\"span\", {\n    style: {\n      display: 'block',\n      width: '12px',\n      height: '12px',\n      background: color\n    }\n  });\n};\nChip.propTypes = {\n  color: PropTypes.string.isRequired\n};\nvar SliceTooltip = function SliceTooltip(_ref2) {\n  var slice = _ref2.slice,\n      axis = _ref2.axis;\n  var otherAxis = axis === 'x' ? 'y' : 'x';\n  return React.createElement(TableTooltip, {\n    rows: slice.points.map(function (point) {\n      return [React.createElement(Chip, {\n        key: \"chip\",\n        color: point.serieColor\n      }), point.serieId, React.createElement(\"strong\", {\n        key: \"value\"\n      }, point.data[\"\".concat(otherAxis, \"Formatted\")])];\n    })\n  });\n};\nSliceTooltip.propTypes = {\n  slice: PropTypes.object.isRequired,\n  axis: PropTypes.oneOf(['x', 'y']).isRequired\n};\nvar SliceTooltip$1 = memo(SliceTooltip);\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(Object(source)); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar commonPropTypes = {\n  data: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n    data: PropTypes.arrayOf(PropTypes.shape({\n      x: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)]),\n      y: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)])\n    })).isRequired\n  })).isRequired,\n  xScale: scalePropType.isRequired,\n  xFormat: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  yScale: scalePropType.isRequired,\n  yFormat: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  layers: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.oneOf(['grid', 'markers', 'axes', 'areas', 'crosshair', 'lines', 'slices', 'points', 'mesh', 'legends']), PropTypes.func])).isRequired,\n  curve: lineCurvePropType.isRequired,\n  axisTop: axisPropType,\n  axisRight: axisPropType,\n  axisBottom: axisPropType,\n  axisLeft: axisPropType,\n  enableGridX: PropTypes.bool.isRequired,\n  enableGridY: PropTypes.bool.isRequired,\n  gridXValues: PropTypes.oneOfType([PropTypes.number, PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)]))]),\n  gridYValues: PropTypes.oneOfType([PropTypes.number, PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)]))]),\n  enablePoints: PropTypes.bool.isRequired,\n  pointSymbol: PropTypes.func,\n  pointSize: PropTypes.number.isRequired,\n  pointColor: PropTypes.any.isRequired,\n  pointBorderWidth: PropTypes.number.isRequired,\n  pointBorderColor: PropTypes.any.isRequired,\n  markers: PropTypes.arrayOf(PropTypes.shape({\n    axis: PropTypes.oneOf(['x', 'y']).isRequired,\n    value: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)]).isRequired,\n    style: PropTypes.object\n  })),\n  colors: ordinalColorsPropType.isRequired,\n  enableArea: PropTypes.bool.isRequired,\n  areaOpacity: PropTypes.number.isRequired,\n  areaBlendMode: blendModePropType.isRequired,\n  areaBaselineValue: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)]).isRequired,\n  lineWidth: PropTypes.number.isRequired,\n  defs: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.string.isRequired\n  })).isRequired,\n  legends: PropTypes.arrayOf(PropTypes.shape(LegendPropShape)).isRequired,\n  isInteractive: PropTypes.bool.isRequired,\n  debugMesh: PropTypes.bool.isRequired,\n  tooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n  tooltipFormat: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  enableSlices: PropTypes.oneOf(['x', 'y', false]).isRequired,\n  debugSlices: PropTypes.bool.isRequired,\n  sliceTooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n  enableCrosshair: PropTypes.bool.isRequired,\n  crosshairType: crosshairPropTypes.type.isRequired\n};\nvar LinePropTypes = _objectSpread({}, commonPropTypes, {\n  enablePointLabel: PropTypes.bool.isRequired,\n  useMesh: PropTypes.bool.isRequired\n}, motionPropTypes);\nvar LineCanvasPropTypes = _objectSpread({\n  pixelRatio: PropTypes.number.isRequired\n}, commonPropTypes);\nvar commonDefaultProps = {\n  curve: 'linear',\n  xScale: {\n    type: 'point'\n  },\n  yScale: {\n    type: 'linear',\n    min: 0,\n    max: 'auto'\n  },\n  layers: ['grid', 'markers', 'axes', 'areas', 'crosshair', 'lines', 'points', 'slices', 'mesh', 'legends'],\n  axisBottom: {},\n  axisLeft: {},\n  enableGridX: true,\n  enableGridY: true,\n  enablePoints: true,\n  pointSize: 6,\n  pointColor: {\n    from: 'color'\n  },\n  pointBorderWidth: 0,\n  pointBorderColor: {\n    theme: 'background'\n  },\n  colors: {\n    scheme: 'nivo'\n  },\n  enableArea: false,\n  areaBaselineValue: 0,\n  areaOpacity: 0.2,\n  areaBlendMode: 'normal',\n  lineWidth: 2,\n  defs: [],\n  legends: [],\n  isInteractive: true,\n  tooltip: PointTooltip,\n  enableSlices: false,\n  debugSlices: false,\n  sliceTooltip: SliceTooltip$1,\n  debugMesh: false,\n  enableCrosshair: true,\n  crosshairType: 'bottom-left'\n};\nvar LineDefaultProps = _objectSpread({}, commonDefaultProps, {\n  enablePointLabel: false,\n  useMesh: false,\n  animate: true,\n  motionStiffness: 90,\n  motionDamping: 15\n});\nvar LineCanvasDefaultProps = _objectSpread({}, commonDefaultProps, {\n  pixelRatio: global.window && global.window.devicePixelRatio ? global.window.devicePixelRatio : 1\n});\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _objectSpread$1(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(Object(source)); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$1(target, key, source[key]); }); } return target; }\nfunction _defineProperty$1(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\nvar useLineGenerator = function useLineGenerator(_ref) {\n  var curve = _ref.curve;\n  return useMemo(function () {\n    return line().defined(function (d) {\n      return d.x !== null && d.y !== null;\n    }).x(function (d) {\n      return d.x;\n    }).y(function (d) {\n      return d.y;\n    }).curve(curveFromProp(curve));\n  }, [curve]);\n};\nvar useAreaGenerator = function useAreaGenerator(_ref2) {\n  var curve = _ref2.curve,\n      yScale = _ref2.yScale,\n      areaBaselineValue = _ref2.areaBaselineValue;\n  return useMemo(function () {\n    return area().defined(function (d) {\n      return d.x !== null && d.y !== null;\n    }).x(function (d) {\n      return d.x;\n    }).y1(function (d) {\n      return d.y;\n    }).curve(curveFromProp(curve)).y0(yScale(areaBaselineValue));\n  }, [curve, yScale, areaBaselineValue]);\n};\nvar usePoints = function usePoints(_ref3) {\n  var series = _ref3.series,\n      getPointColor = _ref3.getPointColor,\n      getPointBorderColor = _ref3.getPointBorderColor,\n      formatX = _ref3.formatX,\n      formatY = _ref3.formatY;\n  return useMemo(function () {\n    return series.reduce(function (acc, serie) {\n      return [].concat(_toConsumableArray(acc), _toConsumableArray(serie.data.filter(function (datum) {\n        return datum.position.x !== null && datum.position.y !== null;\n      }).map(function (datum, i) {\n        var point = {\n          id: \"\".concat(serie.id, \".\").concat(i),\n          index: acc.length + i,\n          serieId: serie.id,\n          serieColor: serie.color,\n          x: datum.position.x,\n          y: datum.position.y\n        };\n        point.color = getPointColor(serie);\n        point.borderColor = getPointBorderColor(point);\n        point.data = _objectSpread$1({}, datum.data, {\n          xFormatted: formatX(datum.data.x),\n          yFormatted: formatY(datum.data.y)\n        });\n        return point;\n      })));\n    }, []);\n  }, [series, getPointColor, getPointBorderColor, formatX, formatY]);\n};\nvar useSlices = function useSlices(_ref4) {\n  var enableSlices = _ref4.enableSlices,\n      points = _ref4.points,\n      width = _ref4.width,\n      height = _ref4.height;\n  return useMemo(function () {\n    if (enableSlices === false) return [];\n    if (enableSlices === 'x') {\n      var map = new Map();\n      points.forEach(function (point) {\n        if (point.data.x === null || point.data.y === null) return;\n        if (!map.has(point.x)) map.set(point.x, [point]);else map.get(point.x).push(point);\n      });\n      return Array.from(map.entries()).sort(function (a, b) {\n        return a[0] - b[0];\n      }).map(function (_ref5, i, slices) {\n        var _ref6 = _slicedToArray(_ref5, 2),\n            x = _ref6[0],\n            slicePoints = _ref6[1];\n        var prevSlice = slices[i - 1];\n        var nextSlice = slices[i + 1];\n        var x0;\n        if (!prevSlice) x0 = x;else x0 = x - (x - prevSlice[0]) / 2;\n        var sliceWidth;\n        if (!nextSlice) sliceWidth = width - x0;else sliceWidth = x - x0 + (nextSlice[0] - x) / 2;\n        return {\n          id: x,\n          x0: x0,\n          x: x,\n          y0: 0,\n          y: 0,\n          width: sliceWidth,\n          height: height,\n          points: slicePoints.reverse()\n        };\n      });\n    } else if (enableSlices === 'y') {\n      var _map = new Map();\n      points.forEach(function (point) {\n        if (point.data.x === null || point.data.y === null) return;\n        if (!_map.has(point.y)) _map.set(point.y, [point]);else _map.get(point.y).push(point);\n      });\n      return Array.from(_map.entries()).sort(function (a, b) {\n        return a[0] - b[0];\n      }).map(function (_ref7, i, slices) {\n        var _ref8 = _slicedToArray(_ref7, 2),\n            y = _ref8[0],\n            slicePoints = _ref8[1];\n        var prevSlice = slices[i - 1];\n        var nextSlice = slices[i + 1];\n        var y0;\n        if (!prevSlice) y0 = y;else y0 = y - (y - prevSlice[0]) / 2;\n        var sliceHeight;\n        if (!nextSlice) sliceHeight = height - y0;else sliceHeight = y - y0 + (nextSlice[0] - y) / 2;\n        return {\n          id: y,\n          x0: 0,\n          x: 0,\n          y0: y0,\n          y: y,\n          width: width,\n          height: sliceHeight,\n          points: slicePoints.reverse()\n        };\n      });\n    }\n  }, [enableSlices, points]);\n};\nvar useLine = function useLine(_ref9) {\n  var data = _ref9.data,\n      _ref9$xScale = _ref9.xScale,\n      xScaleSpec = _ref9$xScale === void 0 ? LineDefaultProps.xScale : _ref9$xScale,\n      xFormat = _ref9.xFormat,\n      _ref9$yScale = _ref9.yScale,\n      yScaleSpec = _ref9$yScale === void 0 ? LineDefaultProps.yScale : _ref9$yScale,\n      yFormat = _ref9.yFormat,\n      width = _ref9.width,\n      height = _ref9.height,\n      _ref9$colors = _ref9.colors,\n      colors = _ref9$colors === void 0 ? LineDefaultProps.colors : _ref9$colors,\n      _ref9$curve = _ref9.curve,\n      curve = _ref9$curve === void 0 ? LineDefaultProps.curve : _ref9$curve,\n      _ref9$areaBaselineVal = _ref9.areaBaselineValue,\n      areaBaselineValue = _ref9$areaBaselineVal === void 0 ? LineDefaultProps.areaBaselineValue : _ref9$areaBaselineVal,\n      _ref9$pointColor = _ref9.pointColor,\n      pointColor = _ref9$pointColor === void 0 ? LineDefaultProps.pointColor : _ref9$pointColor,\n      _ref9$pointBorderColo = _ref9.pointBorderColor,\n      pointBorderColor = _ref9$pointBorderColo === void 0 ? LineDefaultProps.pointBorderColor : _ref9$pointBorderColo,\n      _ref9$enableSlices = _ref9.enableSlices,\n      enableSlices = _ref9$enableSlices === void 0 ? LineDefaultProps.enableSlicesTooltip : _ref9$enableSlices;\n  var formatX = useValueFormatter(xFormat);\n  var formatY = useValueFormatter(yFormat);\n  var getColor = useOrdinalColorScale(colors, 'id');\n  var theme = useTheme();\n  var getPointColor = useInheritedColor(pointColor, theme);\n  var getPointBorderColor = useInheritedColor(pointBorderColor, theme);\n  var _useMemo = useMemo(function () {\n    return computeXYScalesForSeries(data, xScaleSpec, yScaleSpec, width, height);\n  }, [data, xScaleSpec, yScaleSpec, width, height]),\n      xScale = _useMemo.xScale,\n      yScale = _useMemo.yScale,\n      rawSeries = _useMemo.series;\n  var series = useMemo(function () {\n    return rawSeries.map(function (serie) {\n      return _objectSpread$1({}, serie, {\n        color: getColor(serie)\n      });\n    });\n  }, [rawSeries, getColor]);\n  var points = usePoints({\n    series: series,\n    getPointColor: getPointColor,\n    getPointBorderColor: getPointBorderColor,\n    formatX: formatX,\n    formatY: formatY\n  });\n  var slices = useSlices({\n    enableSlices: enableSlices,\n    points: points,\n    width: width,\n    height: height\n  });\n  var lineGenerator = useLineGenerator({\n    curve: curve\n  });\n  var areaGenerator = useAreaGenerator({\n    curve: curve,\n    yScale: yScale,\n    areaBaselineValue: areaBaselineValue\n  });\n  return {\n    lineGenerator: lineGenerator,\n    areaGenerator: areaGenerator,\n    getColor: getColor,\n    series: series,\n    xScale: xScale,\n    yScale: yScale,\n    slices: slices,\n    points: points\n  };\n};\n\nvar Areas = function Areas(_ref) {\n  var areaGenerator = _ref.areaGenerator,\n      areaOpacity = _ref.areaOpacity,\n      areaBlendMode = _ref.areaBlendMode,\n      lines = _ref.lines;\n  var _useMotionConfig = useMotionConfig(),\n      animate = _useMotionConfig.animate,\n      springConfig = _useMotionConfig.springConfig;\n  if (animate !== true) {\n    return React.createElement(\"g\", null, lines.slice(0).reverse().map(function (_ref2) {\n      var id = _ref2.id,\n          data = _ref2.data,\n          areaColor = _ref2.color;\n      return React.createElement(\"path\", {\n        key: id,\n        d: areaGenerator(data.map(function (d) {\n          return d.position;\n        })),\n        fill: areaColor,\n        fillOpacity: areaOpacity,\n        strokeWidth: 0,\n        style: {\n          mixBlendMode: areaBlendMode\n        }\n      });\n    }));\n  }\n  return React.createElement(\"g\", null, lines.slice(0).reverse().map(function (_ref3) {\n    var id = _ref3.id,\n        data = _ref3.data,\n        areaColor = _ref3.color;\n    return React.createElement(SmartMotion, {\n      key: id,\n      style: function style(spring) {\n        return {\n          d: spring(areaGenerator(data.map(function (d) {\n            return d.position;\n          })), springConfig),\n          fill: spring(areaColor, springConfig)\n        };\n      }\n    }, function (style) {\n      return React.createElement(\"path\", {\n        key: id,\n        d: style.d,\n        fill: areaColor,\n        fillOpacity: areaOpacity,\n        strokeWidth: 0,\n        style: {\n          mixBlendMode: areaBlendMode\n        }\n      });\n    });\n  }));\n};\nAreas.propTypes = {\n  areaGenerator: PropTypes.func.isRequired,\n  areaOpacity: PropTypes.number.isRequired,\n  areaBlendMode: blendModePropType.isRequired,\n  lines: PropTypes.arrayOf(PropTypes.object).isRequired\n};\nvar Areas$1 = memo(Areas);\n\nvar LinesItem = function LinesItem(_ref) {\n  var lineGenerator = _ref.lineGenerator,\n      id = _ref.id,\n      points = _ref.points,\n      color = _ref.color,\n      thickness = _ref.thickness;\n  var _useMotionConfig = useMotionConfig(),\n      animate = _useMotionConfig.animate,\n      springConfig = _useMotionConfig.springConfig;\n  if (animate !== true) {\n    return React.createElement(\"path\", {\n      key: id,\n      d: lineGenerator(points),\n      fill: \"none\",\n      strokeWidth: thickness,\n      stroke: color\n    });\n  }\n  return React.createElement(SmartMotion, {\n    key: id,\n    style: function style(spring) {\n      return {\n        d: spring(lineGenerator(points), springConfig),\n        stroke: spring(color, springConfig)\n      };\n    }\n  }, function (style) {\n    return React.createElement(\"path\", {\n      key: id,\n      d: style.d,\n      fill: \"none\",\n      strokeWidth: thickness,\n      stroke: style.stroke\n    });\n  });\n};\nLinesItem.propTypes = {\n  id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n  points: PropTypes.arrayOf(PropTypes.shape({\n    x: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    y: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n  })),\n  lineGenerator: PropTypes.func.isRequired,\n  color: PropTypes.string.isRequired,\n  thickness: PropTypes.number.isRequired\n};\nvar LinesItem$1 = memo(LinesItem);\n\nvar Lines = function Lines(_ref) {\n  var lines = _ref.lines,\n      lineGenerator = _ref.lineGenerator,\n      lineWidth = _ref.lineWidth;\n  return lines.map(function (_ref2) {\n    var id = _ref2.id,\n        data = _ref2.data,\n        color = _ref2.color;\n    return React.createElement(LinesItem$1, {\n      key: id,\n      id: id,\n      points: data.map(function (d) {\n        return d.position;\n      }),\n      lineGenerator: lineGenerator,\n      color: color,\n      thickness: lineWidth\n    });\n  });\n};\nLines.propTypes = {\n  lines: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n    color: PropTypes.string.isRequired,\n    data: PropTypes.arrayOf(PropTypes.shape({\n      data: PropTypes.shape({\n        x: PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.instanceOf(Date)]),\n        y: PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.instanceOf(Date)])\n      }).isRequired,\n      position: PropTypes.shape({\n        x: PropTypes.number,\n        y: PropTypes.number\n      }).isRequired\n    })).isRequired\n  })).isRequired,\n  lineWidth: PropTypes.number.isRequired,\n  lineGenerator: PropTypes.func.isRequired\n};\nvar Lines$1 = memo(Lines);\n\nvar SlicesItem = function SlicesItem(_ref) {\n  var slice = _ref.slice,\n      axis = _ref.axis,\n      debug = _ref.debug,\n      tooltip = _ref.tooltip,\n      isCurrent = _ref.isCurrent,\n      setCurrent = _ref.setCurrent;\n  var _useTooltip = useTooltip(),\n      showTooltipFromEvent = _useTooltip.showTooltipFromEvent,\n      hideTooltip = _useTooltip.hideTooltip;\n  var handleMouseEnter = useCallback(function (event) {\n    showTooltipFromEvent(React.createElement(tooltip, {\n      slice: slice,\n      axis: axis\n    }), event, 'right');\n    setCurrent(slice);\n  }, [showTooltipFromEvent, tooltip, slice]);\n  var handleMouseMove = useCallback(function (event) {\n    showTooltipFromEvent(React.createElement(tooltip, {\n      slice: slice,\n      axis: axis\n    }), event, 'right');\n  }, [showTooltipFromEvent, tooltip, slice]);\n  var handleMouseLeave = useCallback(function () {\n    hideTooltip();\n    setCurrent(null);\n  }, [hideTooltip]);\n  return React.createElement(\"rect\", {\n    x: slice.x0,\n    y: slice.y0,\n    width: slice.width,\n    height: slice.height,\n    stroke: \"red\",\n    strokeWidth: debug ? 1 : 0,\n    strokeOpacity: 0.75,\n    fill: \"red\",\n    fillOpacity: isCurrent && debug ? 0.35 : 0,\n    onMouseEnter: handleMouseEnter,\n    onMouseMove: handleMouseMove,\n    onMouseLeave: handleMouseLeave\n  });\n};\nSlicesItem.propTypes = {\n  slice: PropTypes.object.isRequired,\n  axis: PropTypes.oneOf(['x', 'y']).isRequired,\n  debug: PropTypes.bool.isRequired,\n  height: PropTypes.number.isRequired,\n  tooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),\n  isCurrent: PropTypes.bool.isRequired,\n  setCurrent: PropTypes.func.isRequired\n};\nvar SlicesItem$1 = memo(SlicesItem);\n\nvar Slices = function Slices(_ref) {\n  var slices = _ref.slices,\n      axis = _ref.axis,\n      debug = _ref.debug,\n      height = _ref.height,\n      tooltip = _ref.tooltip,\n      current = _ref.current,\n      setCurrent = _ref.setCurrent;\n  return slices.map(function (slice) {\n    return React.createElement(SlicesItem$1, {\n      key: slice.id,\n      slice: slice,\n      axis: axis,\n      debug: debug,\n      height: height,\n      tooltip: tooltip,\n      setCurrent: setCurrent,\n      isCurrent: current !== null && current.id === slice.id\n    });\n  });\n};\nSlices.propTypes = {\n  slices: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)]).isRequired,\n    x: PropTypes.number.isRequired,\n    y: PropTypes.number.isRequired,\n    points: PropTypes.arrayOf(PropTypes.object).isRequired\n  })).isRequired,\n  axis: PropTypes.oneOf(['x', 'y']).isRequired,\n  debug: PropTypes.bool.isRequired,\n  height: PropTypes.number.isRequired,\n  tooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n  current: PropTypes.object,\n  setCurrent: PropTypes.func.isRequired\n};\nvar Slices$1 = memo(Slices);\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nvar Points = function Points(_ref) {\n  var points = _ref.points,\n      symbol = _ref.symbol,\n      size = _ref.size,\n      borderWidth = _ref.borderWidth,\n      enableLabel = _ref.enableLabel,\n      label = _ref.label,\n      labelYOffset = _ref.labelYOffset;\n  var theme = useTheme();\n  var _useMotionConfig = useMotionConfig(),\n      animate = _useMotionConfig.animate,\n      springConfig = _useMotionConfig.springConfig;\n  var getLabel = getLabelGenerator(label);\n  var mappedPoints = points.map(function (point) {\n    var mappedPoint = {\n      id: point.id,\n      x: point.x,\n      y: point.y,\n      datum: point.data,\n      fill: point.color,\n      stroke: point.borderColor,\n      label: enableLabel ? getLabel(point.data) : null\n    };\n    return mappedPoint;\n  });\n  if (animate !== true) {\n    return React.createElement(\"g\", null, mappedPoints.map(function (point) {\n      return React.createElement(DotsItem, {\n        key: point.id,\n        x: point.x,\n        y: point.y,\n        datum: point.datum,\n        symbol: symbol,\n        size: size,\n        color: point.fill,\n        borderWidth: borderWidth,\n        borderColor: point.stroke,\n        label: point.label,\n        labelYOffset: labelYOffset,\n        theme: theme\n      });\n    }));\n  }\n  return React.createElement(TransitionMotion, {\n    styles: mappedPoints.map(function (point) {\n      return {\n        key: point.id,\n        data: point,\n        style: {\n          x: spring(point.x, springConfig),\n          y: spring(point.y, springConfig),\n          size: spring(size, springConfig)\n        }\n      };\n    })\n  }, function (interpolatedStyles) {\n    return React.createElement(\"g\", null, interpolatedStyles.map(function (_ref2) {\n      var key = _ref2.key,\n          style = _ref2.style,\n          point = _ref2.data;\n      return React.createElement(DotsItem, _extends({\n        key: key\n      }, style, {\n        symbol: symbol,\n        datum: point.datum,\n        color: point.fill,\n        borderWidth: borderWidth,\n        borderColor: point.stroke,\n        label: point.label,\n        labelYOffset: labelYOffset,\n        theme: theme\n      }));\n    }));\n  });\n};\nPoints.propTypes = {\n  points: PropTypes.arrayOf(PropTypes.object),\n  symbol: PropTypes.func,\n  size: PropTypes.number.isRequired,\n  color: PropTypes.func.isRequired,\n  borderWidth: PropTypes.number.isRequired,\n  borderColor: PropTypes.func.isRequired,\n  enableLabel: PropTypes.bool.isRequired,\n  label: PropTypes.oneOfType([PropTypes.string, PropTypes.func]).isRequired,\n  labelYOffset: PropTypes.number\n};\nPoints.defaultProps = {\n  enableLabel: false,\n  label: 'yFormatted'\n};\nvar Points$1 = memo(Points);\n\nvar Mesh = function Mesh(_ref) {\n  var points = _ref.points,\n      width = _ref.width,\n      height = _ref.height,\n      margin = _ref.margin,\n      setCurrent = _ref.setCurrent,\n      onMouseEnter = _ref.onMouseEnter,\n      onMouseMove = _ref.onMouseMove,\n      onClick = _ref.onClick,\n      tooltip = _ref.tooltip,\n      debug = _ref.debug;\n  var _useTooltip = useTooltip(),\n      showTooltipAt = _useTooltip.showTooltipAt,\n      hideTooltip = _useTooltip.hideTooltip;\n  var handleMouseEnter = useCallback(function (point, event) {\n    showTooltipAt(React.createElement(tooltip, {\n      point: point\n    }), [point.x + margin.left, point.y + margin.top], 'top');\n    setCurrent(point);\n    onMouseEnter && onMouseEnter(point, event);\n  }, [setCurrent, showTooltipAt, tooltip, onMouseEnter, margin]);\n  var handleMouseMove = useCallback(function (point, event) {\n    showTooltipAt(React.createElement(tooltip, {\n      point: point\n    }), [point.x + margin.left, point.y + margin.top], 'top');\n    setCurrent(point);\n    onMouseMove && onMouseMove(point, event);\n  }, [setCurrent, showTooltipAt, tooltip, onMouseMove]);\n  var handleMouseLeave = useCallback(function () {\n    hideTooltip();\n    setCurrent(null);\n  }, [hideTooltip, setCurrent]);\n  var handleClick = useCallback(function (point, event) {\n    onClick && onClick(point, event);\n  }, [onClick]);\n  return React.createElement(Mesh$2, {\n    nodes: points,\n    width: width,\n    height: height,\n    onMouseEnter: handleMouseEnter,\n    onMouseMove: handleMouseMove,\n    onMouseLeave: handleMouseLeave,\n    onClick: handleClick,\n    debug: debug\n  });\n};\nMesh.propTypes = {\n  points: PropTypes.arrayOf(PropTypes.object).isRequired,\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired,\n  margin: PropTypes.object.isRequired,\n  setCurrent: PropTypes.func.isRequired,\n  onMouseEnter: PropTypes.func,\n  onMouseMove: PropTypes.func,\n  onClick: PropTypes.func,\n  tooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n  debug: PropTypes.bool.isRequired\n};\nvar Mesh$1 = memo(Mesh);\n\nfunction _objectSpread$2(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(Object(source)); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$2(target, key, source[key]); }); } return target; }\nfunction _defineProperty$2(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _extends$1() { _extends$1 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$1.apply(this, arguments); }\nfunction _slicedToArray$1(arr, i) { return _arrayWithHoles$1(arr) || _iterableToArrayLimit$1(arr, i) || _nonIterableRest$1(); }\nfunction _nonIterableRest$1() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\nfunction _iterableToArrayLimit$1(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\nfunction _arrayWithHoles$1(arr) { if (Array.isArray(arr)) return arr; }\nvar Line = function Line(props) {\n  var data = props.data,\n      xScaleSpec = props.xScale,\n      xFormat = props.xFormat,\n      yScaleSpec = props.yScale,\n      yFormat = props.yFormat,\n      layers = props.layers,\n      curve = props.curve,\n      areaBaselineValue = props.areaBaselineValue,\n      colors = props.colors,\n      partialMargin = props.margin,\n      width = props.width,\n      height = props.height,\n      axisTop = props.axisTop,\n      axisRight = props.axisRight,\n      axisBottom = props.axisBottom,\n      axisLeft = props.axisLeft,\n      enableGridX = props.enableGridX,\n      enableGridY = props.enableGridY,\n      gridXValues = props.gridXValues,\n      gridYValues = props.gridYValues,\n      lineWidth = props.lineWidth,\n      enableArea = props.enableArea,\n      areaOpacity = props.areaOpacity,\n      areaBlendMode = props.areaBlendMode,\n      enablePoints = props.enablePoints,\n      pointSymbol = props.pointSymbol,\n      pointSize = props.pointSize,\n      pointColor = props.pointColor,\n      pointBorderWidth = props.pointBorderWidth,\n      pointBorderColor = props.pointBorderColor,\n      enablePointLabel = props.enablePointLabel,\n      pointLabel = props.pointLabel,\n      pointLabelFormat = props.pointLabelFormat,\n      pointLabelYOffset = props.pointLabelYOffset,\n      markers = props.markers,\n      legends = props.legends,\n      isInteractive = props.isInteractive,\n      useMesh = props.useMesh,\n      debugMesh = props.debugMesh,\n      onMouseEnter = props.onMouseEnter,\n      onMouseMove = props.onMouseMove,\n      onMouseLeave = props.onMouseLeave,\n      onClick = props.onClick,\n      tooltip = props.tooltip,\n      enableSlices = props.enableSlices,\n      debugSlices = props.debugSlices,\n      sliceTooltip = props.sliceTooltip,\n      enableCrosshair = props.enableCrosshair,\n      crosshairType = props.crosshairType;\n  var _useDimensions = useDimensions(width, height, partialMargin),\n      margin = _useDimensions.margin,\n      innerWidth = _useDimensions.innerWidth,\n      innerHeight = _useDimensions.innerHeight,\n      outerWidth = _useDimensions.outerWidth,\n      outerHeight = _useDimensions.outerHeight;\n  var _useLine = useLine({\n    data: data,\n    xScale: xScaleSpec,\n    xFormat: xFormat,\n    yScale: yScaleSpec,\n    yFormat: yFormat,\n    width: innerWidth,\n    height: innerHeight,\n    colors: colors,\n    curve: curve,\n    areaBaselineValue: areaBaselineValue,\n    pointColor: pointColor,\n    pointBorderColor: pointBorderColor,\n    enableSlices: enableSlices\n  }),\n      lineGenerator = _useLine.lineGenerator,\n      areaGenerator = _useLine.areaGenerator,\n      series = _useLine.series,\n      xScale = _useLine.xScale,\n      yScale = _useLine.yScale,\n      slices = _useLine.slices,\n      points = _useLine.points;\n  var theme = useTheme();\n  var getPointColor = useInheritedColor(pointColor, theme);\n  var getPointBorderColor = useInheritedColor(pointBorderColor, theme);\n  var _useState = useState(null),\n      _useState2 = _slicedToArray$1(_useState, 2),\n      currentPoint = _useState2[0],\n      setCurrentPoint = _useState2[1];\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray$1(_useState3, 2),\n      currentSlice = _useState4[0],\n      setCurrentSlice = _useState4[1];\n  var legendData = useMemo(function () {\n    return series.map(function (line) {\n      return {\n        id: line.id,\n        label: line.id,\n        color: line.color\n      };\n    }).reverse();\n  }, [series]);\n  var layerById = {\n    grid: React.createElement(Grid, {\n      key: \"grid\",\n      theme: theme,\n      width: innerWidth,\n      height: innerHeight,\n      xScale: enableGridX ? xScale : null,\n      yScale: enableGridY ? yScale : null,\n      xValues: gridXValues,\n      yValues: gridYValues\n    }),\n    markers: React.createElement(CartesianMarkers, {\n      key: \"markers\",\n      markers: markers,\n      width: innerWidth,\n      height: innerHeight,\n      xScale: xScale,\n      yScale: yScale,\n      theme: theme\n    }),\n    axes: React.createElement(Axes, {\n      key: \"axes\",\n      xScale: xScale,\n      yScale: yScale,\n      width: innerWidth,\n      height: innerHeight,\n      theme: theme,\n      top: axisTop,\n      right: axisRight,\n      bottom: axisBottom,\n      left: axisLeft\n    }),\n    areas: null,\n    lines: React.createElement(Lines$1, {\n      key: \"lines\",\n      lines: series,\n      lineGenerator: lineGenerator,\n      lineWidth: lineWidth\n    }),\n    slices: null,\n    points: null,\n    crosshair: null,\n    mesh: null,\n    legends: legends.map(function (legend, i) {\n      return React.createElement(BoxLegendSvg, _extends$1({\n        key: \"legend.\".concat(i)\n      }, legend, {\n        containerWidth: innerWidth,\n        containerHeight: innerHeight,\n        data: legend.data || legendData,\n        theme: theme\n      }));\n    })\n  };\n  if (enableArea) {\n    layerById.areas = React.createElement(Areas$1, {\n      key: \"areas\",\n      areaGenerator: areaGenerator,\n      areaOpacity: areaOpacity,\n      areaBlendMode: areaBlendMode,\n      lines: series\n    });\n  }\n  if (isInteractive && enableSlices !== false) {\n    layerById.slices = React.createElement(Slices$1, {\n      key: \"slices\",\n      slices: slices,\n      axis: enableSlices,\n      debug: debugSlices,\n      height: innerHeight,\n      tooltip: sliceTooltip,\n      current: currentSlice,\n      setCurrent: setCurrentSlice\n    });\n  }\n  if (enablePoints) {\n    layerById.points = React.createElement(Points$1, {\n      key: \"points\",\n      points: points,\n      symbol: pointSymbol,\n      size: pointSize,\n      color: getPointColor,\n      borderWidth: pointBorderWidth,\n      borderColor: getPointBorderColor,\n      enableLabel: enablePointLabel,\n      label: pointLabel,\n      labelFormat: pointLabelFormat,\n      labelYOffset: pointLabelYOffset\n    });\n  }\n  if (isInteractive && enableCrosshair) {\n    if (currentPoint !== null) {\n      layerById.crosshair = React.createElement(Crosshair, {\n        key: \"crosshair\",\n        width: innerWidth,\n        height: innerHeight,\n        x: currentPoint.x,\n        y: currentPoint.y,\n        type: crosshairType\n      });\n    }\n    if (currentSlice !== null) {\n      layerById.crosshair = React.createElement(Crosshair, {\n        key: \"crosshair\",\n        width: innerWidth,\n        height: innerHeight,\n        x: currentSlice.x,\n        y: currentSlice.y,\n        type: enableSlices\n      });\n    }\n  }\n  if (isInteractive && useMesh && enableSlices === false) {\n    layerById.mesh = React.createElement(Mesh$1, {\n      key: \"mesh\",\n      points: points,\n      width: innerWidth,\n      height: innerHeight,\n      margin: margin,\n      current: currentPoint,\n      setCurrent: setCurrentPoint,\n      onMouseEnter: onMouseEnter,\n      onMouseMove: onMouseMove,\n      onMouseLeave: onMouseLeave,\n      onClick: onClick,\n      tooltip: tooltip,\n      debug: debugMesh\n    });\n  }\n  return React.createElement(SvgWrapper, {\n    width: outerWidth,\n    height: outerHeight,\n    margin: margin\n  }, layers.map(function (layer, i) {\n    if (typeof layer === 'function') {\n      return React.createElement(Fragment, {\n        key: i\n      }, layer(_objectSpread$2({}, props, {\n        innerWidth: innerWidth,\n        innerHeight: innerHeight,\n        series: series,\n        slices: slices,\n        points: points,\n        xScale: xScale,\n        yScale: yScale,\n        lineGenerator: lineGenerator,\n        areaGenerator: areaGenerator\n      })));\n    }\n    return layerById[layer];\n  }));\n};\nLine.propTypes = LinePropTypes;\nLine.defaultProps = LineDefaultProps;\nvar Line$1 = withContainer(Line);\n\nfunction _extends$2() { _extends$2 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$2.apply(this, arguments); }\nvar ResponsiveLine = function ResponsiveLine(props) {\n  return React.createElement(ResponsiveWrapper, null, function (_ref) {\n    var width = _ref.width,\n        height = _ref.height;\n    return React.createElement(Line$1, _extends$2({\n      width: width,\n      height: height\n    }, props));\n  });\n};\n\nfunction _objectSpread$3(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(Object(source)); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$3(target, key, source[key]); }); } return target; }\nfunction _defineProperty$3(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _slicedToArray$2(arr, i) { return _arrayWithHoles$2(arr) || _iterableToArrayLimit$2(arr, i) || _nonIterableRest$2(); }\nfunction _nonIterableRest$2() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\nfunction _iterableToArrayLimit$2(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\nfunction _arrayWithHoles$2(arr) { if (Array.isArray(arr)) return arr; }\nvar LineCanvas = function LineCanvas(_ref) {\n  var width = _ref.width,\n      height = _ref.height,\n      partialMargin = _ref.margin,\n      pixelRatio = _ref.pixelRatio,\n      data = _ref.data,\n      xScaleSpec = _ref.xScale,\n      xFormat = _ref.xFormat,\n      yScaleSpec = _ref.yScale,\n      yFormat = _ref.yFormat,\n      curve = _ref.curve,\n      layers = _ref.layers,\n      colors = _ref.colors,\n      lineWidth = _ref.lineWidth,\n      enableArea = _ref.enableArea,\n      areaBaselineValue = _ref.areaBaselineValue,\n      areaOpacity = _ref.areaOpacity,\n      enablePoints = _ref.enablePoints,\n      pointSize = _ref.pointSize,\n      pointColor = _ref.pointColor,\n      pointBorderWidth = _ref.pointBorderWidth,\n      pointBorderColor = _ref.pointBorderColor,\n      enableGridX = _ref.enableGridX,\n      gridXValues = _ref.gridXValues,\n      enableGridY = _ref.enableGridY,\n      gridYValues = _ref.gridYValues,\n      axisTop = _ref.axisTop,\n      axisRight = _ref.axisRight,\n      axisBottom = _ref.axisBottom,\n      axisLeft = _ref.axisLeft,\n      legends = _ref.legends,\n      isInteractive = _ref.isInteractive,\n      debugMesh = _ref.debugMesh,\n      onMouseLeave = _ref.onMouseLeave,\n      onClick = _ref.onClick,\n      tooltip = _ref.tooltip;\n  var canvasEl = useRef(null);\n  var _useDimensions = useDimensions(width, height, partialMargin),\n      margin = _useDimensions.margin,\n      innerWidth = _useDimensions.innerWidth,\n      innerHeight = _useDimensions.innerHeight,\n      outerWidth = _useDimensions.outerWidth,\n      outerHeight = _useDimensions.outerHeight;\n  var theme = useTheme();\n  var _useState = useState(null),\n      _useState2 = _slicedToArray$2(_useState, 2),\n      currentPoint = _useState2[0],\n      setCurrentPoint = _useState2[1];\n  var _useLine = useLine({\n    data: data,\n    xScale: xScaleSpec,\n    xFormat: xFormat,\n    yScale: yScaleSpec,\n    yFormat: yFormat,\n    width: innerWidth,\n    height: innerHeight,\n    colors: colors,\n    curve: curve,\n    areaBaselineValue: areaBaselineValue,\n    pointColor: pointColor,\n    pointBorderColor: pointBorderColor\n  }),\n      lineGenerator = _useLine.lineGenerator,\n      areaGenerator = _useLine.areaGenerator,\n      series = _useLine.series,\n      xScale = _useLine.xScale,\n      yScale = _useLine.yScale,\n      points = _useLine.points;\n  var _useVoronoiMesh = useVoronoiMesh({\n    points: points,\n    width: innerWidth,\n    height: innerHeight,\n    debug: debugMesh\n  }),\n      delaunay = _useVoronoiMesh.delaunay,\n      voronoi = _useVoronoiMesh.voronoi;\n  useEffect(function () {\n    canvasEl.current.width = outerWidth * pixelRatio;\n    canvasEl.current.height = outerHeight * pixelRatio;\n    var ctx = canvasEl.current.getContext('2d');\n    ctx.scale(pixelRatio, pixelRatio);\n    ctx.fillStyle = theme.background;\n    ctx.fillRect(0, 0, outerWidth, outerHeight);\n    ctx.translate(margin.left, margin.top);\n    layers.forEach(function (layer) {\n      if (layer === 'grid' && theme.grid.line.strokeWidth > 0) {\n        ctx.lineWidth = theme.grid.line.strokeWidth;\n        ctx.strokeStyle = theme.grid.line.stroke;\n        enableGridX && renderGridLinesToCanvas(ctx, {\n          width: innerWidth,\n          height: innerHeight,\n          scale: xScale,\n          axis: 'x',\n          values: gridXValues\n        });\n        enableGridY && renderGridLinesToCanvas(ctx, {\n          width: innerWidth,\n          height: innerHeight,\n          scale: yScale,\n          axis: 'y',\n          values: gridYValues\n        });\n      }\n      if (layer === 'axes') {\n        renderAxesToCanvas(ctx, {\n          xScale: xScale,\n          yScale: yScale,\n          width: innerWidth,\n          height: innerHeight,\n          top: axisTop,\n          right: axisRight,\n          bottom: axisBottom,\n          left: axisLeft,\n          theme: theme\n        });\n      }\n      if (layer === 'areas' && enableArea === true) {\n        ctx.save();\n        ctx.globalAlpha = areaOpacity;\n        areaGenerator.context(ctx);\n        series.forEach(function (serie) {\n          ctx.fillStyle = serie.color;\n          ctx.beginPath();\n          areaGenerator(serie.data.map(function (d) {\n            return d.position;\n          }));\n          ctx.fill();\n        });\n        ctx.restore();\n      }\n      if (layer === 'lines') {\n        lineGenerator.context(ctx);\n        series.forEach(function (serie) {\n          ctx.strokeStyle = serie.color;\n          ctx.lineWidth = lineWidth;\n          ctx.beginPath();\n          lineGenerator(serie.data.map(function (d) {\n            return d.position;\n          }));\n          ctx.stroke();\n        });\n      }\n      if (layer === 'points' && enablePoints === true && pointSize > 0) {\n        points.forEach(function (point) {\n          ctx.fillStyle = point.color;\n          ctx.beginPath();\n          ctx.arc(point.x, point.y, pointSize / 2, 0, 2 * Math.PI);\n          ctx.fill();\n          if (pointBorderWidth > 0) {\n            ctx.strokeStyle = point.borderColor;\n            ctx.lineWidth = pointBorderWidth;\n            ctx.stroke();\n          }\n        });\n      }\n      if (layer === 'mesh' && debugMesh === true) {\n        renderVoronoiToCanvas(ctx, voronoi);\n        if (currentPoint) {\n          renderVoronoiCellToCanvas(ctx, voronoi, currentPoint.index);\n        }\n      }\n      if (layer === 'legends') {\n        var legendData = series.map(function (serie) {\n          return {\n            id: serie.id,\n            label: serie.id,\n            color: serie.color\n          };\n        }).reverse();\n        legends.forEach(function (legend) {\n          renderLegendToCanvas(ctx, _objectSpread$3({}, legend, {\n            data: legend.data || legendData,\n            containerWidth: innerWidth,\n            containerHeight: innerHeight,\n            theme: theme\n          }));\n        });\n      }\n    });\n  }, [canvasEl, outerWidth, outerHeight, layers, theme, lineGenerator, series, xScale, yScale, enableGridX, gridXValues, enableGridY, gridYValues, axisTop, axisRight, axisBottom, axisLeft, legends, points, enablePoints, pointSize, currentPoint]);\n  var getPointFromMouseEvent = useCallback(function (event) {\n    var _getRelativeCursor = getRelativeCursor(canvasEl.current, event),\n        _getRelativeCursor2 = _slicedToArray$2(_getRelativeCursor, 2),\n        x = _getRelativeCursor2[0],\n        y = _getRelativeCursor2[1];\n    if (!isCursorInRect(margin.left, margin.top, innerWidth, innerHeight, x, y)) return null;\n    var pointIndex = delaunay.find(x - margin.left, y - margin.top);\n    return points[pointIndex];\n  }, [canvasEl, margin, innerWidth, innerHeight, delaunay]);\n  var _useTooltip = useTooltip(),\n      showTooltipFromEvent = _useTooltip.showTooltipFromEvent,\n      hideTooltip = _useTooltip.hideTooltip;\n  var handleMouseHover = useCallback(function (event) {\n    var point = getPointFromMouseEvent(event);\n    setCurrentPoint(point);\n    if (point) {\n      showTooltipFromEvent(React.createElement(tooltip, {\n        point: point\n      }), event);\n    } else {\n      hideTooltip();\n    }\n  }, [getPointFromMouseEvent, setCurrentPoint, showTooltipFromEvent, hideTooltip, tooltip]);\n  var handleMouseLeave = useCallback(function (event) {\n    hideTooltip();\n    setCurrentPoint(null);\n    currentPoint && onMouseLeave && onMouseLeave(currentPoint, event);\n  }, [hideTooltip, setCurrentPoint, onMouseLeave]);\n  var handleClick = useCallback(function (event) {\n    if (onClick) {\n      var point = getPointFromMouseEvent(event);\n      point && onClick(point, event);\n    }\n  }, [getPointFromMouseEvent, onClick]);\n  return React.createElement(\"canvas\", {\n    ref: canvasEl,\n    width: outerWidth * pixelRatio,\n    height: outerHeight * pixelRatio,\n    style: {\n      width: outerWidth,\n      height: outerHeight,\n      cursor: isInteractive ? 'auto' : 'normal'\n    },\n    onMouseEnter: isInteractive ? handleMouseHover : undefined,\n    onMouseMove: isInteractive ? handleMouseHover : undefined,\n    onMouseLeave: isInteractive ? handleMouseLeave : undefined,\n    onClick: isInteractive ? handleClick : undefined\n  });\n};\nLineCanvas.propTypes = LineCanvasPropTypes;\nLineCanvas.defaultProps = LineCanvasDefaultProps;\nvar LineCanvas$1 = withContainer(LineCanvas);\n\nfunction _extends$3() { _extends$3 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$3.apply(this, arguments); }\nvar ResponsiveLineCanvas = function ResponsiveLineCanvas(props) {\n  return React.createElement(ResponsiveWrapper, null, function (_ref) {\n    var width = _ref.width,\n        height = _ref.height;\n    return React.createElement(LineCanvas$1, _extends$3({\n      width: width,\n      height: height\n    }, props));\n  });\n};\n\nexport { Line$1 as Line, LineCanvas$1 as LineCanvas, LineCanvasDefaultProps, LineCanvasPropTypes, LineDefaultProps, LinePropTypes, ResponsiveLine, ResponsiveLineCanvas, useAreaGenerator, useLine, useLineGenerator, useSlices };\n","require('./_typed-array')('Uint32', 4, function (init) {\n  return function Uint32Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphal Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React from 'react'\nimport omit from 'lodash/omit'\nimport SEO from '../../components/seo'\nimport ApiClient from '../../components/components/api-client/ApiClient'\nimport { groups } from '../../data/components/line/props'\nimport mapper from '../../data/components/line/mapper'\nimport defaultSettings from '../../data/components/line/defaults'\nimport { generateLightDataSet } from '../../data/components/line/generator'\nimport meta from '../../data/components/line/meta.yml'\n\nconst data = generateLightDataSet()\n\nconst LineApi = () => {\n    return (\n        <>\n            <SEO title=\"Line HTTP API\" keywords={[...meta.Line.tags, 'HTTP API']} />\n            <ApiClient\n                componentName=\"Line\"\n                apiPath=\"/charts/line\"\n                flavors={meta.flavors}\n                chartClass=\"line\"\n                dataProperty=\"data\"\n                controlGroups={groups}\n                propsMapper={mapper}\n                defaultProps={{\n                    ...omit(defaultSettings, [\n                        'isInteractive',\n                        'enableSlices',\n                        'debugSlices',\n                        'enableCrosshair',\n                        'crosshairType',\n                    ]),\n                    data: JSON.stringify(data, null, '  '),\n                }}\n            />\n        </>\n    )\n}\n\nexport default LineApi\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphal Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { lineCurvePropKeys, DotsItemDefaultProps as dotDefaults } from '@nivo/core'\nimport { LineDefaultProps as defaults } from '@nivo/line'\nimport {\n    axesProperties,\n    motionProperties,\n    getLegendsProps,\n    groupProperties,\n} from '../../../lib/componentProperties'\n\nconst props = [\n    {\n        key: 'data',\n        group: 'Base',\n        help: 'Chart data.',\n        description: `\n            Chart data, which must conform to this structure:\n            \\`\\`\\`\n            Array<{\n                id:   string | number\n                data: Array<{\n                    x: number | string | Date\n                    y: number | string | Date\n                }>\n            }>\n            \\`\\`\\`\n        `,\n        required: true,\n        type: 'object[]',\n    },\n    {\n        key: 'xScale',\n        type: 'object',\n        group: 'Base',\n        help: `X scale configuration, see [dedicated guide for scales](self:/guides/scales).`,\n        controlType: 'object',\n        controlOptions: {\n            props: [\n                {\n                    key: 'type',\n                    help: `Scale type.`,\n                    type: 'string',\n                    controlType: 'choices',\n                    controlOptions: {\n                        disabled: true,\n                        choices: ['linear', 'point'].map(v => ({\n                            label: v,\n                            value: v,\n                        })),\n                    },\n                },\n            ],\n        },\n    },\n    {\n        key: 'xFormat',\n        group: 'Base',\n        help: 'Optional formatter for x values.',\n        description: `\n            The formatted value can then be used for labels & tooltips.\n\n            If you use a time scale, you must provide a time format\n            as values are converted to Date objects.\n            \n            Under the hood, nivo uses [d3-format](https://github.com/d3/d3-format),\n            please have a look at it for available formats, you can also pass a function\n            which will receive the raw value and should return the formatted one.\n        `,\n        required: false,\n        type: 'Function | string',\n    },\n    {\n        key: 'yScale',\n        type: 'object',\n        help: `Y scale configuration, see [dedicated guide for scales](self:/guides/scales).`,\n        group: 'Base',\n        controlType: 'object',\n        controlOptions: {\n            props: [\n                {\n                    key: 'type',\n                    help: `Scale type.`,\n                    type: 'string',\n                    controlType: 'choices',\n                    controlOptions: {\n                        disabled: true,\n                        choices: ['linear', 'point'].map(v => ({\n                            label: v,\n                            value: v,\n                        })),\n                    },\n                },\n                {\n                    key: 'stacked',\n                    help: 'Enable/disable stacked mode.',\n                    type: 'boolean',\n                    required: false,\n                    controlType: 'switch',\n                },\n                {\n                    key: 'min',\n                    help: 'Minimum scale value.',\n                    required: false,\n                    type: `number | 'auto'`,\n                    controlType: 'switchableRange',\n                    controlOptions: {\n                        disabledValue: 'auto',\n                        defaultValue: 0,\n                        min: -2000,\n                        max: 2000,\n                    },\n                },\n                {\n                    key: 'max',\n                    help: 'Maximum scale value.',\n                    required: false,\n                    type: `number | 'auto'`,\n                    controlType: 'switchableRange',\n                    controlOptions: {\n                        disabledValue: 'auto',\n                        defaultValue: 1200,\n                        min: -2000,\n                        max: 2000,\n                    },\n                },\n            ],\n        },\n    },\n    {\n        key: 'yFormat',\n        group: 'Base',\n        help: 'Optional formatter for y values.',\n        description: `\n            The formatted value can then be used for labels & tooltips.\n\n            If you use a time scale, you must provide a time format\n            as values are converted to Date objects.\n            \n            Under the hood, nivo uses [d3-format](https://github.com/d3/d3-format),\n            please have a look at it for available formats, you can also pass a function\n            which will receive the raw value and should return the formatted one.\n        `,\n        required: false,\n        type: 'Function | string',\n    },\n    {\n        key: 'width',\n        enableControlForFlavors: ['api'],\n        help: 'Chart width, not required when using responsive variant.',\n        type: 'number',\n        required: true,\n        controlType: 'range',\n        group: 'Base',\n        controlOptions: {\n            unit: 'px',\n            min: 100,\n            max: 1000,\n            step: 5,\n        },\n    },\n    {\n        key: 'height',\n        enableControlForFlavors: ['api'],\n        help: 'Chart height, not required when using responsive variant.',\n        type: 'number',\n        required: true,\n        controlType: 'range',\n        group: 'Base',\n        controlOptions: {\n            unit: 'px',\n            min: 100,\n            max: 1000,\n            step: 5,\n        },\n    },\n    {\n        key: 'margin',\n        help: 'Chart margin.',\n        type: 'object',\n        required: false,\n        controlType: 'margin',\n        group: 'Base',\n    },\n    {\n        key: 'curve',\n        help: 'Curve interpolation.',\n        description: `\n            Defines the curve factory to use for the line generator.\n        `,\n        type: 'string',\n        required: false,\n        defaultValue: defaults.curve,\n        controlType: 'choices',\n        group: 'Style',\n        controlOptions: {\n            choices: lineCurvePropKeys.map(key => ({\n                label: key,\n                value: key,\n            })),\n        },\n    },\n    {\n        key: 'colors',\n        help: 'Defines color range.',\n        type: 'string | Function | string[]',\n        required: false,\n        defaultValue: defaults.colors,\n        controlType: 'ordinalColors',\n        group: 'Style',\n    },\n    {\n        key: 'lineWidth',\n        help: 'Line width.',\n        type: 'number',\n        required: false,\n        defaultValue: defaults.lineWidth,\n        controlType: 'lineWidth',\n        group: 'Style',\n    },\n    {\n        key: 'enableArea',\n        help: 'Enable/disable area below each line.',\n        type: 'boolean',\n        required: false,\n        defaultValue: defaults.enableArea,\n        controlType: 'switch',\n        group: 'Style',\n    },\n    {\n        key: 'areaBaselineValue',\n        help: 'Define the value to be used for area baseline.',\n        description: `\n            Define the value to be used for area baseline.\n            Please note that this value isn't the\n            position of the baseline but the value used\n            to compute it.\n        `,\n        type: 'number | string | Date',\n        required: false,\n        defaultValue: defaults.areaBaselineValue,\n        controlType: 'range',\n        group: 'Style',\n        controlOptions: {\n            min: 0,\n            max: 200,\n            step: 10,\n        },\n    },\n    {\n        key: 'areaOpacity',\n        help: 'Area opacity (0~1), depends on enableArea.',\n        required: false,\n        defaultValue: defaults.areaOpacity,\n        type: 'number',\n        controlType: 'opacity',\n        group: 'Style',\n    },\n    {\n        key: 'areaBlendMode',\n        flavors: ['svg'],\n        help: 'Defines CSS mix-blend-mode property.',\n        description: `\n            Defines CSS \\`mix-blend-mode\\` property for areas,\n            see\n            [MDN documentation](https://developer.mozilla.org/fr/docs/Web/CSS/mix-blend-mode).\n        `,\n        type: 'string',\n        required: false,\n        defaultValue: defaults.areaBlendMode,\n        controlType: 'blendMode',\n        group: 'Style',\n    },\n    {\n        key: 'layers',\n        group: 'Customization',\n        help: 'Defines the order of layers and add custom layers.',\n        description: `\n            You can also use this property to insert extra layers\n            to the chart, this extra layer must be\n            a function which will receive the chart\n            computed data and must return a valid SVG element.\n        `,\n        required: false,\n        defaultValue: defaults.layers,\n    },\n    {\n        key: 'enablePoints',\n        help: 'Enable/disable points.',\n        type: 'boolean',\n        required: false,\n        defaultValue: defaults.enablePoints,\n        controlType: 'switch',\n        group: 'Points',\n    },\n    {\n        key: 'pointSymbol',\n        flavors: ['svg'],\n        help:\n            'Overrides default point circle. The function will receive `size`, `color`, `borderWidth` and `borderColor` props and must return a valid SVG element.',\n        type: 'Function',\n        required: false,\n        group: 'Points',\n    },\n    {\n        key: 'pointSize',\n        help: 'Size of the points.',\n        type: 'number',\n        required: false,\n        defaultValue: defaults.pointSize,\n        controlType: 'range',\n        group: 'Points',\n        controlOptions: {\n            unit: 'px',\n            min: 2,\n            max: 20,\n        },\n    },\n    {\n        key: 'pointColor',\n        help: 'Method to compute points color.',\n        type: 'string | object | Function',\n        required: false,\n        defaultValue: defaults.pointColor,\n        controlType: 'inheritedColor',\n        group: 'Points',\n    },\n    {\n        key: 'pointBorderWidth',\n        help: 'Width of the points border.',\n        type: 'number',\n        required: false,\n        defaultValue: defaults.pointBorderWidth,\n        controlType: 'lineWidth',\n        group: 'Points',\n    },\n    {\n        key: 'pointBorderColor',\n        help: 'Method to compute points border color.',\n        type: 'string | object | Function',\n        required: false,\n        defaultValue: defaults.pointBorderColor,\n        controlType: 'inheritedColor',\n        group: 'Points',\n    },\n    {\n        key: 'enablePointLabel',\n        flavors: ['svg', 'api'],\n        group: 'Points',\n        help: 'Enable/disable points label.',\n        type: 'boolean',\n        required: false,\n        defaultValue: defaults.enablePointLabel,\n        controlType: 'switch',\n    },\n    {\n        key: 'pointLabel',\n        flavors: ['svg', 'api'],\n        group: 'Points',\n        help:\n            'Property to use to determine point label. If a function is provided, it will receive current point data and should return the desired label.',\n        type: 'string',\n        required: false,\n        controlType: 'choices',\n        controlOptions: {\n            choices: ['y', 'yFormatted', 'x', 'xFormatted', `d => \\`\\${d.x}: \\${d.y}\\``].map(\n                choice => ({\n                    label: choice,\n                    value: choice,\n                })\n            ),\n        },\n    },\n    {\n        key: 'pointLabelYOffset',\n        flavors: ['svg', 'api'],\n        group: 'Points',\n        help: 'Label Y offset from point shape.',\n        type: 'number',\n        required: false,\n        defaultValue: dotDefaults.labelYOffset,\n        controlType: 'range',\n        controlOptions: {\n            unit: 'px',\n            min: -24,\n            max: 24,\n        },\n    },\n    {\n        key: 'enableGridX',\n        help: 'Enable/disable x grid.',\n        type: 'boolean',\n        required: false,\n        defaultValue: defaults.enableGridX,\n        controlType: 'switch',\n        group: 'Grid & Axes',\n    },\n    {\n        key: 'gridXValues',\n        group: 'Grid & Axes',\n        help: 'Specify values to use for vertical grid lines.',\n        type: 'Array<number | string | Date>',\n        required: false,\n    },\n    {\n        key: 'enableGridY',\n        help: 'Enable/disable y grid.',\n        type: 'boolean',\n        required: false,\n        defaultValue: defaults.enableGridY,\n        controlType: 'switch',\n        group: 'Grid & Axes',\n    },\n    {\n        key: 'gridYValues',\n        group: 'Grid & Axes',\n        help: 'Specify values to use for horizontal grid lines.',\n        type: 'Array<number | string | Date>',\n        required: false,\n    },\n    ...axesProperties(),\n    {\n        key: 'isInteractive',\n        flavors: ['svg', 'canvas'],\n        help: 'Enable/disable interactivity.',\n        type: 'boolean',\n        required: false,\n        defaultValue: defaults.isInteractive,\n        controlType: 'switch',\n        group: 'Interactivity',\n    },\n    {\n        key: 'useMesh',\n        flavors: ['svg'],\n        help: 'Use a voronoi mesh to detect mouse interactions, enableSlices must be disabled',\n        type: 'boolean',\n        required: false,\n        defaultValue: defaults.useMesh,\n        controlType: 'switch',\n        group: 'Interactivity',\n    },\n    {\n        key: 'debugMesh',\n        flavors: ['svg', 'canvas'],\n        help: 'Display mesh used to detect mouse interactions (voronoi cells).',\n        type: 'boolean',\n        required: false,\n        defaultValue: defaults.debugMesh,\n        controlType: 'switch',\n        group: 'Interactivity',\n    },\n    {\n        key: 'onMouseEnter',\n        flavors: ['svg'],\n        group: 'Interactivity',\n        help: `onMouseEnter handler, doesn't work with slice tooltip.`,\n        type: '(point, event) => void',\n        required: false,\n    },\n    {\n        key: 'onMouseMove',\n        flavors: ['svg'],\n        group: 'Interactivity',\n        help: `onMouseMove handler, doesn't work with slice tooltip.`,\n        type: '(point, event) => void',\n        required: false,\n    },\n    {\n        key: 'onMouseLeave',\n        flavors: ['svg', 'canvas'],\n        group: 'Interactivity',\n        help: `onMouseLeave handler, doesn't work with slice tooltip.`,\n        type: '(point, event) => void',\n        required: false,\n    },\n    {\n        key: 'onClick',\n        flavors: ['svg', 'canvas'],\n        group: 'Interactivity',\n        help: `onClick handler, doesn't work with slice tooltip.`,\n        type: '(point, event) => void',\n        required: false,\n    },\n    {\n        key: 'tooltip',\n        flavors: ['svg', 'canvas'],\n        group: 'Interactivity',\n        help: `Custom point tooltip`,\n        type: 'Function',\n        required: false,\n    },\n    {\n        key: 'enableSlices',\n        group: 'Interactivity',\n        flavors: ['svg'],\n        help: `Enable/disable slices tooltip for x or y axis, automatically disable mesh.`,\n        type: `'x' | 'y' | false`,\n        required: false,\n        defaultValue: defaults.enableSlicesTooltip,\n        controlType: 'choices',\n        controlOptions: {\n            choices: [\n                {\n                    label: 'false',\n                    value: false,\n                },\n                {\n                    label: 'x',\n                    value: 'x',\n                },\n                {\n                    label: 'y',\n                    value: 'y',\n                },\n            ],\n        },\n    },\n    {\n        key: 'debugSlices',\n        flavors: ['svg'],\n        help: 'Display area used to detect mouse interactions for slices.',\n        type: 'boolean',\n        required: false,\n        defaultValue: defaults.debugSlices,\n        controlType: 'switch',\n        group: 'Interactivity',\n    },\n    {\n        key: 'sliceTooltip',\n        flavors: ['svg', 'canvas'],\n        group: 'Interactivity',\n        help: `Custom slice tooltip`,\n        type: 'Function',\n        required: false,\n    },\n    {\n        key: 'enableCrosshair',\n        flavors: ['svg'],\n        group: 'Interactivity',\n        help: 'Enable/disable crosshair.',\n        type: 'boolean',\n        required: false,\n        controlType: 'switch',\n        defaultValue: defaults.enableCrosshair,\n    },\n    {\n        key: 'crosshairType',\n        flavors: ['svg'],\n        group: 'Interactivity',\n        required: false,\n        defaultValue: defaults.crosshairType,\n        help: `Crosshair type, forced to slices axis if enabled.`,\n        type: 'string',\n        controlType: 'choices',\n        controlOptions: {\n            disabled: true,\n            choices: [\n                'x',\n                'y',\n                'top-left',\n                'top',\n                'top-right',\n                'right',\n                'bottom-right',\n                'bottom',\n                'bottom-left',\n                'left',\n                'cross',\n            ].map(v => ({\n                label: v,\n                value: v,\n            })),\n        },\n    },\n    {\n        key: 'legends',\n        flavors: ['svg', 'canvas'],\n        type: 'object[]',\n        help: `Optional chart's legends.`,\n        group: 'Legends',\n        controlType: 'array',\n        controlOptions: {\n            props: getLegendsProps(['svg', 'canvas']),\n            shouldCreate: true,\n            addLabel: 'add legend',\n            shouldRemove: true,\n            getItemTitle: (index, legend) =>\n                `legend[${index}]: ${legend.anchor}, ${legend.direction}`,\n            defaults: {\n                anchor: 'left',\n                direction: 'column',\n                justify: false,\n                translateX: 0,\n                translateY: 0,\n                itemWidth: 100,\n                itemHeight: 20,\n                itemsSpacing: 4,\n                symbolSize: 20,\n                symbolShape: 'circle',\n                itemDirection: 'left-to-right',\n                itemTextColor: '#777',\n                onClick: data => {\n                    alert(JSON.stringify(data, null, '    '))\n                },\n                effects: [\n                    {\n                        on: 'hover',\n                        style: {\n                            itemBackground: 'rgba(0, 0, 0, .03)',\n                            itemOpacity: 1,\n                        },\n                    },\n                ],\n            },\n        },\n    },\n    ...motionProperties(['svg'], defaults),\n]\n\nexport const groups = groupProperties(props)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphal Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport range from 'lodash/range'\nimport { generateSeries } from '@nivo/generators'\n\nexport const generateLightDataSet = () => {\n    return generateSeries(\n        ['japan', 'france', 'us', 'germany', 'norway'],\n        [\n            'plane',\n            'helicopter',\n            'boat',\n            'train',\n            'subway',\n            'bus',\n            'car',\n            'moto',\n            'bicycle',\n            'horse',\n            'skateboard',\n            'others',\n        ]\n    )\n}\n\nexport const generateHeavyDataSet = () => {\n    return generateSeries(\n        [\n            'japan',\n            'brazil',\n            'france',\n            'us',\n            'germany',\n            'norway',\n            'china',\n            'algeria',\n            'mexico',\n            'finland',\n            'australia',\n        ],\n        range(121)\n    )\n}\n","require('./_typed-array')('Int32', 4, function (init) {\n  return function Int32Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphal Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { settingsMapper, mapAxis } from '../../../lib/settings'\n\nexport default settingsMapper(\n    {\n        pointLabel: value => {\n            if (value === `d => \\`\\${d.x}: \\${d.y}\\``) return d => `${d.x}: ${d.y}`\n            return value\n        },\n        axisTop: mapAxis('top'),\n        axisRight: mapAxis('right'),\n        axisBottom: mapAxis('bottom'),\n        axisLeft: mapAxis('left'),\n    },\n    {\n        exclude: ['enable axisTop', 'enable axisRight', 'enable axisBottom', 'enable axisLeft'],\n    }\n)\n","import React, { memo, useMemo, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Motion, spring, TransitionMotion } from 'react-motion';\nimport { textPropsByEngine, useTheme, useMotionConfig } from '@nivo/core';\nimport isNumber from 'lodash/isNumber';\nimport { timeMillisecond, utcMillisecond, timeSecond, utcSecond, timeMinute, utcMinute, timeHour, utcHour, timeDay, utcDay, timeWeek, utcWeek, timeSunday, utcSunday, timeMonday, utcMonday, timeTuesday, utcTuesday, timeWednesday, utcWednesday, timeThursday, utcThursday, timeFriday, utcFriday, timeSaturday, utcSaturday, timeMonth, utcMonth, timeYear, utcYear } from 'd3-time';\nimport { timeFormat } from 'd3-time-format';\nimport { format } from 'd3-format';\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(Object(source)); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar centerScale = function centerScale(scale) {\n  var bandwidth = scale.bandwidth();\n  if (bandwidth === 0) return scale;\n  var offset = bandwidth / 2;\n  if (scale.round()) {\n    offset = Math.round(offset);\n  }\n  return function (d) {\n    return scale(d) + offset;\n  };\n};\nvar timeByType = {\n  millisecond: [timeMillisecond, utcMillisecond],\n  second: [timeSecond, utcSecond],\n  minute: [timeMinute, utcMinute],\n  hour: [timeHour, utcHour],\n  day: [timeDay, utcDay],\n  week: [timeWeek, utcWeek],\n  sunday: [timeSunday, utcSunday],\n  monday: [timeMonday, utcMonday],\n  tuesday: [timeTuesday, utcTuesday],\n  wednesday: [timeWednesday, utcWednesday],\n  thursday: [timeThursday, utcThursday],\n  friday: [timeFriday, utcFriday],\n  saturday: [timeSaturday, utcSaturday],\n  month: [timeMonth, utcMonth],\n  year: [timeYear, utcYear]\n};\nvar timeTypes = Object.keys(timeByType);\nvar timeIntervalRegexp = new RegExp(\"^every\\\\s*(\\\\d+)?\\\\s*(\".concat(timeTypes.join('|'), \")s?$\"), 'i');\nvar getScaleTicks = function getScaleTicks(scale, spec) {\n  if (Array.isArray(spec)) {\n    return spec;\n  }\n  if (scale.ticks) {\n    if (spec === undefined) {\n      return scale.ticks();\n    }\n    if (isNumber(spec)) {\n      return scale.ticks(spec);\n    }\n    if (typeof spec === 'string') {\n      var matches = spec.match(timeIntervalRegexp);\n      if (matches) {\n        var timeType = timeByType[matches[2]][scale.useUTC ? 1 : 0];\n        if (matches[1] === undefined) {\n          return scale.ticks(timeType);\n        }\n        return scale.ticks(timeType.every(Number(matches[1])));\n      }\n      throw new Error(\"Invalid tickValues: \".concat(spec));\n    }\n  }\n  return scale.domain();\n};\nvar computeCartesianTicks = function computeCartesianTicks(_ref) {\n  var axis = _ref.axis,\n      scale = _ref.scale,\n      ticksPosition = _ref.ticksPosition,\n      tickValues = _ref.tickValues,\n      tickSize = _ref.tickSize,\n      tickPadding = _ref.tickPadding,\n      tickRotation = _ref.tickRotation,\n      _ref$engine = _ref.engine,\n      engine = _ref$engine === void 0 ? 'svg' : _ref$engine;\n  var values = getScaleTicks(scale, tickValues);\n  var textProps = textPropsByEngine[engine];\n  var position = scale.bandwidth ? centerScale(scale) : scale;\n  var line = {\n    lineX: 0,\n    lineY: 0\n  };\n  var text = {\n    textX: 0,\n    textY: 0\n  };\n  var translate;\n  var textAlign = textProps.align.center;\n  var textBaseline = textProps.baseline.center;\n  if (axis === 'x') {\n    translate = function translate(d) {\n      return {\n        x: position(d),\n        y: 0\n      };\n    };\n    line.lineY = tickSize * (ticksPosition === 'after' ? 1 : -1);\n    text.textY = (tickSize + tickPadding) * (ticksPosition === 'after' ? 1 : -1);\n    if (ticksPosition === 'after') {\n      textBaseline = textProps.baseline.top;\n    } else {\n      textBaseline = textProps.baseline.bottom;\n    }\n    if (tickRotation === 0) {\n      textAlign = textProps.align.center;\n    } else if (ticksPosition === 'after' && tickRotation < 0 || ticksPosition === 'before' && tickRotation > 0) {\n      textAlign = textProps.align.right;\n      textBaseline = textProps.baseline.center;\n    } else if (ticksPosition === 'after' && tickRotation > 0 || ticksPosition === 'before' && tickRotation < 0) {\n      textAlign = textProps.align.left;\n      textBaseline = textProps.baseline.center;\n    }\n  } else {\n    translate = function translate(d) {\n      return {\n        x: 0,\n        y: position(d)\n      };\n    };\n    line.lineX = tickSize * (ticksPosition === 'after' ? 1 : -1);\n    text.textX = (tickSize + tickPadding) * (ticksPosition === 'after' ? 1 : -1);\n    if (ticksPosition === 'after') {\n      textAlign = textProps.align.left;\n    } else {\n      textAlign = textProps.align.right;\n    }\n  }\n  var ticks = values.map(function (value) {\n    return _objectSpread({\n      key: value,\n      value: value\n    }, translate(value), line, text);\n  });\n  return {\n    ticks: ticks,\n    textAlign: textAlign,\n    textBaseline: textBaseline\n  };\n};\nvar getFormatter = function getFormatter(format$1, scale) {\n  if (!format$1 || typeof format$1 === 'function') return format$1;\n  if (scale.type === 'time') {\n    var f = timeFormat(format$1);\n    return function (d) {\n      return f(new Date(d));\n    };\n  }\n  return format(format$1);\n};\nvar computeGridLines = function computeGridLines(_ref2) {\n  var width = _ref2.width,\n      height = _ref2.height,\n      scale = _ref2.scale,\n      axis = _ref2.axis,\n      _values = _ref2.values;\n  var lineValues = Array.isArray(_values) ? _values : undefined;\n  var lineCount = isNumber(_values) ? _values : undefined;\n  var values = lineValues || getScaleTicks(scale, lineCount);\n  var position = scale.bandwidth ? centerScale(scale) : scale;\n  var lines;\n  if (axis === 'x') {\n    lines = values.map(function (v) {\n      return {\n        key: \"\".concat(v),\n        x1: position(v),\n        x2: position(v),\n        y1: 0,\n        y2: height\n      };\n    });\n  } else if (axis === 'y') {\n    lines = values.map(function (v) {\n      return {\n        key: \"\".concat(v),\n        x1: 0,\n        x2: width,\n        y1: position(v),\n        y2: position(v)\n      };\n    });\n  }\n  return lines;\n};\n\nvar axisPropTypes = {\n  ticksPosition: PropTypes.oneOf(['before', 'after']),\n  tickValues: PropTypes.oneOfType([PropTypes.number, PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)])), PropTypes.string]),\n  tickSize: PropTypes.number,\n  tickPadding: PropTypes.number,\n  tickRotation: PropTypes.number,\n  format: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  renderTick: PropTypes.func,\n  legend: PropTypes.node,\n  legendPosition: PropTypes.oneOf(['start', 'middle', 'end']),\n  legendOffset: PropTypes.number\n};\nvar axisPropType = PropTypes.shape(axisPropTypes);\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nvar AxisTick = function AxisTick(_ref) {\n  var _value = _ref.value,\n      x = _ref.x,\n      y = _ref.y,\n      opacity = _ref.opacity,\n      rotate = _ref.rotate,\n      format = _ref.format,\n      lineX = _ref.lineX,\n      lineY = _ref.lineY,\n      _onClick = _ref.onClick,\n      textX = _ref.textX,\n      textY = _ref.textY,\n      textBaseline = _ref.textBaseline,\n      textAnchor = _ref.textAnchor;\n  var theme = useTheme();\n  var value = _value;\n  if (format !== undefined) {\n    value = format(value);\n  }\n  var gStyle = {\n    opacity: opacity\n  };\n  if (_onClick) {\n    gStyle['cursor'] = 'pointer';\n  }\n  return React.createElement(\"g\", _extends({\n    transform: \"translate(\".concat(x, \",\").concat(y, \")\")\n  }, _onClick ? {\n    onClick: function onClick(e) {\n      return _onClick(e, value);\n    }\n  } : {}, {\n    style: gStyle\n  }), React.createElement(\"line\", {\n    x1: 0,\n    x2: lineX,\n    y1: 0,\n    y2: lineY,\n    style: theme.axis.ticks.line\n  }), React.createElement(\"text\", {\n    dominantBaseline: textBaseline,\n    textAnchor: textAnchor,\n    transform: \"translate(\".concat(textX, \",\").concat(textY, \") rotate(\").concat(rotate, \")\"),\n    style: theme.axis.ticks.text\n  }, value));\n};\nAxisTick.propTypes = {\n  value: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)]).isRequired,\n  format: PropTypes.func,\n  x: PropTypes.number.isRequired,\n  y: PropTypes.number.isRequired,\n  lineX: PropTypes.number.isRequired,\n  lineY: PropTypes.number.isRequired,\n  textX: PropTypes.number.isRequired,\n  textY: PropTypes.number.isRequired,\n  textBaseline: PropTypes.string.isRequired,\n  textAnchor: PropTypes.string.isRequired,\n  opacity: PropTypes.number.isRequired,\n  rotate: PropTypes.number.isRequired,\n  onClick: PropTypes.func\n};\nAxisTick.defaultProps = {\n  opacity: 1,\n  rotate: 0\n};\nvar AxisTick$1 = memo(AxisTick);\n\nfunction _extends$1() { _extends$1 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$1.apply(this, arguments); }\nfunction _objectSpread$1(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(Object(source)); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$1(target, key, source[key]); }); } return target; }\nfunction _defineProperty$1(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar willEnter = function willEnter() {\n  return {\n    rotate: 0,\n    opacity: 0,\n    x: 0,\n    y: 0\n  };\n};\nvar willLeave = function willLeave(springConfig) {\n  return function (_ref) {\n    var _ref$style = _ref.style,\n        x = _ref$style.x,\n        y = _ref$style.y,\n        rotate = _ref$style.rotate;\n    return {\n      rotate: rotate,\n      opacity: spring(0, springConfig),\n      x: spring(x.val, springConfig),\n      y: spring(y.val, springConfig)\n    };\n  };\n};\nvar defaultTickRenderer = function defaultTickRenderer(props) {\n  return React.createElement(AxisTick$1, props);\n};\nvar Axis = function Axis(_ref2) {\n  var axis = _ref2.axis,\n      scale = _ref2.scale,\n      x = _ref2.x,\n      y = _ref2.y,\n      length = _ref2.length,\n      ticksPosition = _ref2.ticksPosition,\n      tickValues = _ref2.tickValues,\n      tickSize = _ref2.tickSize,\n      tickPadding = _ref2.tickPadding,\n      tickRotation = _ref2.tickRotation,\n      format = _ref2.format,\n      renderTick = _ref2.renderTick,\n      legend = _ref2.legend,\n      legendPosition = _ref2.legendPosition,\n      legendOffset = _ref2.legendOffset,\n      onClick = _ref2.onClick;\n  var theme = useTheme();\n  var _useMotionConfig = useMotionConfig(),\n      animate = _useMotionConfig.animate,\n      springConfig = _useMotionConfig.springConfig;\n  var formatValue = useMemo(function () {\n    return getFormatter(format, scale);\n  }, [format, scale]);\n  var _computeCartesianTick = computeCartesianTicks({\n    axis: axis,\n    scale: scale,\n    ticksPosition: ticksPosition,\n    tickValues: tickValues,\n    tickSize: tickSize,\n    tickPadding: tickPadding,\n    tickRotation: tickRotation\n  }),\n      ticks = _computeCartesianTick.ticks,\n      textAlign = _computeCartesianTick.textAlign,\n      textBaseline = _computeCartesianTick.textBaseline;\n  var legendNode = null;\n  if (legend !== undefined) {\n    var legendX = 0;\n    var legendY = 0;\n    var legendRotation = 0;\n    var textAnchor;\n    if (axis === 'y') {\n      legendRotation = -90;\n      legendX = legendOffset;\n      if (legendPosition === 'start') {\n        textAnchor = 'start';\n        legendY = length;\n      } else if (legendPosition === 'middle') {\n        textAnchor = 'middle';\n        legendY = length / 2;\n      } else if (legendPosition === 'end') {\n        textAnchor = 'end';\n      }\n    } else {\n      legendY = legendOffset;\n      if (legendPosition === 'start') {\n        textAnchor = 'start';\n      } else if (legendPosition === 'middle') {\n        textAnchor = 'middle';\n        legendX = length / 2;\n      } else if (legendPosition === 'end') {\n        textAnchor = 'end';\n        legendX = length;\n      }\n    }\n    legendNode = React.createElement(\"text\", {\n      transform: \"translate(\".concat(legendX, \", \").concat(legendY, \") rotate(\").concat(legendRotation, \")\"),\n      textAnchor: textAnchor,\n      style: _objectSpread$1({\n        dominantBaseline: 'central'\n      }, theme.axis.legend.text)\n    }, legend);\n  }\n  if (animate !== true) {\n    return React.createElement(\"g\", {\n      transform: \"translate(\".concat(x, \",\").concat(y, \")\")\n    }, ticks.map(function (tick, tickIndex) {\n      return React.createElement(renderTick, _objectSpread$1({\n        tickIndex: tickIndex,\n        format: formatValue,\n        rotate: tickRotation,\n        textBaseline: textBaseline,\n        textAnchor: textAlign\n      }, tick, onClick ? {\n        onClick: onClick\n      } : {}));\n    }), React.createElement(\"line\", {\n      style: theme.axis.domain.line,\n      x1: 0,\n      x2: axis === 'x' ? length : 0,\n      y1: 0,\n      y2: axis === 'x' ? 0 : length\n    }), legendNode);\n  }\n  return React.createElement(Motion, {\n    style: {\n      x: spring(x, springConfig),\n      y: spring(y, springConfig)\n    }\n  }, function (xy) {\n    return React.createElement(\"g\", {\n      transform: \"translate(\".concat(xy.x, \",\").concat(xy.y, \")\")\n    }, React.createElement(TransitionMotion, {\n      willEnter: willEnter,\n      willLeave: willLeave(springConfig),\n      styles: ticks.map(function (tick) {\n        return {\n          key: \"\".concat(tick.key),\n          data: tick,\n          style: {\n            opacity: spring(1, springConfig),\n            x: spring(tick.x, springConfig),\n            y: spring(tick.y, springConfig),\n            rotate: spring(tickRotation, springConfig)\n          }\n        };\n      })\n    }, function (interpolatedStyles) {\n      return React.createElement(Fragment, null, interpolatedStyles.map(function (_ref3, tickIndex) {\n        var style = _ref3.style,\n            tick = _ref3.data;\n        return React.createElement(renderTick, _objectSpread$1({\n          tickIndex: tickIndex,\n          format: formatValue,\n          textBaseline: textBaseline,\n          textAnchor: textAlign\n        }, tick, style, onClick ? {\n          onClick: onClick\n        } : {}));\n      }));\n    }), React.createElement(Motion, {\n      style: {\n        x2: spring(axis === 'x' ? length : 0, springConfig),\n        y2: spring(axis === 'x' ? 0 : length, springConfig)\n      }\n    }, function (values) {\n      return React.createElement(\"line\", _extends$1({\n        style: theme.axis.domain.line,\n        x1: 0,\n        y1: 0\n      }, values));\n    }), legendNode);\n  });\n};\nAxis.propTypes = {\n  axis: PropTypes.oneOf(['x', 'y']).isRequired,\n  scale: PropTypes.func.isRequired,\n  x: PropTypes.number.isRequired,\n  y: PropTypes.number.isRequired,\n  length: PropTypes.number.isRequired,\n  ticksPosition: PropTypes.oneOf(['before', 'after']).isRequired,\n  tickValues: axisPropTypes.tickValues,\n  tickSize: PropTypes.number.isRequired,\n  tickPadding: PropTypes.number.isRequired,\n  tickRotation: PropTypes.number.isRequired,\n  format: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  renderTick: PropTypes.func.isRequired,\n  legend: PropTypes.node,\n  legendPosition: PropTypes.oneOf(['start', 'middle', 'end']).isRequired,\n  legendOffset: PropTypes.number.isRequired,\n  onClick: PropTypes.func\n};\nAxis.defaultProps = {\n  x: 0,\n  y: 0,\n  tickSize: 5,\n  tickPadding: 5,\n  tickRotation: 0,\n  renderTick: defaultTickRenderer,\n  legendPosition: 'end',\n  legendOffset: 0\n};\nvar Axis$1 = memo(Axis);\n\nfunction _extends$2() { _extends$2 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$2.apply(this, arguments); }\nvar positions = ['top', 'right', 'bottom', 'left'];\nvar Axes = function Axes(_ref) {\n  var xScale = _ref.xScale,\n      yScale = _ref.yScale,\n      width = _ref.width,\n      height = _ref.height,\n      top = _ref.top,\n      right = _ref.right,\n      bottom = _ref.bottom,\n      left = _ref.left;\n  var axes = {\n    top: top,\n    right: right,\n    bottom: bottom,\n    left: left\n  };\n  return positions.map(function (position) {\n    var axis = axes[position];\n    if (!axis) return null;\n    var isXAxis = position === 'top' || position === 'bottom';\n    var ticksPosition = position === 'top' || position === 'left' ? 'before' : 'after';\n    return React.createElement(Axis$1, _extends$2({\n      key: position\n    }, axis, {\n      axis: isXAxis ? 'x' : 'y',\n      x: position === 'right' ? width : 0,\n      y: position === 'bottom' ? height : 0,\n      scale: isXAxis ? xScale : yScale,\n      length: isXAxis ? width : height,\n      ticksPosition: ticksPosition\n    }));\n  });\n};\nAxes.propTypes = {\n  xScale: PropTypes.func,\n  yScale: PropTypes.func,\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired,\n  top: axisPropType,\n  right: axisPropType,\n  bottom: axisPropType,\n  left: axisPropType\n};\nvar Axes$1 = memo(Axes);\n\nvar GridLine = function GridLine(props) {\n  return React.createElement(\"line\", props);\n};\nGridLine.propTypes = {\n  x1: PropTypes.number.isRequired,\n  x2: PropTypes.number.isRequired,\n  y1: PropTypes.number.isRequired,\n  y2: PropTypes.number.isRequired\n};\nGridLine.defaultProps = {\n  x1: 0,\n  x2: 0,\n  y1: 0,\n  y2: 0\n};\nvar GridLine$1 = memo(GridLine);\n\nfunction _extends$3() { _extends$3 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$3.apply(this, arguments); }\nvar GridLines = function GridLines(_ref) {\n  var type = _ref.type,\n      lines = _ref.lines;\n  var theme = useTheme();\n  var _useMotionConfig = useMotionConfig(),\n      animate = _useMotionConfig.animate,\n      springConfig = _useMotionConfig.springConfig;\n  var lineWillEnter = useMemo(function () {\n    return function (_ref2) {\n      var style = _ref2.style;\n      return {\n        opacity: 0,\n        x1: type === 'x' ? 0 : style.x1.val,\n        x2: type === 'x' ? 0 : style.x2.val,\n        y1: type === 'y' ? 0 : style.y1.val,\n        y2: type === 'y' ? 0 : style.y2.val\n      };\n    };\n  }, [type]);\n  var lineWillLeave = useMemo(function () {\n    return function (_ref3) {\n      var style = _ref3.style;\n      return {\n        opacity: spring(0, springConfig),\n        x1: spring(style.x1.val, springConfig),\n        x2: spring(style.x2.val, springConfig),\n        y1: spring(style.y1.val, springConfig),\n        y2: spring(style.y2.val, springConfig)\n      };\n    };\n  }, [springConfig]);\n  if (!animate) {\n    return React.createElement(\"g\", null, lines.map(function (line) {\n      return React.createElement(GridLine$1, _extends$3({\n        key: line.key\n      }, line, theme.grid.line));\n    }));\n  }\n  return React.createElement(TransitionMotion, {\n    willEnter: lineWillEnter,\n    willLeave: lineWillLeave,\n    styles: lines.map(function (line) {\n      return {\n        key: line.key,\n        style: {\n          opacity: spring(1, springConfig),\n          x1: spring(line.x1 || 0, springConfig),\n          x2: spring(line.x2 || 0, springConfig),\n          y1: spring(line.y1 || 0, springConfig),\n          y2: spring(line.y2 || 0, springConfig)\n        }\n      };\n    })\n  }, function (interpolatedStyles) {\n    return React.createElement(\"g\", null, interpolatedStyles.map(function (interpolatedStyle) {\n      var key = interpolatedStyle.key,\n          style = interpolatedStyle.style;\n      return React.createElement(GridLine$1, _extends$3({\n        key: key\n      }, theme.grid.line, style));\n    }));\n  });\n};\nGridLines.propTypes = {\n  type: PropTypes.oneOf(['x', 'y']).isRequired,\n  lines: PropTypes.arrayOf(PropTypes.shape({\n    key: PropTypes.string.isRequired,\n    x1: PropTypes.number,\n    x2: PropTypes.number,\n    y1: PropTypes.number,\n    y2: PropTypes.number\n  })).isRequired\n};\nvar GridLines$1 = memo(GridLines);\n\nvar Grid = function Grid(_ref) {\n  var width = _ref.width,\n      height = _ref.height,\n      xScale = _ref.xScale,\n      yScale = _ref.yScale,\n      xValues = _ref.xValues,\n      yValues = _ref.yValues;\n  var xLines = useMemo(function () {\n    if (!xScale) return false;\n    return computeGridLines({\n      width: width,\n      height: height,\n      scale: xScale,\n      axis: 'x',\n      values: xValues\n    });\n  }, [xScale, xValues]);\n  var yLines = yScale ? computeGridLines({\n    width: width,\n    height: height,\n    scale: yScale,\n    axis: 'y',\n    values: yValues\n  }) : false;\n  return React.createElement(React.Fragment, null, xLines && React.createElement(GridLines$1, {\n    type: \"x\",\n    lines: xLines\n  }), yLines && React.createElement(GridLines$1, {\n    type: \"y\",\n    lines: yLines\n  }));\n};\nGrid.propTypes = {\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired,\n  xScale: PropTypes.func,\n  yScale: PropTypes.func,\n  xValues: PropTypes.oneOfType([PropTypes.number, PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)]))]),\n  yValues: PropTypes.oneOfType([PropTypes.number, PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)]))])\n};\nvar Grid$1 = memo(Grid);\n\nvar degreesToRadians = function degreesToRadians(degrees) {\n  return degrees * Math.PI / 180;\n};\n\nfunction _objectSpread$2(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(Object(source)); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$2(target, key, source[key]); }); } return target; }\nfunction _defineProperty$2(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar renderAxisToCanvas = function renderAxisToCanvas(ctx, _ref) {\n  var axis = _ref.axis,\n      scale = _ref.scale,\n      _ref$x = _ref.x,\n      x = _ref$x === void 0 ? 0 : _ref$x,\n      _ref$y = _ref.y,\n      y = _ref$y === void 0 ? 0 : _ref$y,\n      length = _ref.length,\n      ticksPosition = _ref.ticksPosition,\n      tickValues = _ref.tickValues,\n      _ref$tickSize = _ref.tickSize,\n      tickSize = _ref$tickSize === void 0 ? 5 : _ref$tickSize,\n      _ref$tickPadding = _ref.tickPadding,\n      tickPadding = _ref$tickPadding === void 0 ? 5 : _ref$tickPadding,\n      _ref$tickRotation = _ref.tickRotation,\n      tickRotation = _ref$tickRotation === void 0 ? 0 : _ref$tickRotation,\n      format = _ref.format,\n      legend = _ref.legend,\n      _ref$legendPosition = _ref.legendPosition,\n      legendPosition = _ref$legendPosition === void 0 ? 'end' : _ref$legendPosition,\n      _ref$legendOffset = _ref.legendOffset,\n      legendOffset = _ref$legendOffset === void 0 ? 0 : _ref$legendOffset,\n      theme = _ref.theme;\n  var _computeCartesianTick = computeCartesianTicks({\n    axis: axis,\n    scale: scale,\n    ticksPosition: ticksPosition,\n    tickValues: tickValues,\n    tickSize: tickSize,\n    tickPadding: tickPadding,\n    tickRotation: tickRotation,\n    engine: 'canvas'\n  }),\n      ticks = _computeCartesianTick.ticks,\n      textAlign = _computeCartesianTick.textAlign,\n      textBaseline = _computeCartesianTick.textBaseline;\n  ctx.save();\n  ctx.translate(x, y);\n  ctx.textAlign = textAlign;\n  ctx.textBaseline = textBaseline;\n  ctx.font = \"\".concat(theme.axis.ticks.text.fontSize, \"px \").concat(theme.axis.ticks.text.fontFamily);\n  if (theme.axis.domain.line.strokeWidth > 0) {\n    ctx.lineWidth = theme.axis.domain.line.strokeWidth;\n    ctx.lineCap = 'square';\n    ctx.strokeStyle = theme.axis.domain.line.stroke;\n    ctx.beginPath();\n    ctx.moveTo(0, 0);\n    ctx.lineTo(axis === 'x' ? length : 0, axis === 'x' ? 0 : length);\n    ctx.stroke();\n  }\n  ticks.forEach(function (tick) {\n    if (theme.axis.ticks.line.strokeWidth > 0) {\n      ctx.lineWidth = theme.axis.ticks.line.strokeWidth;\n      ctx.lineCap = 'square';\n      ctx.strokeStyle = theme.axis.ticks.line.stroke;\n      ctx.beginPath();\n      ctx.moveTo(tick.x, tick.y);\n      ctx.lineTo(tick.x + tick.lineX, tick.y + tick.lineY);\n      ctx.stroke();\n    }\n    var value = format !== undefined ? format(tick.value) : tick.value;\n    ctx.save();\n    ctx.translate(tick.x + tick.textX, tick.y + tick.textY);\n    ctx.rotate(degreesToRadians(tickRotation));\n    ctx.fillStyle = theme.axis.ticks.text.fill;\n    ctx.fillText(value, 0, 0);\n    ctx.restore();\n  });\n  if (legend !== undefined) {\n    var legendX = 0;\n    var legendY = 0;\n    var legendRotation = 0;\n    var _textAlign;\n    if (axis === 'y') {\n      legendRotation = -90;\n      legendX = legendOffset;\n      if (legendPosition === 'start') {\n        _textAlign = 'start';\n        legendY = length;\n      } else if (legendPosition === 'middle') {\n        _textAlign = 'center';\n        legendY = length / 2;\n      } else if (legendPosition === 'end') {\n        _textAlign = 'end';\n      }\n    } else {\n      legendY = legendOffset;\n      if (legendPosition === 'start') {\n        _textAlign = 'start';\n      } else if (legendPosition === 'middle') {\n        _textAlign = 'center';\n        legendX = length / 2;\n      } else if (legendPosition === 'end') {\n        _textAlign = 'end';\n        legendX = length;\n      }\n    }\n    ctx.translate(legendX, legendY);\n    ctx.rotate(degreesToRadians(legendRotation));\n    ctx.font = \"\".concat(theme.axis.legend.text.fontWeight ? \"\".concat(theme.axis.legend.text.fontWeight, \" \") : '').concat(theme.axis.legend.text.fontSize, \"px \").concat(theme.axis.legend.text.fontFamily);\n    ctx.fillStyle = theme.axis.legend.text.fill;\n    ctx.textAlign = _textAlign;\n    ctx.textBaseline = 'middle';\n    ctx.fillText(legend, 0, 0);\n  }\n  ctx.restore();\n};\nvar positions$1 = ['top', 'right', 'bottom', 'left'];\nvar renderAxesToCanvas = function renderAxesToCanvas(ctx, _ref2) {\n  var xScale = _ref2.xScale,\n      yScale = _ref2.yScale,\n      width = _ref2.width,\n      height = _ref2.height,\n      top = _ref2.top,\n      right = _ref2.right,\n      bottom = _ref2.bottom,\n      left = _ref2.left,\n      theme = _ref2.theme;\n  var axes = {\n    top: top,\n    right: right,\n    bottom: bottom,\n    left: left\n  };\n  positions$1.forEach(function (position) {\n    var axis = axes[position];\n    if (!axis) return null;\n    var isXAxis = position === 'top' || position === 'bottom';\n    var ticksPosition = position === 'top' || position === 'left' ? 'before' : 'after';\n    var scale = isXAxis ? xScale : yScale;\n    var format = getFormatter(axis.format, scale);\n    renderAxisToCanvas(ctx, _objectSpread$2({}, axis, {\n      axis: isXAxis ? 'x' : 'y',\n      x: position === 'right' ? width : 0,\n      y: position === 'bottom' ? height : 0,\n      scale: scale,\n      format: format,\n      length: isXAxis ? width : height,\n      ticksPosition: ticksPosition,\n      theme: theme\n    }));\n  });\n};\nvar renderGridLinesToCanvas = function renderGridLinesToCanvas(ctx, _ref3) {\n  var width = _ref3.width,\n      height = _ref3.height,\n      scale = _ref3.scale,\n      axis = _ref3.axis,\n      values = _ref3.values;\n  var lines = computeGridLines({\n    width: width,\n    height: height,\n    scale: scale,\n    axis: axis,\n    values: values\n  });\n  lines.forEach(function (line) {\n    ctx.beginPath();\n    ctx.moveTo(line.x1, line.y1);\n    ctx.lineTo(line.x2, line.y2);\n    ctx.stroke();\n  });\n};\n\nexport { Axes$1 as Axes, Axis$1 as Axis, Grid$1 as Grid, axisPropType, axisPropTypes, renderAxesToCanvas, renderAxisToCanvas, renderGridLinesToCanvas };\n","var baseIteratee = require('./_baseIteratee'),\n    baseUniq = require('./_baseUniq');\n/**\n * This method is like `_.uniq` except that it accepts `iteratee` which is\n * invoked for each element in `array` to generate the criterion by which\n * uniqueness is computed. The order of result values is determined by the\n * order they occur in the array. The iteratee is invoked with one argument:\n * (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n * @example\n *\n * _.uniqBy([2.1, 1.2, 2.3], Math.floor);\n * // => [2.1, 1.2]\n *\n * // The `_.property` iteratee shorthand.\n * _.uniqBy([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n * // => [{ 'x': 1 }, { 'x': 2 }]\n */\n\n\nfunction uniqBy(array, iteratee) {\n  return array && array.length ? baseUniq(array, baseIteratee(iteratee, 2)) : [];\n}\n\nmodule.exports = uniqBy;","import PropTypes from 'prop-types';\nimport { scaleLinear, scaleLog, scalePoint, scaleUtc, scaleTime } from 'd3-scale';\nimport { utcParse, timeParse } from 'd3-time-format';\nimport uniq from 'lodash/uniq';\nimport uniqBy from 'lodash/uniqBy';\nimport sortBy from 'lodash/sortBy';\nimport last from 'lodash/last';\nimport isDate from 'lodash/isDate';\n\nvar linearScale = function linearScale(_ref, xy, width, height) {\n  var axis = _ref.axis,\n      _ref$min = _ref.min,\n      min = _ref$min === void 0 ? 0 : _ref$min,\n      _ref$max = _ref.max,\n      max = _ref$max === void 0 ? 'auto' : _ref$max,\n      _ref$stacked = _ref.stacked,\n      stacked = _ref$stacked === void 0 ? false : _ref$stacked,\n      _ref$reverse = _ref.reverse,\n      reverse = _ref$reverse === void 0 ? false : _ref$reverse;\n  var values = xy[axis];\n  var size = axis === 'x' ? width : height;\n  var minValue = min;\n  if (min === 'auto') {\n    minValue = stacked === true ? values.minStacked : values.min;\n  }\n  var maxValue = max;\n  if (max === 'auto') {\n    maxValue = stacked === true ? values.maxStacked : values.max;\n  }\n  var scale = scaleLinear().rangeRound(axis === 'x' ? [0, size] : [size, 0]);\n  if (reverse === true) scale.domain([maxValue, minValue]);else scale.domain([minValue, maxValue]);\n  scale.type = 'linear';\n  scale.stacked = stacked;\n  return scale;\n};\nvar linearScalePropTypes = {\n  type: PropTypes.oneOf(['linear']).isRequired,\n  min: PropTypes.oneOfType([PropTypes.oneOf(['auto']), PropTypes.number]),\n  max: PropTypes.oneOfType([PropTypes.oneOf(['auto']), PropTypes.number]),\n  stacked: PropTypes.bool,\n  reverse: PropTypes.bool\n};\n\nvar logScale = function logScale(_ref, xy, width, height) {\n  var axis = _ref.axis,\n      _ref$base = _ref.base,\n      base = _ref$base === void 0 ? 10 : _ref$base,\n      _ref$min = _ref.min,\n      min = _ref$min === void 0 ? 'auto' : _ref$min,\n      _ref$max = _ref.max,\n      max = _ref$max === void 0 ? 'auto' : _ref$max;\n  var values = xy[axis];\n  var size = axis === 'x' ? width : height;\n  var hasZero = values.all.some(function (v) {\n    return v === 0;\n  });\n  var sign;\n  var hasMixedSign = false;\n  values.all.forEach(function (v) {\n    if (hasMixedSign === true) return;\n    if (sign === undefined) {\n      sign = Math.sign(v);\n    } else if (Math.sign(v) !== sign) {\n      hasMixedSign = true;\n    }\n  });\n  if (hasZero || hasMixedSign) {\n    throw new Error([\"a log scale domain must be strictly-positive or strictly-negative,\", \"and must not include or cross zero.\"].join('\\n'));\n  }\n  var minValue = min;\n  if (min === 'auto') {\n    minValue = values.min;\n  }\n  var maxValue = max;\n  if (max === 'auto') {\n    maxValue = values.max;\n  }\n  var scale = scaleLog().domain([minValue, maxValue]).rangeRound(axis === 'x' ? [0, size] : [size, 0]).base(base).nice();\n  scale.type = 'log';\n  return scale;\n};\nvar logScalePropTypes = {\n  type: PropTypes.oneOf(['log']).isRequired,\n  base: PropTypes.number,\n  min: PropTypes.oneOfType([PropTypes.oneOf(['auto']), PropTypes.number]),\n  max: PropTypes.oneOfType([PropTypes.oneOf(['auto']), PropTypes.number])\n};\n\nvar pointScale = function pointScale(_ref, xy, width, height) {\n  var axis = _ref.axis;\n  var values = xy[axis];\n  var size = axis === 'x' ? width : height;\n  var scale = scalePoint().range([0, size]).domain(values.all);\n  scale.type = 'point';\n  return scale;\n};\nvar pointScalePropTypes = {\n  type: PropTypes.oneOf(['point']).isRequired\n};\n\nvar _precisionCutOffsByTy;\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar TIME_PRECISION_MILLISECOND = 'millisecond';\nvar TIME_PRECISION_SECOND = 'second';\nvar TIME_PRECISION_MINUTE = 'minute';\nvar TIME_PRECISION_HOUR = 'hour';\nvar TIME_PRECISION_DAY = 'day';\nvar TIME_PRECISION_MONTH = 'month';\nvar TIME_PRECISION_YEAR = 'year';\nvar timePrecisions = [TIME_PRECISION_MILLISECOND, TIME_PRECISION_SECOND, TIME_PRECISION_MINUTE, TIME_PRECISION_HOUR, TIME_PRECISION_DAY, TIME_PRECISION_MONTH, TIME_PRECISION_YEAR];\nvar precisionCutOffs = [function (date) {\n  return date.setMilliseconds(0);\n}, function (date) {\n  return date.setSeconds(0);\n}, function (date) {\n  return date.setMinutes(0);\n}, function (date) {\n  return date.setHours(0);\n}, function (date) {\n  return date.setDate(1);\n}, function (date) {\n  return date.setMonth(0);\n}];\nvar precisionCutOffsByType = (_precisionCutOffsByTy = {}, _defineProperty(_precisionCutOffsByTy, TIME_PRECISION_MILLISECOND, []), _defineProperty(_precisionCutOffsByTy, TIME_PRECISION_SECOND, precisionCutOffs.slice(0, 1)), _defineProperty(_precisionCutOffsByTy, TIME_PRECISION_MINUTE, precisionCutOffs.slice(0, 2)), _defineProperty(_precisionCutOffsByTy, TIME_PRECISION_HOUR, precisionCutOffs.slice(0, 3)), _defineProperty(_precisionCutOffsByTy, TIME_PRECISION_DAY, precisionCutOffs.slice(0, 4)), _defineProperty(_precisionCutOffsByTy, TIME_PRECISION_MONTH, precisionCutOffs.slice(0, 5)), _defineProperty(_precisionCutOffsByTy, TIME_PRECISION_YEAR, precisionCutOffs.slice(0, 6)), _precisionCutOffsByTy);\nvar createPrecisionMethod = function createPrecisionMethod(precision) {\n  return function (date) {\n    precisionCutOffsByType[precision].forEach(function (cutOff) {\n      cutOff(date);\n    });\n    return date;\n  };\n};\nvar createDateNormalizer = function createDateNormalizer(_ref) {\n  var _ref$format = _ref.format,\n      format = _ref$format === void 0 ? 'native' : _ref$format,\n      _ref$precision = _ref.precision,\n      precision = _ref$precision === void 0 ? 'millisecond' : _ref$precision,\n      _ref$useUTC = _ref.useUTC,\n      useUTC = _ref$useUTC === void 0 ? true : _ref$useUTC;\n  var precisionFn = createPrecisionMethod(precision);\n  if (format === 'native') return function (v) {\n    return precisionFn(v);\n  };\n  var parseTime = useUTC ? utcParse(format) : timeParse(format);\n  return function (v) {\n    return precisionFn(parseTime(v));\n  };\n};\n\nvar timeScale = function timeScale(_ref, xy, width, height) {\n  var axis = _ref.axis,\n      _ref$format = _ref.format,\n      format = _ref$format === void 0 ? 'native' : _ref$format,\n      _ref$precision = _ref.precision,\n      precision = _ref$precision === void 0 ? TIME_PRECISION_MILLISECOND : _ref$precision,\n      _ref$min = _ref.min,\n      min = _ref$min === void 0 ? 'auto' : _ref$min,\n      _ref$max = _ref.max,\n      max = _ref$max === void 0 ? 'auto' : _ref$max,\n      _ref$useUTC = _ref.useUTC,\n      useUTC = _ref$useUTC === void 0 ? true : _ref$useUTC;\n  var values = xy[axis];\n  var size = axis === 'x' ? width : height;\n  var normalize = createDateNormalizer({\n    format: format,\n    precision: precision,\n    useUTC: useUTC\n  });\n  var minValue = min;\n  if (min === 'auto') {\n    minValue = values.min;\n  } else if (format !== 'native') {\n    minValue = normalize(values.min);\n  }\n  var maxValue = max;\n  if (max === 'auto') {\n    maxValue = values.max;\n  } else if (format !== 'native') {\n    maxValue = normalize(values.max);\n  }\n  var scale = useUTC ? scaleUtc() : scaleTime();\n  scale.domain([minValue, maxValue]).range([0, size]);\n  scale.type = 'time';\n  scale.useUTC = useUTC;\n  return scale;\n};\nvar timeScalePropTypes = {\n  type: PropTypes.oneOf(['time']).isRequired,\n  format: PropTypes.string,\n  precision: PropTypes.oneOf(timePrecisions)\n};\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(Object(source)); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$1(target, key, source[key]); }); } return target; }\nfunction _defineProperty$1(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar getOtherAxis = function getOtherAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n};\nvar compareValues = function compareValues(a, b) {\n  return a === b;\n};\nvar compareDateValues = function compareDateValues(a, b) {\n  return a.getTime() === b.getTime();\n};\nvar computeXYScalesForSeries = function computeXYScalesForSeries(_series, xScaleSpec, yScaleSpec, width, height) {\n  var series = _series.map(function (serie) {\n    return _objectSpread({}, serie, {\n      data: serie.data.map(function (d) {\n        return {\n          data: _objectSpread({}, d)\n        };\n      })\n    });\n  });\n  var xy = generateSeriesXY(series, xScaleSpec, yScaleSpec);\n  if (xScaleSpec.stacked === true) {\n    stackX(yScaleSpec.type, xy, series);\n  }\n  if (yScaleSpec.stacked === true) {\n    stackY(xScaleSpec.type, xy, series);\n  }\n  var xScale = computeScale(_objectSpread({}, xScaleSpec, {\n    axis: 'x'\n  }), xy, width, height);\n  var yScale = computeScale(_objectSpread({}, yScaleSpec, {\n    axis: 'y'\n  }), xy, width, height);\n  series.forEach(function (serie) {\n    serie.data.forEach(function (d) {\n      d.position = {\n        x: xScale.stacked === true ? d.data.xStacked === null ? null : xScale(d.data.xStacked) : d.data.x === null ? null : xScale(d.data.x),\n        y: yScale.stacked === true ? d.data.yStacked === null ? null : yScale(d.data.yStacked) : d.data.y === null ? null : yScale(d.data.y)\n      };\n    });\n  });\n  return _objectSpread({}, xy, {\n    series: series,\n    xScale: xScale,\n    yScale: yScale\n  });\n};\nvar computeScale = function computeScale(spec, xy, width, height) {\n  if (spec.type === 'linear') return linearScale(spec, xy, width, height);else if (spec.type === 'point') return pointScale(spec, xy, width, height);else if (spec.type === 'time') return timeScale(spec, xy, width, height);else if (spec.type === 'log') return logScale(spec, xy, width, height);\n};\nvar generateSeriesXY = function generateSeriesXY(series, xScaleSpec, yScaleSpec) {\n  return {\n    x: generateSeriesAxis(series, 'x', xScaleSpec),\n    y: generateSeriesAxis(series, 'y', yScaleSpec)\n  };\n};\nvar generateSeriesAxis = function generateSeriesAxis(series, axis, scaleSpec) {\n  var _ref = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {},\n      _ref$getValue = _ref.getValue,\n      getValue = _ref$getValue === void 0 ? function (d) {\n    return d.data[axis];\n  } : _ref$getValue,\n      _ref$setValue = _ref.setValue,\n      setValue = _ref$setValue === void 0 ? function (d, v) {\n    d.data[axis] = v;\n  } : _ref$setValue;\n  if (scaleSpec.type === 'linear') {\n    series.forEach(function (serie) {\n      serie.data.forEach(function (d) {\n        setValue(d, getValue(d) === null ? null : parseFloat(getValue(d)));\n      });\n    });\n  } else if (scaleSpec.type === 'time' && scaleSpec.format !== 'native') {\n    var parseTime = createDateNormalizer(scaleSpec);\n    series.forEach(function (serie) {\n      serie.data.forEach(function (d) {\n        setValue(d, getValue(d) === null ? null : parseTime(getValue(d)));\n      });\n    });\n  }\n  var all = [];\n  series.forEach(function (serie) {\n    serie.data.forEach(function (d) {\n      all.push(getValue(d));\n    });\n  });\n  var min, max;\n  if (scaleSpec.type === 'linear') {\n    all = uniq(all);\n    all = sortBy(all, function (v) {\n      return v;\n    });\n    min = Math.min.apply(Math, _toConsumableArray(all));\n    max = Math.max.apply(Math, _toConsumableArray(all));\n  } else if (scaleSpec.type === 'time') {\n    all = uniqBy(all, function (v) {\n      return v.getTime();\n    });\n    all = all.slice(0).sort(function (a, b) {\n      return b - a;\n    }).reverse();\n    min = all[0];\n    max = last(all);\n  } else {\n    all = uniq(all);\n    min = all[0];\n    max = last(all);\n  }\n  return {\n    all: all,\n    min: min,\n    max: max\n  };\n};\nvar stackAxis = function stackAxis(axis, otherType, xy, series) {\n  var otherAxis = getOtherAxis(axis);\n  var all = [];\n  xy[otherAxis].all.forEach(function (v) {\n    var compare = isDate(v) ? compareDateValues : compareValues;\n    var stack = [];\n    series.forEach(function (serie) {\n      var datum = serie.data.find(function (d) {\n        return compare(d.data[otherAxis], v);\n      });\n      var value = null;\n      var stackValue = null;\n      if (datum !== undefined) {\n        value = datum.data[axis];\n        if (value !== null) {\n          var head = last(stack);\n          if (head === undefined) {\n            stackValue = value;\n          } else if (head !== null) {\n            stackValue = head + value;\n          }\n        }\n        datum.data[\"\".concat(axis, \"Stacked\")] = stackValue;\n      }\n      stack.push(stackValue);\n      all.push(stackValue);\n    });\n  });\n  all = all.filter(function (v) {\n    return v !== null;\n  });\n  xy[axis].minStacked = Math.min.apply(Math, _toConsumableArray(all));\n  xy[axis].maxStacked = Math.max.apply(Math, _toConsumableArray(all));\n};\nvar stackX = function stackX(xy, otherType, series) {\n  return stackAxis('x', xy, otherType, series);\n};\nvar stackY = function stackY(xy, otherType, series) {\n  return stackAxis('y', xy, otherType, series);\n};\nvar computeAxisSlices = function computeAxisSlices(axis, data) {\n  var otherAxis = getOtherAxis(axis);\n  return data[otherAxis].all.map(function (v) {\n    var _slice;\n    var slice = (_slice = {\n      id: v\n    }, _defineProperty$1(_slice, otherAxis, data[\"\".concat(otherAxis, \"Scale\")](v)), _defineProperty$1(_slice, \"data\", []), _slice);\n    var compare = isDate(v) ? compareDateValues : compareValues;\n    data.series.forEach(function (serie) {\n      var datum = serie.data.find(function (d) {\n        return compare(d.data[otherAxis], v);\n      });\n      if (datum !== undefined) {\n        slice.data.push(_objectSpread({}, datum, {\n          serie: serie\n        }));\n      }\n    });\n    slice.data.reverse();\n    return slice;\n  });\n};\nvar computeXSlices = function computeXSlices(data) {\n  return computeAxisSlices('x', data);\n};\nvar computeYSlices = function computeYSlices(data) {\n  return computeAxisSlices('y', data);\n};\n\nvar scalePropType = PropTypes.oneOfType([PropTypes.shape(linearScalePropTypes), PropTypes.shape(pointScalePropTypes), PropTypes.shape(timeScalePropTypes), PropTypes.shape(logScalePropTypes)]);\n\nexport { compareDateValues, compareValues, computeAxisSlices, computeScale, computeXSlices, computeXYScalesForSeries, computeYSlices, generateSeriesAxis, generateSeriesXY, getOtherAxis, linearScale, linearScalePropTypes, logScale, logScalePropTypes, pointScale, pointScalePropTypes, scalePropType, stackAxis, stackX, stackY, timeScale, timeScalePropTypes };\n","var baseIsDate = require('./_baseIsDate'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n/* Node.js helper references. */\n\n\nvar nodeIsDate = nodeUtil && nodeUtil.isDate;\n/**\n * Checks if `value` is classified as a `Date` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n * @example\n *\n * _.isDate(new Date);\n * // => true\n *\n * _.isDate('Mon April 23 2012');\n * // => false\n */\n\nvar isDate = nodeIsDate ? baseUnary(nodeIsDate) : baseIsDate;\nmodule.exports = isDate;","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphal Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\n\nexport default {\n    width: 600,\n    height: 400,\n\n    margin: {\n        top: 50,\n        right: 110,\n        bottom: 50,\n        left: 60,\n    },\n\n    xScale: {\n        type: 'point',\n    },\n    yScale: {\n        type: 'linear',\n        min: 'auto',\n        max: 'auto',\n        stacked: true,\n        reverse: false,\n    },\n\n    curve: 'linear',\n\n    axisTop: {\n        enable: false,\n        orient: 'top',\n        tickSize: 5,\n        tickPadding: 5,\n        tickRotation: 0,\n        legend: '',\n        legendOffset: 36,\n    },\n    axisRight: {\n        enable: false,\n        orient: 'right',\n        tickSize: 5,\n        tickPadding: 5,\n        tickRotation: 0,\n        legend: '',\n        legendOffset: 0,\n    },\n    axisBottom: {\n        enable: true,\n        orient: 'bottom',\n        tickSize: 5,\n        tickPadding: 5,\n        tickRotation: 0,\n        legend: 'transportation',\n        legendOffset: 36,\n        legendPosition: 'middle',\n    },\n    axisLeft: {\n        enable: true,\n        orient: 'left',\n        tickSize: 5,\n        tickPadding: 5,\n        tickRotation: 0,\n        legend: 'count',\n        legendOffset: -40,\n        legendPosition: 'middle',\n    },\n\n    enableGridX: true,\n    enableGridY: true,\n\n    colors: { scheme: 'nivo' },\n    lineWidth: 2,\n\n    enablePoints: true,\n    pointSize: 10,\n    pointColor: { theme: 'background' },\n    pointBorderWidth: 2,\n    pointBorderColor: { from: 'serieColor' },\n    enablePointLabel: false,\n    pointLabel: 'y',\n    pointLabelYOffset: -12,\n\n    enableArea: false,\n    areaBlendMode: 'normal',\n    areaBaselineValue: 0,\n    areaOpacity: 0.2,\n\n    isInteractive: true,\n    enableSlices: false,\n    debugSlices: false,\n\n    enableCrosshair: true,\n    crosshairType: 'bottom-left',\n}\n","/*\n * This file is part of the nivo project.\n *\n * (c) 2016 Raphal Benitte\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\n\nconst Link = styled.a`\n    position: relative;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    overflow: hidden;\n`\n\nconst Image = styled.img`\n    max-width: 100%;\n    max-height: 100%;\n`\n\nconst EmptyContainer = styled.div`\n    font-size: 14px;\n    line-height: 1.6em;\n    color: ${({ theme }) => theme.colors.textLight};\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 100%;\n    height: 100%;\n`\n\nconst ApiPreview = ({ responseStatus, chartUrl }) => {\n    if (responseStatus === 201 && chartUrl) {\n        return (\n            <Link href={chartUrl} target=\"_blank\" rel=\"noopener noreferrer\">\n                <Image src={chartUrl} alt=\"api result\" />\n            </Link>\n        )\n    }\n\n    return (\n        <EmptyContainer>\n            Click the generate button in order to generate the chart.\n            <br />\n            You can customize settings by using dedicated controls.\n        </EmptyContainer>\n    )\n\n    return <div className=\"api-client_preview\">{content}</div>\n}\n\nApiPreview.propTypes = {\n    responseStatus: PropTypes.number,\n    chartUrl: PropTypes.string,\n}\n\nexport default ApiPreview\n","/*\n * This file is part of the nivo project.\n *\n * (c) 2016 Raphal Benitte\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { useState } from 'react'\nimport PropTypes from 'prop-types'\nimport styled, { keyframes } from 'styled-components'\nimport ApiPreview from './ApiPreview'\nimport media from '../../../theming/mediaQueries'\nimport { useTheme } from '../../../theming/context'\nimport CodeBlock from '../../CodeBlock'\n\nconst tabs = ['preview', 'body', 'data']\n\nconst ApiTabs = ({ chartClass, data, body, isLoading, responseStatus, chartUrl }) => {\n    const theme = useTheme()\n\n    const [currentTab, setCurrentTab] = useState('preview')\n    const [hoverTab, setHoverTab] = useState(null)\n\n    return (\n        <Wrapper className={`chart-tabs--${currentTab}`}>\n            <Nav>\n                {tabs.map(tab => {\n                    const isCurrent = tab === currentTab\n                    const icon = tab === 'preview' ? chartClass : 'data'\n                    const iconColors = isCurrent || hoverTab === tab ? 'colored' : 'neutral'\n\n                    return (\n                        <NavItem\n                            key={tab}\n                            className=\"no-select\"\n                            isCurrent={isCurrent}\n                            onClick={() => setCurrentTab(tab)}\n                            onMouseEnter={() => setHoverTab(tab)}\n                            onMouseLeave={() => setHoverTab(null)}\n                        >\n                            <Icon className={`sprite-icons-${icon}-${theme.id}-${iconColors}`} />\n                            {tab}\n                        </NavItem>\n                    )\n                })}\n            </Nav>\n            <Content>\n                {currentTab === 'preview' && (\n                    <ApiPreview\n                        isLoading={isLoading}\n                        responseStatus={responseStatus}\n                        chartUrl={chartUrl}\n                    />\n                )}\n                {currentTab === 'body' && <CodeBlock>{JSON.stringify(body, null, '  ')}</CodeBlock>}\n                {currentTab === 'data' && <CodeBlock>{data}</CodeBlock>}\n                <Loader isLoading={isLoading} />\n            </Content>\n        </Wrapper>\n    )\n}\n\nApiTabs.propTypes = {\n    chartClass: PropTypes.string.isRequired,\n    data: PropTypes.oneOfType([PropTypes.string, PropTypes.array, PropTypes.object]),\n}\n\nexport default ApiTabs\n\nconst Wrapper = styled.div`\n    position: fixed;\n    top: ${({ theme }) => theme.dimensions.headerHeight}px;\n    right: 0;\n    width: 60%;\n    --innerWidth: calc(100% - ${({ theme }) => theme.dimensions.miniNavWidth}px);\n    width: calc(var(--innerWidth) * 0.6);\n    --innerHeight: calc(100% - ${({ theme }) => theme.dimensions.headerHeight}px);\n    height: calc(var(--innerHeight) * 0.55);\n    z-index: 10;\n    overflow: hidden;\n    background: ${({ theme }) => theme.colors.cardBackground};\n    border-bottom: 1px solid ${({ theme }) => theme.colors.border};\n\n    ${media.tablet`\n        & {\n            top: ${({ theme }) => theme.dimensions.headerHeight}px;\n            right: 0;\n            width: 60%;\n            --innerHeight: calc(100% - ${({ theme }) => theme.dimensions.headerHeight}px);\n            height: calc(var(--innerHeight) * 0.55);\n        }\n    `}\n\n    ${media.mobile`\n        & {\n            position: relative;\n            top: auto;\n            right: auto;\n            width: auto;\n            height: 460px;\n            z-index: 0;\n            border-top: 1px solid ${({ theme }) => theme.colors.border};\n        }\n    `}\n`\n\nconst Nav = styled.nav`\n    height: 46px;\n    background: ${({ theme }) => theme.colors.background};\n    display: flex;\n    font-size: 15px;\n    color: #aaa;\n    position: relative;\n`\n\nconst NavItem = styled.span`\n    cursor: pointer;\n    height: 46px;\n    display: block;\n    position: relative;\n    padding-left: 46px;\n    padding-right: 14px;\n    padding-top: 11px;\n    background: ${({ isCurrent, theme }) =>\n        isCurrent ? theme.colors.cardBackground : 'transparent'};\n\n    &:hover {\n        color: ${({ theme }) => theme.colors.text};\n    }\n`\n\nconst Icon = styled.span`\n    position: absolute;\n    top: 0;\n    left: 0;\n    display: block;\n    transform: scale(0.44);\n    transform-origin: top left;\n    margin: 12px 0 0 12px;\n`\n\nconst Content = styled.div`\n    position: absolute;\n    top: 46px;\n    bottom: 0;\n    width: 100%;\n    overflow-x: hidden;\n    overflow-y: auto;\n`\n\nconst LoaderContainer = styled.div`\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    width: 100px;\n    height: 80px;\n    margin-top: -40px;\n    margin-left: -50px;\n    background: ${({ theme }) => theme.colors.cardBackground};\n    display: grid;\n    grid-template-columns: 10px 10px 10px 10px 10px;\n    grid-column-gap: 6px;\n    padding: 10px 13px;\n    border-radius: 2px;\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.15);\n    pointer-events: none;\n    opacity: ${({ isLoading }) => (isLoading ? 1 : 0)};\n    transform: translate3d(0, ${({ isLoading }) => (isLoading ? 0 : '20px')}, 0);\n    transition: transform 200ms, opacity 200ms;\n`\n\nconst loaderBarAnimation = keyframes`\n    0%, 100% {\n        transform: scale3d(1, 0, 1);\n    }\n    50% {\n        transform: scale3d(1, 1, 1);\n    }\n`\n\nconst LoaderBar = styled.span`\n    display: block;\n    background: ${({ theme }) => theme.colors.accent};\n    width: 100%;\n    height: 100%;\n    transform: scale3d(1, 0, 1);\n    transform-origin: 100% 100%;\n    animation-name: ${loaderBarAnimation};\n    animation-duration: 800ms;\n    animation-iteration-count: infinite;\n    animation-delay: ${({ index }) => (index + 1) * 60}ms;\n`\n\nconst Loader = ({ isLoading }) => {\n    return (\n        <LoaderContainer isLoading={isLoading}>\n            <span>\n                <LoaderBar index={0} />\n            </span>\n            <span>\n                <LoaderBar index={1} />\n            </span>\n            <span>\n                <LoaderBar index={2} />\n            </span>\n            <span>\n                <LoaderBar index={3} />\n            </span>\n            <span>\n                <LoaderBar index={4} />\n            </span>\n        </LoaderContainer>\n    )\n}\n","/*\n * This file is part of the nivo project.\n *\n * (c) 2016 Raphal Benitte\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { Component } from 'react'\nimport styled from 'styled-components'\nimport PropTypes from 'prop-types'\n\nconst Button = styled.span`\n    display: block;\n    background-color: ${({ theme }) => theme.colors.accent};\n    color: #fff;\n    text-align: center;\n    padding: 12px 24px;\n    border-radius: 2px;\n    cursor: pointer;\n    text-decoration: none;\n`\n\nclass ApiSubmit extends Component {\n    render() {\n        const { loading, onClick } = this.props\n\n        return <Button onClick={onClick}>{loading ? 'sending' : 'generate'}</Button>\n    }\n}\n\nApiSubmit.propTypes = {\n    loading: PropTypes.bool.isRequired,\n    onClick: PropTypes.func.isRequired,\n}\n\nApiSubmit.defaultProps = {}\n\nexport default ApiSubmit\n","/*\n * This file is part of the nivo project.\n *\n * (c) 2016 Raphal Benitte\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { Component } from 'react'\nimport styled from 'styled-components'\n\nconst Container = styled.div`\n    background: ${({ theme }) => theme.colors.cardBackground};\n    border-top: 1px solid ${({ theme }) => theme.colors.border};\n    overflow-x: hidden;\n    overflow-y: auto;\n`\n\nconst Header = styled.div`\n    padding: 12px 20px;\n    border-bottom: 1px solid ${({ theme }) => theme.colors.borderLight};\n`\n\nconst ResponseJson = styled.pre`\n    padding: 12px 20px;\n    font-size: 13px;\n    line-height: 1.6em;\n    overflow: hidden;\n    width: 100%;\n    margin: 0;\n`\n\nclass ApiResponse extends Component {\n    render() {\n        const { responseStatus, response } = this.props\n\n        let responseContent = 'no response available'\n        if (response) {\n            responseContent = JSON.stringify(response, null, '  ')\n        }\n\n        return (\n            <Container>\n                <Header>\n                    Response {responseStatus ? <strong>{responseStatus}</strong> : 'n/a'}\n                </Header>\n                <ResponseJson>{responseContent}</ResponseJson>\n            </Container>\n        )\n    }\n}\n\nApiResponse.propTypes = {}\n\nApiResponse.defaultProps = {}\n\nexport default ApiResponse\n","/*\n * This file is part of the nivo project.\n *\n * (c) 2016 Raphal Benitte\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\nimport Layout from '../../Layout'\nimport media from '../../../theming/mediaQueries'\nimport ComponentPage from '../ComponentPage'\nimport ComponentHeader from '../ComponentHeader'\nimport ComponentFlavorSelector from '../ComponentFlavorSelector'\nimport ComponentDescription from '../ComponentDescription'\nimport ComponentSettings from '../ComponentSettings'\nimport ApiTabs from './ApiTabs'\nimport ApiSubmit from './ApiSubmit'\nimport ApiResponse from './ApiResponse'\nimport config from '../../../data/config'\n\nconst description = component => `\nThe \\`${component}\\`component is available in the nivo\nHTTP rendering API.\nThe API generates a SVG and return a path to this SVG\nwhich can then be easily embedded.\n\nThe api accepts almost the same properties as the regular component,\nin json, however it's not interactive and you cannot use code\nin properties (functions).\n\nPlease note that the demo API server is installed on heroku\nusing a free plan, so it might be unavailable from times to times.\n`\n\nexport default class ApiClient extends Component {\n    static propTypes = {\n        componentName: PropTypes.string.isRequired,\n        chartClass: PropTypes.string.isRequired,\n        apiPath: PropTypes.string.isRequired,\n        dataProperty: PropTypes.string.isRequired,\n        propsMapper: PropTypes.func.isRequired,\n    }\n\n    static defaultProps = {\n        dataProperty: 'data',\n        propsMapper: props => props,\n    }\n\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            props: props.defaultProps,\n            loading: false,\n            responseStatus: null,\n            response: null,\n        }\n    }\n\n    handleSettingsUpdate = settings => {\n        this.setState({ props: settings })\n    }\n\n    handleDataUpdate = e => {\n        const { dataProperty } = this.props\n        const { props } = this.state\n\n        this.setState({\n            props: Object.assign({}, props, {\n                [dataProperty]: e.target.value,\n            }),\n        })\n    }\n\n    handleSubmit = () => {\n        const { apiPath, propsMapper } = this.props\n        const { props } = this.state\n\n        this.setState({\n            loading: true,\n        })\n\n        fetch(`${config.nivoApiUrl}${apiPath}`, {\n            method: 'POST',\n            headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify(propsMapper(props)),\n        })\n            .then(res => {\n                this.setState({\n                    loading: false,\n                    responseStatus: res.status,\n                })\n\n                return res.json()\n            })\n            .then(res => {\n                this.setState({ response: res })\n            })\n            .catch(err => {\n                console.error(err)\n            })\n    }\n\n    render() {\n        const {\n            componentName,\n            chartClass,\n            apiPath,\n            controlGroups,\n            dataProperty,\n            propsMapper,\n            flavors,\n        } = this.props\n        const { props, loading, responseStatus, response } = this.state\n\n        const flavorKeys = flavors.map(flavor => flavor.flavor)\n\n        return (\n            <Layout>\n                <ComponentPage>\n                    <ComponentHeader\n                        chartClass={`${componentName} HTTP API`}\n                        tags={[`POST ${apiPath}`]}\n                    />\n                    {flavors && <ComponentFlavorSelector flavors={flavors} current=\"api\" />}\n                    <ComponentDescription description={description(componentName, apiPath)} />\n                    <ApiTabs\n                        chartClass={chartClass}\n                        data={props[dataProperty]}\n                        body={propsMapper(props)}\n                        isLoading={loading}\n                        responseStatus={responseStatus}\n                        chartUrl={response ? response.url : null}\n                    />\n                    <ControlPanel>\n                        <SubmitWrapper>\n                            <ApiSubmit loading={loading} onClick={this.handleSubmit} />\n                        </SubmitWrapper>\n                        <ApiResponse responseStatus={responseStatus} response={response} />\n                    </ControlPanel>\n                    <ComponentSettings\n                        component={componentName}\n                        settings={props}\n                        flavors={flavorKeys}\n                        currentFlavor=\"api\"\n                        groups={controlGroups}\n                        onChange={this.handleSettingsUpdate}\n                    />\n                </ComponentPage>\n            </Layout>\n        )\n    }\n}\n\nconst ControlPanel = styled.div`\n    position: fixed;\n    right: 0;\n    bottom: 0;\n    --innerWidth: calc(100% - ${({ theme }) => theme.dimensions.miniNavWidth}px);\n    --partialWidth: calc(var(--innerWidth) * 0.6);\n    width: var(--partialWidth);\n    background: ${({ theme }) => theme.colors.cardAltBackground};\n    --innerHeight: calc(100% - ${({ theme }) => theme.dimensions.headerHeight}px);\n    height: calc(var(--innerHeight) * 0.45);\n    z-index: 10;\n    overflow: hidden;\n    display: grid;\n    grid-template-rows: 1fr 2fr;\n\n    ${media.tablet`\n        & {\n            right: 0;\n            bottom: 0;\n            --innerHeight: calc(100% - ${({ theme }) => theme.dimensions.headerHeight}px);\n            height: calc(var(--innerHeight) * 0.45);\n            width: 60%;\n        }\n    `}\n\n    ${media.mobile`\n        & {\n            position: relative;\n            right: auto;\n            bottom: auto;\n            width: auto;\n            height: auto;\n            border-left-width: 0;\n            z-index: 0;\n        }\n    `}\n`\n\nconst SubmitWrapper = styled.div`\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    padding: 12px 0;\n`\n","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","import \"core-js/modules/es6.array.fill\";\nimport \"core-js/modules/es6.typed.int32-array\";\nimport \"core-js/modules/es6.typed.float64-array\";\nimport _classCallCheck from \"/Users/raphael.benitte/projects/plouc/nivo/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/raphael.benitte/projects/plouc/nivo/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport \"core-js/modules/es6.typed.uint32-array\";\nvar EPSILON = Math.pow(2, -52);\nvar EDGE_STACK = new Uint32Array(512);\n\nvar Delaunator =\n/*#__PURE__*/\nfunction () {\n  _createClass(Delaunator, null, [{\n    key: \"from\",\n    value: function from(points) {\n      var getX = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultGetX;\n      var getY = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultGetY;\n      var n = points.length;\n      var coords = new Float64Array(n * 2);\n\n      for (var i = 0; i < n; i++) {\n        var p = points[i];\n        coords[2 * i] = getX(p);\n        coords[2 * i + 1] = getY(p);\n      }\n\n      return new Delaunator(coords);\n    }\n  }]);\n\n  function Delaunator(coords) {\n    _classCallCheck(this, Delaunator);\n\n    var n = coords.length >> 1;\n    if (n > 0 && typeof coords[0] !== 'number') throw new Error('Expected coords to contain numbers.');\n    this.coords = coords; // arrays that will store the triangulation graph\n\n    var maxTriangles = Math.max(2 * n - 5, 0);\n    this._triangles = new Uint32Array(maxTriangles * 3);\n    this._halfedges = new Int32Array(maxTriangles * 3); // temporary arrays for tracking the edges of the advancing convex hull\n\n    this._hashSize = Math.ceil(Math.sqrt(n));\n    this._hullPrev = new Uint32Array(n); // edge to prev edge\n\n    this._hullNext = new Uint32Array(n); // edge to next edge\n\n    this._hullTri = new Uint32Array(n); // edge to adjacent triangle\n\n    this._hullHash = new Int32Array(this._hashSize).fill(-1); // angular edge hash\n    // temporary arrays for sorting points\n\n    this._ids = new Uint32Array(n);\n    this._dists = new Float64Array(n);\n    this.update();\n  }\n\n  _createClass(Delaunator, [{\n    key: \"update\",\n    value: function update() {\n      var coords = this.coords,\n          hullPrev = this._hullPrev,\n          hullNext = this._hullNext,\n          hullTri = this._hullTri,\n          hullHash = this._hullHash;\n      var n = coords.length >> 1; // populate an array of point indices; calculate input data bbox\n\n      var minX = Infinity;\n      var minY = Infinity;\n      var maxX = -Infinity;\n      var maxY = -Infinity;\n\n      for (var i = 0; i < n; i++) {\n        var x = coords[2 * i];\n        var y = coords[2 * i + 1];\n        if (x < minX) minX = x;\n        if (y < minY) minY = y;\n        if (x > maxX) maxX = x;\n        if (y > maxY) maxY = y;\n        this._ids[i] = i;\n      }\n\n      var cx = (minX + maxX) / 2;\n      var cy = (minY + maxY) / 2;\n      var minDist = Infinity;\n      var i0, i1, i2; // pick a seed point close to the center\n\n      for (var _i = 0; _i < n; _i++) {\n        var d = dist(cx, cy, coords[2 * _i], coords[2 * _i + 1]);\n\n        if (d < minDist) {\n          i0 = _i;\n          minDist = d;\n        }\n      }\n\n      var i0x = coords[2 * i0];\n      var i0y = coords[2 * i0 + 1];\n      minDist = Infinity; // find the point closest to the seed\n\n      for (var _i2 = 0; _i2 < n; _i2++) {\n        if (_i2 === i0) continue;\n\n        var _d = dist(i0x, i0y, coords[2 * _i2], coords[2 * _i2 + 1]);\n\n        if (_d < minDist && _d > 0) {\n          i1 = _i2;\n          minDist = _d;\n        }\n      }\n\n      var i1x = coords[2 * i1];\n      var i1y = coords[2 * i1 + 1];\n      var minRadius = Infinity; // find the third point which forms the smallest circumcircle with the first two\n\n      for (var _i3 = 0; _i3 < n; _i3++) {\n        if (_i3 === i0 || _i3 === i1) continue;\n        var r = circumradius(i0x, i0y, i1x, i1y, coords[2 * _i3], coords[2 * _i3 + 1]);\n\n        if (r < minRadius) {\n          i2 = _i3;\n          minRadius = r;\n        }\n      }\n\n      var i2x = coords[2 * i2];\n      var i2y = coords[2 * i2 + 1];\n\n      if (minRadius === Infinity) {\n        // order collinear points by dx (or dy if all x are identical)\n        // and return the list as a hull\n        for (var _i4 = 0; _i4 < n; _i4++) {\n          this._dists[_i4] = coords[2 * _i4] - coords[0] || coords[2 * _i4 + 1] - coords[1];\n        }\n\n        quicksort(this._ids, this._dists, 0, n - 1);\n        var hull = new Uint32Array(n);\n        var j = 0;\n\n        for (var _i5 = 0, d0 = -Infinity; _i5 < n; _i5++) {\n          var id = this._ids[_i5];\n\n          if (this._dists[id] > d0) {\n            hull[j++] = id;\n            d0 = this._dists[id];\n          }\n        }\n\n        this.hull = hull.subarray(0, j);\n        this.triangles = new Uint32Array(0);\n        this.halfedges = new Uint32Array(0);\n        return;\n      } // swap the order of the seed points for counter-clockwise orientation\n\n\n      if (orient(i0x, i0y, i1x, i1y, i2x, i2y)) {\n        var _i6 = i1;\n        var _x = i1x;\n        var _y = i1y;\n        i1 = i2;\n        i1x = i2x;\n        i1y = i2y;\n        i2 = _i6;\n        i2x = _x;\n        i2y = _y;\n      }\n\n      var center = circumcenter(i0x, i0y, i1x, i1y, i2x, i2y);\n      this._cx = center.x;\n      this._cy = center.y;\n\n      for (var _i7 = 0; _i7 < n; _i7++) {\n        this._dists[_i7] = dist(coords[2 * _i7], coords[2 * _i7 + 1], center.x, center.y);\n      } // sort the points by distance from the seed triangle circumcenter\n\n\n      quicksort(this._ids, this._dists, 0, n - 1); // set up the seed triangle as the starting hull\n\n      this._hullStart = i0;\n      var hullSize = 3;\n      hullNext[i0] = hullPrev[i2] = i1;\n      hullNext[i1] = hullPrev[i0] = i2;\n      hullNext[i2] = hullPrev[i1] = i0;\n      hullTri[i0] = 0;\n      hullTri[i1] = 1;\n      hullTri[i2] = 2;\n      hullHash.fill(-1);\n      hullHash[this._hashKey(i0x, i0y)] = i0;\n      hullHash[this._hashKey(i1x, i1y)] = i1;\n      hullHash[this._hashKey(i2x, i2y)] = i2;\n      this.trianglesLen = 0;\n\n      this._addTriangle(i0, i1, i2, -1, -1, -1);\n\n      for (var k = 0, xp, yp; k < this._ids.length; k++) {\n        var _i8 = this._ids[k];\n        var _x2 = coords[2 * _i8];\n        var _y2 = coords[2 * _i8 + 1]; // skip near-duplicate points\n\n        if (k > 0 && Math.abs(_x2 - xp) <= EPSILON && Math.abs(_y2 - yp) <= EPSILON) continue;\n        xp = _x2;\n        yp = _y2; // skip seed triangle points\n\n        if (_i8 === i0 || _i8 === i1 || _i8 === i2) continue; // find a visible edge on the convex hull using edge hash\n\n        var start = 0;\n\n        for (var _j = 0, key = this._hashKey(_x2, _y2); _j < this._hashSize; _j++) {\n          start = hullHash[(key + _j) % this._hashSize];\n          if (start !== -1 && start !== hullNext[start]) break;\n        }\n\n        start = hullPrev[start];\n        var e = start,\n            q = void 0;\n\n        while (q = hullNext[e], !orient(_x2, _y2, coords[2 * e], coords[2 * e + 1], coords[2 * q], coords[2 * q + 1])) {\n          e = q;\n\n          if (e === start) {\n            e = -1;\n            break;\n          }\n        }\n\n        if (e === -1) continue; // likely a near-duplicate point; skip it\n        // add the first triangle from the point\n\n        var t = this._addTriangle(e, _i8, hullNext[e], -1, -1, hullTri[e]); // recursively flip triangles from the point until they satisfy the Delaunay condition\n\n\n        hullTri[_i8] = this._legalize(t + 2);\n        hullTri[e] = t; // keep track of boundary triangles on the hull\n\n        hullSize++; // walk forward through the hull, adding more triangles and flipping recursively\n\n        var _n = hullNext[e];\n\n        while (q = hullNext[_n], orient(_x2, _y2, coords[2 * _n], coords[2 * _n + 1], coords[2 * q], coords[2 * q + 1])) {\n          t = this._addTriangle(_n, _i8, q, hullTri[_i8], -1, hullTri[_n]);\n          hullTri[_i8] = this._legalize(t + 2);\n          hullNext[_n] = _n; // mark as removed\n\n          hullSize--;\n          _n = q;\n        } // walk backward from the other side, adding more triangles and flipping\n\n\n        if (e === start) {\n          while (q = hullPrev[e], orient(_x2, _y2, coords[2 * q], coords[2 * q + 1], coords[2 * e], coords[2 * e + 1])) {\n            t = this._addTriangle(q, _i8, e, -1, hullTri[e], hullTri[q]);\n\n            this._legalize(t + 2);\n\n            hullTri[q] = t;\n            hullNext[e] = e; // mark as removed\n\n            hullSize--;\n            e = q;\n          }\n        } // update the hull indices\n\n\n        this._hullStart = hullPrev[_i8] = e;\n        hullNext[e] = hullPrev[_n] = _i8;\n        hullNext[_i8] = _n; // save the two new edges in the hash table\n\n        hullHash[this._hashKey(_x2, _y2)] = _i8;\n        hullHash[this._hashKey(coords[2 * e], coords[2 * e + 1])] = e;\n      }\n\n      this.hull = new Uint32Array(hullSize);\n\n      for (var _i9 = 0, _e = this._hullStart; _i9 < hullSize; _i9++) {\n        this.hull[_i9] = _e;\n        _e = hullNext[_e];\n      } // trim typed triangle mesh arrays\n\n\n      this.triangles = this._triangles.subarray(0, this.trianglesLen);\n      this.halfedges = this._halfedges.subarray(0, this.trianglesLen);\n    }\n  }, {\n    key: \"_hashKey\",\n    value: function _hashKey(x, y) {\n      return Math.floor(pseudoAngle(x - this._cx, y - this._cy) * this._hashSize) % this._hashSize;\n    }\n  }, {\n    key: \"_legalize\",\n    value: function _legalize(a) {\n      var triangles = this._triangles,\n          halfedges = this._halfedges,\n          coords = this.coords;\n      var i = 0;\n      var ar = 0; // recursion eliminated with a fixed-size stack\n\n      while (true) {\n        var b = halfedges[a];\n        /* if the pair of triangles doesn't satisfy the Delaunay condition\n         * (p1 is inside the circumcircle of [p0, pl, pr]), flip them,\n         * then do the same check/flip recursively for the new pair of triangles\n         *\n         *           pl                    pl\n         *          /||\\                  /  \\\n         *       al/ || \\bl            al/    \\a\n         *        /  ||  \\              /      \\\n         *       /  a||b  \\    flip    /___ar___\\\n         *     p0\\   ||   /p1   =>   p0\\---bl---/p1\n         *        \\  ||  /              \\      /\n         *       ar\\ || /br             b\\    /br\n         *          \\||/                  \\  /\n         *           pr                    pr\n         */\n\n        var a0 = a - a % 3;\n        ar = a0 + (a + 2) % 3;\n\n        if (b === -1) {\n          // convex hull edge\n          if (i === 0) break;\n          a = EDGE_STACK[--i];\n          continue;\n        }\n\n        var b0 = b - b % 3;\n        var al = a0 + (a + 1) % 3;\n        var bl = b0 + (b + 2) % 3;\n        var p0 = triangles[ar];\n        var pr = triangles[a];\n        var pl = triangles[al];\n        var p1 = triangles[bl];\n        var illegal = inCircle(coords[2 * p0], coords[2 * p0 + 1], coords[2 * pr], coords[2 * pr + 1], coords[2 * pl], coords[2 * pl + 1], coords[2 * p1], coords[2 * p1 + 1]);\n\n        if (illegal) {\n          triangles[a] = p1;\n          triangles[b] = p0;\n          var hbl = halfedges[bl]; // edge swapped on the other side of the hull (rare); fix the halfedge reference\n\n          if (hbl === -1) {\n            var e = this._hullStart;\n\n            do {\n              if (this._hullTri[e] === bl) {\n                this._hullTri[e] = a;\n                break;\n              }\n\n              e = this._hullPrev[e];\n            } while (e !== this._hullStart);\n          }\n\n          this._link(a, hbl);\n\n          this._link(b, halfedges[ar]);\n\n          this._link(ar, bl);\n\n          var br = b0 + (b + 1) % 3; // don't worry about hitting the cap: it can only happen on extremely degenerate input\n\n          if (i < EDGE_STACK.length) {\n            EDGE_STACK[i++] = br;\n          }\n        } else {\n          if (i === 0) break;\n          a = EDGE_STACK[--i];\n        }\n      }\n\n      return ar;\n    }\n  }, {\n    key: \"_link\",\n    value: function _link(a, b) {\n      this._halfedges[a] = b;\n      if (b !== -1) this._halfedges[b] = a;\n    } // add a new triangle given vertex indices and adjacent half-edge ids\n\n  }, {\n    key: \"_addTriangle\",\n    value: function _addTriangle(i0, i1, i2, a, b, c) {\n      var t = this.trianglesLen;\n      this._triangles[t] = i0;\n      this._triangles[t + 1] = i1;\n      this._triangles[t + 2] = i2;\n\n      this._link(t, a);\n\n      this._link(t + 1, b);\n\n      this._link(t + 2, c);\n\n      this.trianglesLen += 3;\n      return t;\n    }\n  }]);\n\n  return Delaunator;\n}(); // monotonically increases with real angle, but doesn't need expensive trigonometry\n\n\nexport { Delaunator as default };\n\nfunction pseudoAngle(dx, dy) {\n  var p = dx / (Math.abs(dx) + Math.abs(dy));\n  return (dy > 0 ? 3 - p : 1 + p) / 4; // [0..1]\n}\n\nfunction dist(ax, ay, bx, by) {\n  var dx = ax - bx;\n  var dy = ay - by;\n  return dx * dx + dy * dy;\n}\n\nfunction orient(px, py, qx, qy, rx, ry) {\n  return (qy - py) * (rx - qx) - (qx - px) * (ry - qy) < 0;\n}\n\nfunction inCircle(ax, ay, bx, by, cx, cy, px, py) {\n  var dx = ax - px;\n  var dy = ay - py;\n  var ex = bx - px;\n  var ey = by - py;\n  var fx = cx - px;\n  var fy = cy - py;\n  var ap = dx * dx + dy * dy;\n  var bp = ex * ex + ey * ey;\n  var cp = fx * fx + fy * fy;\n  return dx * (ey * cp - bp * fy) - dy * (ex * cp - bp * fx) + ap * (ex * fy - ey * fx) < 0;\n}\n\nfunction circumradius(ax, ay, bx, by, cx, cy) {\n  var dx = bx - ax;\n  var dy = by - ay;\n  var ex = cx - ax;\n  var ey = cy - ay;\n  var bl = dx * dx + dy * dy;\n  var cl = ex * ex + ey * ey;\n  var d = 0.5 / (dx * ey - dy * ex);\n  var x = (ey * bl - dy * cl) * d;\n  var y = (dx * cl - ex * bl) * d;\n  return x * x + y * y;\n}\n\nfunction circumcenter(ax, ay, bx, by, cx, cy) {\n  var dx = bx - ax;\n  var dy = by - ay;\n  var ex = cx - ax;\n  var ey = cy - ay;\n  var bl = dx * dx + dy * dy;\n  var cl = ex * ex + ey * ey;\n  var d = 0.5 / (dx * ey - dy * ex);\n  var x = ax + (ey * bl - dy * cl) * d;\n  var y = ay + (dx * cl - ex * bl) * d;\n  return {\n    x: x,\n    y: y\n  };\n}\n\nfunction quicksort(ids, dists, left, right) {\n  if (right - left <= 20) {\n    for (var i = left + 1; i <= right; i++) {\n      var temp = ids[i];\n      var tempDist = dists[temp];\n      var j = i - 1;\n\n      while (j >= left && dists[ids[j]] > tempDist) {\n        ids[j + 1] = ids[j--];\n      }\n\n      ids[j + 1] = temp;\n    }\n  } else {\n    var median = left + right >> 1;\n\n    var _i10 = left + 1;\n\n    var _j2 = right;\n    swap(ids, median, _i10);\n    if (dists[ids[left]] > dists[ids[right]]) swap(ids, left, right);\n    if (dists[ids[_i10]] > dists[ids[right]]) swap(ids, _i10, right);\n    if (dists[ids[left]] > dists[ids[_i10]]) swap(ids, left, _i10);\n    var _temp = ids[_i10];\n    var _tempDist = dists[_temp];\n\n    while (true) {\n      do {\n        _i10++;\n      } while (dists[ids[_i10]] < _tempDist);\n\n      do {\n        _j2--;\n      } while (dists[ids[_j2]] > _tempDist);\n\n      if (_j2 < _i10) break;\n      swap(ids, _i10, _j2);\n    }\n\n    ids[left + 1] = ids[_j2];\n    ids[_j2] = _temp;\n\n    if (right - _i10 + 1 >= _j2 - left) {\n      quicksort(ids, dists, _i10, right);\n      quicksort(ids, dists, left, _j2 - 1);\n    } else {\n      quicksort(ids, dists, left, _j2 - 1);\n      quicksort(ids, dists, _i10, right);\n    }\n  }\n}\n\nfunction swap(arr, i, j) {\n  var tmp = arr[i];\n  arr[i] = arr[j];\n  arr[j] = tmp;\n}\n\nfunction defaultGetX(p) {\n  return p[0];\n}\n\nfunction defaultGetY(p) {\n  return p[1];\n}","import _classCallCheck from \"/Users/raphael.benitte/projects/plouc/nivo/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/raphael.benitte/projects/plouc/nivo/node_modules/@babel/runtime/helpers/esm/createClass\";\nvar epsilon = 1e-6;\n\nvar Path =\n/*#__PURE__*/\nfunction () {\n  function Path() {\n    _classCallCheck(this, Path);\n\n    this._x0 = this._y0 = // start of current subpath\n    this._x1 = this._y1 = null; // end of current subpath\n\n    this._ = \"\";\n  }\n\n  _createClass(Path, [{\n    key: \"moveTo\",\n    value: function moveTo(x, y) {\n      this._ += \"M\".concat(this._x0 = this._x1 = +x, \",\").concat(this._y0 = this._y1 = +y);\n    }\n  }, {\n    key: \"closePath\",\n    value: function closePath() {\n      if (this._x1 !== null) {\n        this._x1 = this._x0, this._y1 = this._y0;\n        this._ += \"Z\";\n      }\n    }\n  }, {\n    key: \"lineTo\",\n    value: function lineTo(x, y) {\n      this._ += \"L\".concat(this._x1 = +x, \",\").concat(this._y1 = +y);\n    }\n  }, {\n    key: \"arc\",\n    value: function arc(x, y, r) {\n      x = +x, y = +y, r = +r;\n      var x0 = x + r;\n      var y0 = y;\n      if (r < 0) throw new Error(\"negative radius\");\n      if (this._x1 === null) this._ += \"M\".concat(x0, \",\").concat(y0);else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) this._ += \"L\" + x0 + \",\" + y0;\n      if (!r) return;\n      this._ += \"A\".concat(r, \",\").concat(r, \",0,1,1,\").concat(x - r, \",\").concat(y, \"A\").concat(r, \",\").concat(r, \",0,1,1,\").concat(this._x1 = x0, \",\").concat(this._y1 = y0);\n    }\n  }, {\n    key: \"rect\",\n    value: function rect(x, y, w, h) {\n      this._ += \"M\".concat(this._x0 = this._x1 = +x, \",\").concat(this._y0 = this._y1 = +y, \"h\").concat(+w, \"v\").concat(+h, \"h\").concat(-w, \"Z\");\n    }\n  }, {\n    key: \"value\",\n    value: function value() {\n      return this._ || null;\n    }\n  }]);\n\n  return Path;\n}();\n\nexport { Path as default };","import _classCallCheck from \"/Users/raphael.benitte/projects/plouc/nivo/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/raphael.benitte/projects/plouc/nivo/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nvar Polygon =\n/*#__PURE__*/\nfunction () {\n  function Polygon() {\n    _classCallCheck(this, Polygon);\n\n    this._ = [];\n  }\n\n  _createClass(Polygon, [{\n    key: \"moveTo\",\n    value: function moveTo(x, y) {\n      this._.push([x, y]);\n    }\n  }, {\n    key: \"closePath\",\n    value: function closePath() {\n      this._.push(this._[0].slice());\n    }\n  }, {\n    key: \"lineTo\",\n    value: function lineTo(x, y) {\n      this._.push([x, y]);\n    }\n  }, {\n    key: \"value\",\n    value: function value() {\n      return this._.length ? this._ : null;\n    }\n  }]);\n\n  return Polygon;\n}();\n\nexport { Polygon as default };","import \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.array.from\";\nimport _regeneratorRuntime from \"/Users/raphael.benitte/projects/plouc/nivo/node_modules/@babel/runtime/regenerator\";\nimport \"regenerator-runtime/runtime\";\nimport \"core-js/modules/es6.typed.float64-array\";\nimport _slicedToArray from \"/Users/raphael.benitte/projects/plouc/nivo/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"/Users/raphael.benitte/projects/plouc/nivo/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/raphael.benitte/projects/plouc/nivo/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport Path from \"./path.js\";\nimport Polygon from \"./polygon.js\";\n\nvar Voronoi =\n/*#__PURE__*/\nfunction () {\n  function Voronoi(delaunay) {\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [0, 0, 960, 500],\n        _ref2 = _slicedToArray(_ref, 4),\n        xmin = _ref2[0],\n        ymin = _ref2[1],\n        xmax = _ref2[2],\n        ymax = _ref2[3];\n\n    _classCallCheck(this, Voronoi);\n\n    if (!((xmax = +xmax) >= (xmin = +xmin)) || !((ymax = +ymax) >= (ymin = +ymin))) throw new Error(\"invalid bounds\");\n    this.delaunay = delaunay;\n    this._circumcenters = new Float64Array(delaunay.points.length * 2);\n    this.vectors = new Float64Array(delaunay.points.length * 2);\n    this.xmax = xmax, this.xmin = xmin;\n    this.ymax = ymax, this.ymin = ymin;\n\n    this._init();\n  }\n\n  _createClass(Voronoi, [{\n    key: \"update\",\n    value: function update() {\n      this.delaunay.update();\n\n      this._init();\n\n      return this;\n    }\n  }, {\n    key: \"_init\",\n    value: function _init() {\n      var _this$delaunay = this.delaunay,\n          points = _this$delaunay.points,\n          hull = _this$delaunay.hull,\n          triangles = _this$delaunay.triangles,\n          vectors = this.vectors; // Compute circumcenters.\n\n      var circumcenters = this.circumcenters = this._circumcenters.subarray(0, triangles.length / 3 * 2);\n\n      for (var i = 0, j = 0, n = triangles.length; i < n; i += 3, j += 2) {\n        var t1 = triangles[i] * 2;\n        var t2 = triangles[i + 1] * 2;\n        var t3 = triangles[i + 2] * 2;\n        var _x = points[t1];\n        var _y = points[t1 + 1];\n        var x2 = points[t2];\n        var y2 = points[t2 + 1];\n        var x3 = points[t3];\n        var y3 = points[t3 + 1];\n        var a2 = _x - x2;\n        var a3 = _x - x3;\n        var b2 = _y - y2;\n        var b3 = _y - y3;\n        var d1 = _x * _x + _y * _y;\n        var d2 = d1 - x2 * x2 - y2 * y2;\n        var d3 = d1 - x3 * x3 - y3 * y3;\n        var ab = (a3 * b2 - a2 * b3) * 2; // degenerate case (2 points)\n\n        if (!ab) {\n          circumcenters[j] = (_x + x3) / 2 + 1e8 * b3;\n          circumcenters[j + 1] = (_y + y3) / 2 - 1e8 * a3;\n        } else {\n          circumcenters[j] = (b2 * d3 - b3 * d2) / ab;\n          circumcenters[j + 1] = (a3 * d2 - a2 * d3) / ab;\n        }\n      } // Compute exterior cell rays.\n\n\n      var h = hull[hull.length - 1];\n      var p0,\n          p1 = h * 4;\n      var x0,\n          x1 = points[2 * h];\n      var y0,\n          y1 = points[2 * h + 1];\n\n      for (var _i = 0; _i < hull.length; ++_i) {\n        h = hull[_i];\n        p0 = p1, x0 = x1, y0 = y1;\n        p1 = h * 4, x1 = points[2 * h], y1 = points[2 * h + 1];\n        vectors[p0 + 2] = vectors[p1] = y0 - y1;\n        vectors[p0 + 3] = vectors[p1 + 1] = x1 - x0;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render(context) {\n      var buffer = context == null ? context = new Path() : undefined;\n      var _this$delaunay2 = this.delaunay,\n          halfedges = _this$delaunay2.halfedges,\n          inedges = _this$delaunay2.inedges,\n          hull = _this$delaunay2.hull,\n          circumcenters = this.circumcenters,\n          vectors = this.vectors;\n      if (hull.length <= 1) return null;\n\n      for (var i = 0, n = halfedges.length; i < n; ++i) {\n        var j = halfedges[i];\n        if (j < i) continue;\n        var ti = Math.floor(i / 3) * 2;\n        var tj = Math.floor(j / 3) * 2;\n        var xi = circumcenters[ti];\n        var yi = circumcenters[ti + 1];\n        var xj = circumcenters[tj];\n        var yj = circumcenters[tj + 1];\n\n        this._renderSegment(xi, yi, xj, yj, context);\n      }\n\n      var h0,\n          h1 = hull[hull.length - 1];\n\n      for (var _i2 = 0; _i2 < hull.length; ++_i2) {\n        h0 = h1, h1 = hull[_i2];\n        var t = Math.floor(inedges[h1] / 3) * 2;\n        var x = circumcenters[t];\n        var y = circumcenters[t + 1];\n        var v = h0 * 4;\n\n        var p = this._project(x, y, vectors[v + 2], vectors[v + 3]);\n\n        if (p) this._renderSegment(x, y, p[0], p[1], context);\n      }\n\n      return buffer && buffer.value();\n    }\n  }, {\n    key: \"renderBounds\",\n    value: function renderBounds(context) {\n      var buffer = context == null ? context = new Path() : undefined;\n      context.rect(this.xmin, this.ymin, this.xmax - this.xmin, this.ymax - this.ymin);\n      return buffer && buffer.value();\n    }\n  }, {\n    key: \"renderCell\",\n    value: function renderCell(i, context) {\n      var buffer = context == null ? context = new Path() : undefined;\n\n      var points = this._clip(i);\n\n      if (points === null) return;\n      context.moveTo(points[0], points[1]);\n\n      for (var _i3 = 2, n = points.length; _i3 < n; _i3 += 2) {\n        context.lineTo(points[_i3], points[_i3 + 1]);\n      }\n\n      context.closePath();\n      return buffer && buffer.value();\n    }\n  }, {\n    key: \"cellPolygons\",\n    value:\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function cellPolygons() {\n      var points, i, n, cell;\n      return _regeneratorRuntime.wrap(function cellPolygons$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              points = this.delaunay.points;\n              i = 0, n = points.length / 2;\n\n            case 2:\n              if (!(i < n)) {\n                _context.next = 10;\n                break;\n              }\n\n              cell = this.cellPolygon(i);\n\n              if (!cell) {\n                _context.next = 7;\n                break;\n              }\n\n              _context.next = 7;\n              return cell;\n\n            case 7:\n              ++i;\n              _context.next = 2;\n              break;\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, cellPolygons, this);\n    })\n  }, {\n    key: \"cellPolygon\",\n    value: function cellPolygon(i) {\n      var polygon = new Polygon();\n      this.renderCell(i, polygon);\n      return polygon.value();\n    }\n  }, {\n    key: \"_renderSegment\",\n    value: function _renderSegment(x0, y0, x1, y1, context) {\n      var S;\n\n      var c0 = this._regioncode(x0, y0);\n\n      var c1 = this._regioncode(x1, y1);\n\n      if (c0 === 0 && c1 === 0) {\n        context.moveTo(x0, y0);\n        context.lineTo(x1, y1);\n      } else if (S = this._clipSegment(x0, y0, x1, y1, c0, c1)) {\n        context.moveTo(S[0], S[1]);\n        context.lineTo(S[2], S[3]);\n      }\n    }\n  }, {\n    key: \"contains\",\n    value: function contains(i, x, y) {\n      if ((x = +x, x !== x) || (y = +y, y !== y)) return false;\n      return this.delaunay._step(i, x, y) === i;\n    }\n  }, {\n    key: \"_cell\",\n    value: function _cell(i) {\n      var circumcenters = this.circumcenters,\n          _this$delaunay3 = this.delaunay,\n          inedges = _this$delaunay3.inedges,\n          halfedges = _this$delaunay3.halfedges,\n          triangles = _this$delaunay3.triangles;\n      var e0 = inedges[i];\n      if (e0 === -1) return null; // coincident point\n\n      var points = [];\n      var e = e0;\n\n      do {\n        var t = Math.floor(e / 3);\n        points.push(circumcenters[t * 2], circumcenters[t * 2 + 1]);\n        e = e % 3 === 2 ? e - 2 : e + 1;\n        if (triangles[e] !== i) break; // bad triangulation\n\n        e = halfedges[e];\n      } while (e !== e0 && e !== -1);\n\n      return points;\n    }\n  }, {\n    key: \"_clip\",\n    value: function _clip(i) {\n      // degenerate case (1 valid point: return the box)\n      if (i === 0 && this.delaunay.hull.length === 1) {\n        return [this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax, this.xmin, this.ymin];\n      }\n\n      var points = this._cell(i);\n\n      if (points === null) return null;\n      var V = this.vectors;\n      var v = i * 4;\n      return V[v] || V[v + 1] ? this._clipInfinite(i, points, V[v], V[v + 1], V[v + 2], V[v + 3]) : this._clipFinite(i, points);\n    }\n  }, {\n    key: \"_clipFinite\",\n    value: function _clipFinite(i, points) {\n      var n = points.length;\n      var P = null;\n      var x0,\n          y0,\n          x1 = points[n - 2],\n          y1 = points[n - 1];\n\n      var c0,\n          c1 = this._regioncode(x1, y1);\n\n      var e0, e1;\n\n      for (var j = 0; j < n; j += 2) {\n        x0 = x1, y0 = y1, x1 = points[j], y1 = points[j + 1];\n        c0 = c1, c1 = this._regioncode(x1, y1);\n\n        if (c0 === 0 && c1 === 0) {\n          e0 = e1, e1 = 0;\n          if (P) P.push(x1, y1);else P = [x1, y1];\n        } else {\n          var S = void 0,\n              sx0 = void 0,\n              sy0 = void 0,\n              sx1 = void 0,\n              sy1 = void 0;\n\n          if (c0 === 0) {\n            if ((S = this._clipSegment(x0, y0, x1, y1, c0, c1)) === null) continue;\n            var _S = S;\n\n            var _S2 = _slicedToArray(_S, 4);\n\n            sx0 = _S2[0];\n            sy0 = _S2[1];\n            sx1 = _S2[2];\n            sy1 = _S2[3];\n          } else {\n            if ((S = this._clipSegment(x1, y1, x0, y0, c1, c0)) === null) continue;\n            var _S3 = S;\n\n            var _S4 = _slicedToArray(_S3, 4);\n\n            sx1 = _S4[0];\n            sy1 = _S4[1];\n            sx0 = _S4[2];\n            sy0 = _S4[3];\n            e0 = e1, e1 = this._edgecode(sx0, sy0);\n            if (e0 && e1) this._edge(i, e0, e1, P, P.length);\n            if (P) P.push(sx0, sy0);else P = [sx0, sy0];\n          }\n\n          e0 = e1, e1 = this._edgecode(sx1, sy1);\n          if (e0 && e1) this._edge(i, e0, e1, P, P.length);\n          if (P) P.push(sx1, sy1);else P = [sx1, sy1];\n        }\n      }\n\n      if (P) {\n        e0 = e1, e1 = this._edgecode(P[0], P[1]);\n        if (e0 && e1) this._edge(i, e0, e1, P, P.length);\n      } else if (this.contains(i, (this.xmin + this.xmax) / 2, (this.ymin + this.ymax) / 2)) {\n        return [this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax, this.xmin, this.ymin];\n      }\n\n      return P;\n    }\n  }, {\n    key: \"_clipSegment\",\n    value: function _clipSegment(x0, y0, x1, y1, c0, c1) {\n      while (true) {\n        if (c0 === 0 && c1 === 0) return [x0, y0, x1, y1];\n        if (c0 & c1) return null;\n        var x = void 0,\n            y = void 0,\n            c = c0 || c1;\n        if (c & 8) x = x0 + (x1 - x0) * (this.ymax - y0) / (y1 - y0), y = this.ymax;else if (c & 4) x = x0 + (x1 - x0) * (this.ymin - y0) / (y1 - y0), y = this.ymin;else if (c & 2) y = y0 + (y1 - y0) * (this.xmax - x0) / (x1 - x0), x = this.xmax;else y = y0 + (y1 - y0) * (this.xmin - x0) / (x1 - x0), x = this.xmin;\n        if (c0) x0 = x, y0 = y, c0 = this._regioncode(x0, y0);else x1 = x, y1 = y, c1 = this._regioncode(x1, y1);\n      }\n    }\n  }, {\n    key: \"_clipInfinite\",\n    value: function _clipInfinite(i, points, vx0, vy0, vxn, vyn) {\n      var P = Array.from(points),\n          p;\n      if (p = this._project(P[0], P[1], vx0, vy0)) P.unshift(p[0], p[1]);\n      if (p = this._project(P[P.length - 2], P[P.length - 1], vxn, vyn)) P.push(p[0], p[1]);\n\n      if (P = this._clipFinite(i, P)) {\n        for (var j = 0, n = P.length, c0, c1 = this._edgecode(P[n - 2], P[n - 1]); j < n; j += 2) {\n          c0 = c1, c1 = this._edgecode(P[j], P[j + 1]);\n          if (c0 && c1) j = this._edge(i, c0, c1, P, j), n = P.length;\n        }\n      } else if (this.contains(i, (this.xmin + this.xmax) / 2, (this.ymin + this.ymax) / 2)) {\n        P = [this.xmin, this.ymin, this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax];\n      }\n\n      return P;\n    }\n  }, {\n    key: \"_edge\",\n    value: function _edge(i, e0, e1, P, j) {\n      while (e0 !== e1) {\n        var x = void 0,\n            y = void 0;\n\n        switch (e0) {\n          case 5:\n            e0 = 4;\n            continue;\n          // top-left\n\n          case 4:\n            e0 = 6, x = this.xmax, y = this.ymin;\n            break;\n          // top\n\n          case 6:\n            e0 = 2;\n            continue;\n          // top-right\n\n          case 2:\n            e0 = 10, x = this.xmax, y = this.ymax;\n            break;\n          // right\n\n          case 10:\n            e0 = 8;\n            continue;\n          // bottom-right\n\n          case 8:\n            e0 = 9, x = this.xmin, y = this.ymax;\n            break;\n          // bottom\n\n          case 9:\n            e0 = 1;\n            continue;\n          // bottom-left\n\n          case 1:\n            e0 = 5, x = this.xmin, y = this.ymin;\n            break;\n          // left\n        }\n\n        if ((P[j] !== x || P[j + 1] !== y) && this.contains(i, x, y)) {\n          P.splice(j, 0, x, y), j += 2;\n        }\n      }\n\n      return j;\n    }\n  }, {\n    key: \"_project\",\n    value: function _project(x0, y0, vx, vy) {\n      var t = Infinity,\n          c,\n          x,\n          y;\n\n      if (vy < 0) {\n        // top\n        if (y0 <= this.ymin) return null;\n        if ((c = (this.ymin - y0) / vy) < t) y = this.ymin, x = x0 + (t = c) * vx;\n      } else if (vy > 0) {\n        // bottom\n        if (y0 >= this.ymax) return null;\n        if ((c = (this.ymax - y0) / vy) < t) y = this.ymax, x = x0 + (t = c) * vx;\n      }\n\n      if (vx > 0) {\n        // right\n        if (x0 >= this.xmax) return null;\n        if ((c = (this.xmax - x0) / vx) < t) x = this.xmax, y = y0 + (t = c) * vy;\n      } else if (vx < 0) {\n        // left\n        if (x0 <= this.xmin) return null;\n        if ((c = (this.xmin - x0) / vx) < t) x = this.xmin, y = y0 + (t = c) * vy;\n      }\n\n      return [x, y];\n    }\n  }, {\n    key: \"_edgecode\",\n    value: function _edgecode(x, y) {\n      return (x === this.xmin ? 1 : x === this.xmax ? 2 : 0) | (y === this.ymin ? 4 : y === this.ymax ? 8 : 0);\n    }\n  }, {\n    key: \"_regioncode\",\n    value: function _regioncode(x, y) {\n      return (x < this.xmin ? 1 : x > this.xmax ? 2 : 0) | (y < this.ymin ? 4 : y > this.ymax ? 8 : 0);\n    }\n  }]);\n\n  return Voronoi;\n}();\n\nexport { Voronoi as default };","import \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.typed.float64-array\";\nimport _regeneratorRuntime from \"/Users/raphael.benitte/projects/plouc/nivo/node_modules/@babel/runtime/regenerator\";\nimport \"core-js/modules/es6.array.index-of\";\nimport \"regenerator-runtime/runtime\";\nimport \"core-js/modules/es6.array.fill\";\nimport \"core-js/modules/es6.array.sort\";\nimport \"core-js/modules/es6.typed.int32-array\";\nimport _classCallCheck from \"/Users/raphael.benitte/projects/plouc/nivo/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/raphael.benitte/projects/plouc/nivo/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nvar _marked =\n/*#__PURE__*/\n_regeneratorRuntime.mark(flatIterable);\n\nimport Delaunator from \"delaunator\";\nimport Path from \"./path.js\";\nimport Polygon from \"./polygon.js\";\nimport Voronoi from \"./voronoi.js\";\nvar tau = 2 * Math.PI;\n\nfunction pointX(p) {\n  return p[0];\n}\n\nfunction pointY(p) {\n  return p[1];\n}\n\nfunction area(hull, points) {\n  var n = hull.length,\n      x0,\n      y0,\n      x1 = points[2 * hull[n - 1]],\n      y1 = points[2 * hull[n - 1] + 1],\n      area = 0;\n\n  for (var i = 0; i < n; i++) {\n    x0 = x1, y0 = y1;\n    x1 = points[2 * hull[i]];\n    y1 = points[2 * hull[i] + 1];\n    area += y0 * x1 - x0 * y1;\n  }\n\n  return area / 2;\n}\n\nfunction jitter(x, y, r) {\n  return [x + Math.sin(x + y) * r, y + Math.cos(x - y) * r];\n}\n\nvar Delaunay =\n/*#__PURE__*/\nfunction () {\n  function Delaunay(points) {\n    _classCallCheck(this, Delaunay);\n\n    this._delaunator = new Delaunator(points);\n    this.inedges = new Int32Array(points.length / 2);\n    this._hullIndex = new Int32Array(points.length / 2);\n    this.points = this._delaunator.coords;\n\n    this._init();\n  }\n\n  _createClass(Delaunay, [{\n    key: \"update\",\n    value: function update() {\n      this._delaunator.update();\n\n      this._init();\n\n      return this;\n    }\n  }, {\n    key: \"_init\",\n    value: function _init() {\n      var d = this._delaunator,\n          points = this.points; // check for collinear\n\n      if (d.hull && d.hull.length > 2 && area(d.hull, points) < 1e-10) {\n        this.collinear = Int32Array.from({\n          length: points.length / 2\n        }, function (_, i) {\n          return i;\n        }).sort(function (i, j) {\n          return points[2 * i] - points[2 * j] || points[2 * i + 1] - points[2 * j + 1];\n        }); // for exact neighbors\n\n        var e = this.collinear[0],\n            f = this.collinear[this.collinear.length - 1],\n            bounds = [points[2 * e], points[2 * e + 1], points[2 * f], points[2 * f + 1]],\n            r = 1e-8 * Math.sqrt(Math.pow(bounds[3] - bounds[1], 2) + Math.pow(bounds[2] - bounds[0], 2));\n\n        for (var i = 0, n = points.length / 2; i < n; ++i) {\n          var p = jitter(points[2 * i], points[2 * i + 1], r);\n          points[2 * i] = p[0];\n          points[2 * i + 1] = p[1];\n        }\n\n        this._delaunator = new Delaunator(points);\n      } else {\n        delete this.collinear;\n      }\n\n      var halfedges = this.halfedges = this._delaunator.halfedges;\n      var hull = this.hull = this._delaunator.hull;\n      var triangles = this.triangles = this._delaunator.triangles;\n      var inedges = this.inedges.fill(-1);\n\n      var hullIndex = this._hullIndex.fill(-1); // Compute an index from each point to an (arbitrary) incoming halfedge\n      // Used to give the first neighbor of each point; for this reason,\n      // on the hull we give priority to exterior halfedges\n\n\n      for (var _e = 0, _n = halfedges.length; _e < _n; ++_e) {\n        var _p = triangles[_e % 3 === 2 ? _e - 2 : _e + 1];\n        if (halfedges[_e] === -1 || inedges[_p] === -1) inedges[_p] = _e;\n      }\n\n      for (var _i = 0, _n2 = hull.length; _i < _n2; ++_i) {\n        hullIndex[hull[_i]] = _i;\n      } // degenerate case: 1 or 2 (distinct) points\n\n\n      if (hull.length <= 2 && hull.length > 0) {\n        this.triangles = new Int32Array(3).fill(-1);\n        this.halfedges = new Int32Array(3).fill(-1);\n        this.triangles[0] = hull[0];\n        this.triangles[1] = hull[1];\n        this.triangles[2] = hull[1];\n        inedges[hull[0]] = 1;\n        if (hull.length === 2) inedges[hull[1]] = 0;\n      }\n    }\n  }, {\n    key: \"voronoi\",\n    value: function voronoi(bounds) {\n      return new Voronoi(this, bounds);\n    }\n  }, {\n    key: \"neighbors\",\n    value:\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function neighbors(i) {\n      var inedges, hull, _hullIndex, halfedges, triangles, l, e0, e, p0, p;\n\n      return _regeneratorRuntime.wrap(function neighbors$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              inedges = this.inedges, hull = this.hull, _hullIndex = this._hullIndex, halfedges = this.halfedges, triangles = this.triangles; // degenerate case with several collinear points\n\n              if (!this.collinear) {\n                _context.next = 10;\n                break;\n              }\n\n              l = this.collinear.indexOf(i);\n\n              if (!(l > 0)) {\n                _context.next = 6;\n                break;\n              }\n\n              _context.next = 6;\n              return this.collinear[l - 1];\n\n            case 6:\n              if (!(l < this.collinear.length - 1)) {\n                _context.next = 9;\n                break;\n              }\n\n              _context.next = 9;\n              return this.collinear[l + 1];\n\n            case 9:\n              return _context.abrupt(\"return\");\n\n            case 10:\n              e0 = inedges[i];\n\n              if (!(e0 === -1)) {\n                _context.next = 13;\n                break;\n              }\n\n              return _context.abrupt(\"return\");\n\n            case 13:\n              // coincident point\n              e = e0, p0 = -1;\n\n            case 14:\n              _context.next = 16;\n              return p0 = triangles[e];\n\n            case 16:\n              e = e % 3 === 2 ? e - 2 : e + 1;\n\n              if (!(triangles[e] !== i)) {\n                _context.next = 19;\n                break;\n              }\n\n              return _context.abrupt(\"return\");\n\n            case 19:\n              // bad triangulation\n              e = halfedges[e];\n\n              if (!(e === -1)) {\n                _context.next = 26;\n                break;\n              }\n\n              p = hull[(_hullIndex[i] + 1) % hull.length];\n\n              if (!(p !== p0)) {\n                _context.next = 25;\n                break;\n              }\n\n              _context.next = 25;\n              return p;\n\n            case 25:\n              return _context.abrupt(\"return\");\n\n            case 26:\n              if (e !== e0) {\n                _context.next = 14;\n                break;\n              }\n\n            case 27:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, neighbors, this);\n    })\n  }, {\n    key: \"find\",\n    value: function find(x, y) {\n      var i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n      if ((x = +x, x !== x) || (y = +y, y !== y)) return -1;\n      var i0 = i;\n      var c;\n\n      while ((c = this._step(i, x, y)) >= 0 && c !== i && c !== i0) {\n        i = c;\n      }\n\n      return c;\n    }\n  }, {\n    key: \"_step\",\n    value: function _step(i, x, y) {\n      var inedges = this.inedges,\n          hull = this.hull,\n          _hullIndex = this._hullIndex,\n          halfedges = this.halfedges,\n          triangles = this.triangles,\n          points = this.points;\n      if (inedges[i] === -1 || !points.length) return (i + 1) % (points.length >> 1);\n      var c = i;\n      var dc = Math.pow(x - points[i * 2], 2) + Math.pow(y - points[i * 2 + 1], 2);\n      var e0 = inedges[i];\n      var e = e0;\n\n      do {\n        var t = triangles[e];\n        var dt = Math.pow(x - points[t * 2], 2) + Math.pow(y - points[t * 2 + 1], 2);\n        if (dt < dc) dc = dt, c = t;\n        e = e % 3 === 2 ? e - 2 : e + 1;\n        if (triangles[e] !== i) break; // bad triangulation\n\n        e = halfedges[e];\n\n        if (e === -1) {\n          e = hull[(_hullIndex[i] + 1) % hull.length];\n\n          if (e !== t) {\n            if (Math.pow(x - points[e * 2], 2) + Math.pow(y - points[e * 2 + 1], 2) < dc) return e;\n          }\n\n          break;\n        }\n      } while (e !== e0);\n\n      return c;\n    }\n  }, {\n    key: \"render\",\n    value: function render(context) {\n      var buffer = context == null ? context = new Path() : undefined;\n      var points = this.points,\n          halfedges = this.halfedges,\n          triangles = this.triangles;\n\n      for (var i = 0, n = halfedges.length; i < n; ++i) {\n        var j = halfedges[i];\n        if (j < i) continue;\n        var ti = triangles[i] * 2;\n        var tj = triangles[j] * 2;\n        context.moveTo(points[ti], points[ti + 1]);\n        context.lineTo(points[tj], points[tj + 1]);\n      }\n\n      this.renderHull(context);\n      return buffer && buffer.value();\n    }\n  }, {\n    key: \"renderPoints\",\n    value: function renderPoints(context) {\n      var r = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;\n      var buffer = context == null ? context = new Path() : undefined;\n      var points = this.points;\n\n      for (var i = 0, n = points.length; i < n; i += 2) {\n        var x = points[i],\n            y = points[i + 1];\n        context.moveTo(x + r, y);\n        context.arc(x, y, r, 0, tau);\n      }\n\n      return buffer && buffer.value();\n    }\n  }, {\n    key: \"renderHull\",\n    value: function renderHull(context) {\n      var buffer = context == null ? context = new Path() : undefined;\n      var hull = this.hull,\n          points = this.points;\n      var h = hull[0] * 2,\n          n = hull.length;\n      context.moveTo(points[h], points[h + 1]);\n\n      for (var i = 1; i < n; ++i) {\n        var _h = 2 * hull[i];\n\n        context.lineTo(points[_h], points[_h + 1]);\n      }\n\n      context.closePath();\n      return buffer && buffer.value();\n    }\n  }, {\n    key: \"hullPolygon\",\n    value: function hullPolygon() {\n      var polygon = new Polygon();\n      this.renderHull(polygon);\n      return polygon.value();\n    }\n  }, {\n    key: \"renderTriangle\",\n    value: function renderTriangle(i, context) {\n      var buffer = context == null ? context = new Path() : undefined;\n      var points = this.points,\n          triangles = this.triangles;\n      var t0 = triangles[i *= 3] * 2;\n      var t1 = triangles[i + 1] * 2;\n      var t2 = triangles[i + 2] * 2;\n      context.moveTo(points[t0], points[t0 + 1]);\n      context.lineTo(points[t1], points[t1 + 1]);\n      context.lineTo(points[t2], points[t2 + 1]);\n      context.closePath();\n      return buffer && buffer.value();\n    }\n  }, {\n    key: \"trianglePolygons\",\n    value:\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function trianglePolygons() {\n      var triangles, i, n;\n      return _regeneratorRuntime.wrap(function trianglePolygons$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              triangles = this.triangles;\n              i = 0, n = triangles.length / 3;\n\n            case 2:\n              if (!(i < n)) {\n                _context2.next = 8;\n                break;\n              }\n\n              _context2.next = 5;\n              return this.trianglePolygon(i);\n\n            case 5:\n              ++i;\n              _context2.next = 2;\n              break;\n\n            case 8:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, trianglePolygons, this);\n    })\n  }, {\n    key: \"trianglePolygon\",\n    value: function trianglePolygon(i) {\n      var polygon = new Polygon();\n      this.renderTriangle(i, polygon);\n      return polygon.value();\n    }\n  }]);\n\n  return Delaunay;\n}();\n\nexport { Delaunay as default };\n\nDelaunay.from = function (points) {\n  var fx = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : pointX;\n  var fy = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : pointY;\n  var that = arguments.length > 3 ? arguments[3] : undefined;\n  return new Delaunay(\"length\" in points ? flatArray(points, fx, fy, that) : Float64Array.from(flatIterable(points, fx, fy, that)));\n};\n\nfunction flatArray(points, fx, fy, that) {\n  var n = points.length;\n  var array = new Float64Array(n * 2);\n\n  for (var i = 0; i < n; ++i) {\n    var p = points[i];\n    array[i * 2] = fx.call(that, p, i, points);\n    array[i * 2 + 1] = fy.call(that, p, i, points);\n  }\n\n  return array;\n}\n\nfunction flatIterable(points, fx, fy, that) {\n  var i, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step2, p;\n\n  return _regeneratorRuntime.wrap(function flatIterable$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          i = 0;\n          _iteratorNormalCompletion = true;\n          _didIteratorError = false;\n          _iteratorError = undefined;\n          _context3.prev = 4;\n          _iterator = points[Symbol.iterator]();\n\n        case 6:\n          if (_iteratorNormalCompletion = (_step2 = _iterator.next()).done) {\n            _context3.next = 16;\n            break;\n          }\n\n          p = _step2.value;\n          _context3.next = 10;\n          return fx.call(that, p, i, points);\n\n        case 10:\n          _context3.next = 12;\n          return fy.call(that, p, i, points);\n\n        case 12:\n          ++i;\n\n        case 13:\n          _iteratorNormalCompletion = true;\n          _context3.next = 6;\n          break;\n\n        case 16:\n          _context3.next = 22;\n          break;\n\n        case 18:\n          _context3.prev = 18;\n          _context3.t0 = _context3[\"catch\"](4);\n          _didIteratorError = true;\n          _iteratorError = _context3.t0;\n\n        case 22:\n          _context3.prev = 22;\n          _context3.prev = 23;\n\n          if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n            _iterator[\"return\"]();\n          }\n\n        case 25:\n          _context3.prev = 25;\n\n          if (!_didIteratorError) {\n            _context3.next = 28;\n            break;\n          }\n\n          throw _iteratorError;\n\n        case 28:\n          return _context3.finish(25);\n\n        case 29:\n          return _context3.finish(22);\n\n        case 30:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, _marked, null, [[4, 18, 22, 30], [23,, 25, 29]]);\n}","import React, { Fragment, useMemo, useRef, useState, useCallback } from 'react';\nimport { withTheme, withDimensions, Container, SvgWrapper, ResponsiveWrapper, getRelativeCursor } from '@nivo/core';\nimport { scaleLinear } from 'd3-scale';\nimport { Delaunay } from 'd3-delaunay';\nimport compose from 'recompose/compose';\nimport defaultProps from 'recompose/defaultProps';\nimport withPropsOnChange from 'recompose/withPropsOnChange';\nimport pure from 'recompose/pure';\nimport PropTypes from 'prop-types';\n\nvar VoronoiPropTypes = {\n  data: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n    x: PropTypes.number.isRequired,\n    y: PropTypes.number.isRequired\n  })).isRequired,\n  xDomain: PropTypes.arrayOf(PropTypes.number).isRequired,\n  yDomain: PropTypes.arrayOf(PropTypes.number).isRequired,\n  layers: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.oneOf(['links', 'cells', 'points', 'bounds']), PropTypes.func])).isRequired,\n  enableLinks: PropTypes.bool.isRequired,\n  linkLineWidth: PropTypes.number.isRequired,\n  linkLineColor: PropTypes.string.isRequired,\n  enableCells: PropTypes.bool.isRequired,\n  cellLineWidth: PropTypes.number.isRequired,\n  cellLineColor: PropTypes.string.isRequired,\n  enablePoints: PropTypes.bool.isRequired,\n  pointSize: PropTypes.number.isRequired,\n  pointColor: PropTypes.string.isRequired,\n  delaunay: PropTypes.object.isRequired,\n  voronoi: PropTypes.object.isRequired\n};\nvar VoronoiDefaultProps = {\n  xDomain: [0, 1],\n  yDomain: [0, 1],\n  layers: ['links', 'cells', 'points', 'bounds'],\n  enableLinks: false,\n  linkLineWidth: 1,\n  linkLineColor: '#bbb',\n  enableCells: true,\n  cellLineWidth: 2,\n  cellLineColor: '#000',\n  enablePoints: true,\n  pointSize: 4,\n  pointColor: '#666'\n};\n\nvar enhance = (function (Component) {\n  return compose(defaultProps(VoronoiDefaultProps), withTheme(), withDimensions(), withPropsOnChange(['xDomain', 'yDomain', 'width', 'height'], function (_ref) {\n    var xDomain = _ref.xDomain,\n        yDomain = _ref.yDomain,\n        width = _ref.width,\n        height = _ref.height;\n    return {\n      xScale: scaleLinear().domain(xDomain).range([0, width]),\n      yScale: scaleLinear().domain(yDomain).range([0, height])\n    };\n  }), withPropsOnChange(['data', 'xScale', 'yScale'], function (_ref2) {\n    var data = _ref2.data,\n        xScale = _ref2.xScale,\n        yScale = _ref2.yScale;\n    return {\n      scaledPoints: data.map(function (d) {\n        return {\n          data: d,\n          x: xScale(d.x),\n          y: yScale(d.y)\n        };\n      })\n    };\n  }), withPropsOnChange(['scaledPoints', 'width', 'height'], function (_ref3) {\n    var scaledPoints = _ref3.scaledPoints,\n        width = _ref3.width,\n        height = _ref3.height;\n    var delaunay = Delaunay.from(scaledPoints.map(function (p) {\n      return [p.x, p.y];\n    }));\n    var voronoi = delaunay.voronoi([0, 0, width, height]);\n    return {\n      delaunay: delaunay,\n      voronoi: voronoi\n    };\n  }), pure)(Component);\n});\n\nvar Voronoi = function Voronoi(_ref) {\n  var delaunay = _ref.delaunay,\n      voronoi = _ref.voronoi,\n      data = _ref.data,\n      layers = _ref.layers,\n      margin = _ref.margin,\n      width = _ref.width,\n      height = _ref.height,\n      outerWidth = _ref.outerWidth,\n      outerHeight = _ref.outerHeight,\n      enableLinks = _ref.enableLinks,\n      linkLineWidth = _ref.linkLineWidth,\n      linkLineColor = _ref.linkLineColor,\n      enableCells = _ref.enableCells,\n      cellLineWidth = _ref.cellLineWidth,\n      cellLineColor = _ref.cellLineColor,\n      enablePoints = _ref.enablePoints,\n      pointSize = _ref.pointSize,\n      pointColor = _ref.pointColor,\n      theme = _ref.theme;\n  var context = {\n    width: width,\n    height: height,\n    data: data,\n    delaunay: delaunay,\n    voronoi: voronoi\n  };\n  var layerById = {\n    bounds: React.createElement(\"path\", {\n      key: \"bounds\",\n      fill: \"none\",\n      stroke: cellLineColor,\n      strokeWidth: cellLineWidth,\n      d: voronoi.renderBounds()\n    })\n  };\n  if (enableLinks === true) {\n    layerById.links = React.createElement(\"path\", {\n      key: \"links\",\n      stroke: linkLineColor,\n      strokeWidth: linkLineWidth,\n      fill: \"none\",\n      d: delaunay.render()\n    });\n  }\n  if (enableCells === true) {\n    layerById.cells = React.createElement(\"path\", {\n      key: \"cells\",\n      d: voronoi.render(),\n      fill: \"none\",\n      stroke: cellLineColor,\n      strokeWidth: cellLineWidth\n    });\n  }\n  if (enablePoints === true) {\n    layerById.points = React.createElement(\"path\", {\n      key: \"points\",\n      stroke: \"none\",\n      fill: pointColor,\n      d: delaunay.renderPoints(undefined, pointSize / 2)\n    });\n  }\n  return React.createElement(Container, {\n    isInteractive: false,\n    theme: theme,\n    animate: false\n  }, function () {\n    return (\n      React.createElement(SvgWrapper, {\n        width: outerWidth,\n        height: outerHeight,\n        margin: margin,\n        theme: theme\n      }, layers.map(function (layer, i) {\n        if (typeof layer === 'function') {\n          return React.createElement(Fragment, {\n            key: i\n          }, layer(context));\n        }\n        return layerById[layer];\n      }))\n    );\n  });\n};\nVoronoi.propTypes = VoronoiPropTypes;\nvar Voronoi$1 = enhance(Voronoi);\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nvar ResponsiveVoronoi = function ResponsiveVoronoi(props) {\n  return React.createElement(ResponsiveWrapper, null, function (_ref) {\n    var width = _ref.width,\n        height = _ref.height;\n    return React.createElement(Voronoi$1, _extends({\n      width: width,\n      height: height\n    }, props));\n  });\n};\n\nvar getAccessor = function getAccessor(directive) {\n  return typeof directive === 'function' ? directive : function (d) {\n    return d[directive];\n  };\n};\nvar computeMeshPoints = function computeMeshPoints(_ref) {\n  var points = _ref.points,\n      _ref$x = _ref.x,\n      x = _ref$x === void 0 ? 'x' : _ref$x,\n      _ref$y = _ref.y,\n      y = _ref$y === void 0 ? 'y' : _ref$y;\n  var getX = getAccessor(x);\n  var getY = getAccessor(y);\n  return points.map(function (p) {\n    return [getX(p), getY(p)];\n  });\n};\nvar computeMesh = function computeMesh(_ref2) {\n  var points = _ref2.points,\n      width = _ref2.width,\n      height = _ref2.height,\n      debug = _ref2.debug;\n  var delaunay = Delaunay.from(points);\n  var voronoi = debug === true ? delaunay.voronoi([0, 0, width, height]) : undefined;\n  return {\n    delaunay: delaunay,\n    voronoi: voronoi\n  };\n};\n\nvar useVoronoiMesh = function useVoronoiMesh(_ref) {\n  var points = _ref.points,\n      x = _ref.x,\n      y = _ref.y,\n      width = _ref.width,\n      height = _ref.height,\n      debug = _ref.debug;\n  var points2d = useMemo(function () {\n    return computeMeshPoints({\n      points: points,\n      x: x,\n      y: y\n    });\n  }, [points, x, y]);\n  return useMemo(function () {\n    return computeMesh({\n      points: points2d,\n      width: width,\n      height: height,\n      debug: debug\n    });\n  }, [points2d, width, height, debug]);\n};\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nvar Mesh = function Mesh(_ref) {\n  var nodes = _ref.nodes,\n      width = _ref.width,\n      height = _ref.height,\n      x = _ref.x,\n      y = _ref.y,\n      debug = _ref.debug,\n      onMouseEnter = _ref.onMouseEnter,\n      onMouseMove = _ref.onMouseMove,\n      onMouseLeave = _ref.onMouseLeave,\n      onClick = _ref.onClick;\n  var elementRef = useRef(null);\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      currentIndex = _useState2[0],\n      setCurrentIndex = _useState2[1];\n  var _useVoronoiMesh = useVoronoiMesh({\n    points: nodes,\n    x: x,\n    y: y,\n    width: width,\n    height: height,\n    debug: debug\n  }),\n      delaunay = _useVoronoiMesh.delaunay,\n      voronoi = _useVoronoiMesh.voronoi;\n  var voronoiPath = useMemo(function () {\n    return debug ? voronoi.render() : undefined;\n  });\n  var getIndexAndNodeFromEvent = useCallback(function (event) {\n    var _getRelativeCursor = getRelativeCursor(elementRef.current, event),\n        _getRelativeCursor2 = _slicedToArray(_getRelativeCursor, 2),\n        x = _getRelativeCursor2[0],\n        y = _getRelativeCursor2[1];\n    var index = delaunay.find(x, y);\n    return [index, index !== undefined ? nodes[index] : null];\n  }, [delaunay]);\n  var handleMouseEnter = useCallback(function (event) {\n    var _getIndexAndNodeFromE = getIndexAndNodeFromEvent(event),\n        _getIndexAndNodeFromE2 = _slicedToArray(_getIndexAndNodeFromE, 2),\n        index = _getIndexAndNodeFromE2[0],\n        node = _getIndexAndNodeFromE2[1];\n    if (currentIndex !== index) setCurrentIndex(index);\n    node && onMouseEnter && onMouseEnter(node, event);\n  }, [getIndexAndNodeFromEvent, setCurrentIndex]);\n  var handleMouseMove = useCallback(function (event) {\n    var _getIndexAndNodeFromE3 = getIndexAndNodeFromEvent(event),\n        _getIndexAndNodeFromE4 = _slicedToArray(_getIndexAndNodeFromE3, 2),\n        index = _getIndexAndNodeFromE4[0],\n        node = _getIndexAndNodeFromE4[1];\n    if (currentIndex !== index) setCurrentIndex(index);\n    node && onMouseMove && onMouseMove(node, event);\n  }, [getIndexAndNodeFromEvent, setCurrentIndex]);\n  var handleMouseLeave = useCallback(function (event) {\n    setCurrentIndex(null);\n    if (onMouseLeave) {\n      var previousNode;\n      if (currentIndex !== undefined && currentIndex !== null) {\n        previousNode = nodes[currentIndex];\n      }\n      onMouseLeave(previousNode, event);\n    }\n  }, [setCurrentIndex]);\n  var handleClick = useCallback(function (event) {\n    var _getIndexAndNodeFromE5 = getIndexAndNodeFromEvent(event),\n        _getIndexAndNodeFromE6 = _slicedToArray(_getIndexAndNodeFromE5, 2),\n        index = _getIndexAndNodeFromE6[0],\n        node = _getIndexAndNodeFromE6[1];\n    if (currentIndex !== index) setCurrentIndex(index);\n    onClick && onClick(node, event);\n  }, [getIndexAndNodeFromEvent, setCurrentIndex]);\n  return React.createElement(\"g\", {\n    ref: elementRef\n  }, debug && React.createElement(\"path\", {\n    d: voronoiPath,\n    stroke: \"red\",\n    strokeWidth: 1,\n    opacity: 0.75\n  }), currentIndex !== null && debug && React.createElement(\"path\", {\n    fill: \"red\",\n    opacity: 0.35,\n    d: voronoi.renderCell(currentIndex)\n  }), React.createElement(\"rect\", {\n    width: width,\n    height: height,\n    fill: \"red\",\n    opacity: 0,\n    style: {\n      cursor: 'auto'\n    },\n    onMouseEnter: handleMouseEnter,\n    onMouseMove: handleMouseMove,\n    onMouseLeave: handleMouseLeave,\n    onClick: handleClick\n  }));\n};\nMesh.propTypes = {\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired,\n  nodes: PropTypes.array.isRequired,\n  x: PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.func]).isRequired,\n  y: PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.func]).isRequired,\n  onMouseEnter: PropTypes.func,\n  onMouseMove: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  onClick: PropTypes.func,\n  debug: PropTypes.bool.isRequired\n};\nMesh.defaultProps = {\n  x: 'x',\n  y: 'y',\n  debug: false\n};\n\nvar renderVoronoiToCanvas = function renderVoronoiToCanvas(ctx, voronoi) {\n  ctx.save();\n  ctx.globalAlpha = 0.75;\n  ctx.beginPath();\n  voronoi.render(ctx);\n  ctx.strokeStyle = 'red';\n  ctx.lineWidth = 1;\n  ctx.stroke();\n  ctx.restore();\n};\nvar renderVoronoiCellToCanvas = function renderVoronoiCellToCanvas(ctx, voronoi, index) {\n  ctx.save();\n  ctx.globalAlpha = 0.35;\n  ctx.beginPath();\n  voronoi.renderCell(index, ctx);\n  ctx.fillStyle = 'red';\n  ctx.fill();\n  ctx.restore();\n};\n\nexport { Mesh, ResponsiveVoronoi, Voronoi$1 as Voronoi, VoronoiDefaultProps, VoronoiPropTypes, computeMesh, computeMeshPoints, renderVoronoiCellToCanvas, renderVoronoiToCanvas, useVoronoiMesh };\n"],"sourceRoot":""}