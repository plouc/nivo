{"version":3,"sources":["webpack:///../node_modules/lodash/_baseIsDate.js","webpack:///../packages/line/dist/nivo-line.esm.js","webpack:///../node_modules/gatsby/node_modules/core-js/modules/es6.typed.uint32-array.js","webpack:///../packages/annotations/dist/nivo-annotations.esm.js","webpack:///../node_modules/lodash/flattenDepth.js","webpack:///../node_modules/gatsby/node_modules/core-js/modules/es6.typed.int32-array.js","webpack:///./src/components/styled.js","webpack:///../packages/bar/dist/nivo-bar.esm.js","webpack:///../packages/axes/dist/nivo-axes.esm.js","webpack:///../node_modules/lodash/min.js","webpack:///../node_modules/lodash/uniqBy.js","webpack:///../node_modules/lodash/_baseLt.js","webpack:///../packages/scales/dist/nivo-scales.esm.js","webpack:///../node_modules/lodash/max.js","webpack:///../node_modules/lodash/_baseGt.js","webpack:///../node_modules/lodash/filter.js","webpack:///./src/components/controls/ControlsGroups.js","webpack:///./src/pages/guides/theming.js","webpack:///./src/components/PageContent.js","webpack:///../node_modules/lodash/_baseFilter.js","webpack:///../node_modules/lodash/isDate.js","webpack:///../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack:///../node_modules/@babel/runtime/helpers/esm/createClass.js","webpack:///../node_modules/delaunator/index.js","webpack:///../node_modules/d3-delaunay/src/path.js","webpack:///../node_modules/d3-delaunay/src/polygon.js","webpack:///../node_modules/d3-delaunay/src/voronoi.js","webpack:///../node_modules/d3-delaunay/src/delaunay.js","webpack:///../packages/voronoi/dist/nivo-voronoi.esm.js","webpack:///../node_modules/lodash/_baseExtremum.js"],"names":["baseGetTag","isObjectLike","dateTag","module","exports","value","PointTooltip","memo","_ref","point","React","createElement","BasicTooltip","id","data","xFormatted","yFormatted","enableChip","color","serieColor","Chip","style","display","width","height","background","SliceTooltip$1","_ref2","slice","otherAxis","axis","TableTooltip","rows","points","map","key","serieId","concat","_objectSpread","target","i","arguments","length","source","ownKeys","Object","keys","getOwnPropertySymbols","filter","sym","getOwnPropertyDescriptor","enumerable","forEach","_defineProperty","obj","defineProperty","configurable","writable","commonPropTypes","PropTypes","arrayOf","shape","oneOfType","string","number","isRequired","x","instanceOf","Date","y","xScale","scalePropType","xFormat","func","yScale","yFormat","layers","oneOf","curve","lineCurvePropType","axisTop","axisPropType","axisRight","axisBottom","axisLeft","enableGridX","bool","enableGridY","gridXValues","gridYValues","enablePoints","pointSymbol","pointSize","pointColor","any","pointBorderWidth","pointBorderColor","markers","object","colors","ordinalColorsPropType","enableArea","areaOpacity","areaBlendMode","blendModePropType","areaBaselineValue","lineWidth","legends","LegendPropShape","isInteractive","debugMesh","tooltip","tooltipFormat","enableSlices","debugSlices","sliceTooltip","enableCrosshair","crosshairType","crosshairPropTypes","type","commonDefaultProps","enablePointLabel","useMesh","motionPropTypes","defsPropTypes","pixelRatio","min","max","from","theme","scheme","LineDefaultProps","animate","motionStiffness","motionDamping","defs","fill","LineCanvasDefaultProps","global","window","devicePixelRatio","_slicedToArray","arr","Array","isArray","_arrayWithHoles","Symbol","iterator","prototype","toString","call","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","err","_iterableToArrayLimit","TypeError","_nonIterableRest","_objectSpread$1","_defineProperty$1","_toConsumableArray","arr2","_arrayWithoutHoles","iter","_iterableToArray","_nonIterableSpread","useLine","_ref9","_ref9$xScale","xScaleSpec","_ref9$yScale","yScaleSpec","_ref9$colors","_ref9$curve","_ref9$areaBaselineVal","_ref9$pointColor","_ref9$pointBorderColo","_ref9$enableSlices","enableSlicesTooltip","formatX","useValueFormatter","formatY","getColor","useOrdinalColorScale","useTheme","getPointColor","useInheritedColor","getPointBorderColor","_useMemo","useMemo","computeXYScalesForSeries","rawSeries","series","serie","_ref3","reduce","acc","datum","position","index","borderColor","usePoints","slices","_ref4","Map","has","get","set","entries","sort","a","b","_ref5","x0","_ref6","slicePoints","prevSlice","nextSlice","y0","reverse","_map","_ref7","sliceHeight","_ref8","useSlices","lineGenerator","line","defined","d","curveFromProp","useLineGenerator","areaGenerator","area","y1","useAreaGenerator","Areas$1","lines","_useMotionConfig","useMotionConfig","springConfig","areaColor","fillOpacity","strokeWidth","mixBlendMode","SmartMotion","spring","LinesItem$1","thickness","stroke","Lines$1","SlicesItem$1","debug","isCurrent","setCurrent","_useTooltip","useTooltip","showTooltipFromEvent","hideTooltip","handleMouseEnter","useCallback","event","handleMouseMove","handleMouseLeave","strokeOpacity","onMouseEnter","onMouseMove","onMouseLeave","Slices$1","current","_extends","assign","hasOwnProperty","apply","this","Points","symbol","size","borderWidth","enableLabel","label","labelYOffset","getLabel","getLabelGenerator","mappedPoints","DotsItem","TransitionMotion","styles","interpolatedStyles","defaultProps","Points$1","Mesh$1","margin","onClick","showTooltipAt","left","top","handleClick","Mesh$2","nodes","_defineProperty$2","_extends$1","_slicedToArray$1","_arrayWithHoles$1","_iterableToArrayLimit$1","_nonIterableRest$1","Line","props","partialMargin","pointLabel","pointLabelFormat","pointLabelYOffset","_useDimensions","useDimensions","innerWidth","innerHeight","outerWidth","outerHeight","_useLine","_useState2","useState","currentPoint","setCurrentPoint","_useState4","currentSlice","setCurrentSlice","legendData","layerById","grid","Grid","xValues","yValues","CartesianMarkers","axes","Axes","right","bottom","areas","crosshair","mesh","legend","BoxLegendSvg","containerWidth","containerHeight","boundDefs","bindDefs","labelFormat","Crosshair","SvgWrapper","layer","Fragment","_objectSpread$2","Line$1","withContainer","_extends$2","ResponsiveLine","ResponsiveWrapper","_defineProperty$3","_slicedToArray$2","_arrayWithHoles$2","_iterableToArrayLimit$2","_nonIterableRest$2","LineCanvas","canvasEl","useRef","_useVoronoiMesh","useVoronoiMesh","delaunay","voronoi","useEffect","ctx","getContext","scale","fillStyle","fillRect","translate","strokeStyle","renderGridLinesToCanvas","values","renderAxesToCanvas","save","globalAlpha","context","beginPath","restore","arc","Math","PI","renderVoronoiToCanvas","renderVoronoiCellToCanvas","renderLegendToCanvas","_objectSpread$3","getPointFromMouseEvent","_getRelativeCursor2","getRelativeCursor","isCursorInRect","pointIndex","find","handleMouseHover","ref","cursor","LineCanvas$1","_extends$3","ResponsiveLineCanvas","init","byteOffset","annotationSpecPropType","match","noteX","abs","noteY","noteWidth","noteTextOffset","note","node","offset","defaultPositionAccessor","item","bindAnnotations","items","annotations","_ref$getPosition","getPosition","getDimensions","annotation","dimensions","omit","computeAnnotation","computedNoteX","computedNoteY","_ref2$noteWidth","_ref2$noteTextOffset","isPlainObject","computedX","computedY","angle","sourceX","sourceY","targetX","targetY","atan2","absoluteAngleDegrees","radiansToDegrees","getLinkAngle","positionFromAngle","degreesToRadians","eighth","round","textX","noteLineX","text","useAnnotations","useComputedAnnotations","computed","AnnotationNote","outlineWidth","strokeLinejoin","outlineColor","displayName","AnnotationLink","isOutline","link","strokeLinecap","path","interpolated","_objectSpread$4","_defineProperty$4","CircleAnnotationOutline","Motion","outline","cx","cy","r","_objectSpread$5","_defineProperty$5","DotAnnotationOutline","_objectSpread$6","_defineProperty$6","RectAnnotationOutline","Annotation","useComputedAnnotation","drawPoints","moveTo","lineTo","renderAnnotationsToCanvas","lineCap","rect","font","fontSize","fontFamily","lineJoin","strokeText","fillText","baseFlatten","toInteger","array","depth","FullWidthBanner","styled","div","cardBackground","DescriptionBlock","media","tablet","mobile","Card","cardShadow","getIndexedScale","getIndex","range","padding","scaleBand","rangeRound","domain","getGroupedScale","_minValue","_maxValue","allValues","entry","k","maxValue","minValue","scaleLinear","generateGroupedBars","options","layout","_ref$padding","_ref$innerPadding","innerPadding","barWidth","bandwidth","yRef","getY","getHeight","bars","barHeight","barData","indexValue","generateVerticalGroupedBars","_ref2$padding","_ref2$innerPadding","xRef","getX","getWidth","generateHorizontalGroupedBars","getStackedScale","flattenDepth","generateStackedBars","stackedData","stack","stackOffsetDiverging","stackedDataItem","generateHorizontalStackedBars","getLegendData","direction","groupMode","_uniqBy","bar","getLegendDataForIndexes","getLegendDataForKeys","BarItem$1","compose","withPropsOnChange","_onClick","getTooltipLabel","format","renderContent","bind","pure","enhance","borderRadius","shouldRenderLabel","labelColor","showTooltip","transform","rx","ry","e","textAnchor","dominantBaseline","labels","pointerEvents","indexBy","barComponent","labelSkipWidth","labelSkipHeight","labelTextColor","inheritedColorPropType","getLabelTextColor","labelLinkColor","getLabelLinkColor","colorBy","colorPropertyAccessorPropType","getBorderColor","tooltipLabel","dataFrom","BarDefaultProps","noop","enhance$1","Component","withTheme","withDimensions","withMotion","getOrdinalColorScale","getAccessorFor","getInheritedColorGenerator","BarAnnotations","barWillEnterHorizontal","val","barWillEnterVertical","Bar$1","setDisplayName","result","motionProps","damping","stiffness","willEnter","willLeave","barWillLeaveVertical","barWillLeaveHorizontal","dataKey","targetKey","Container","commonProps","baseProps","_typeof","constructor","_defineProperties","descriptor","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","_assertThisInitialized","self","ReferenceError","_setPrototypeOf","p","findNodeUnderCursor","BarCanvas","_Component","_getPrototypeOf2","_this","instance","Constructor","_classCallCheck","_len","args","_key","_this$props","surface","_this$props2","_getRelativeCursor4","protoProps","staticProps","subClass","superClass","create","_inherits","draw","_this2","legendDataForKeys","legendDataForIndexes","itemTextColor","symbolSize","_this3","_this$props3","BarCanvas$1","ResponsiveBar","ResponsiveBarCanvas","centerScale","timeByType","millisecond","timeMillisecond","utcMillisecond","second","timeSecond","utcSecond","minute","timeMinute","utcMinute","hour","timeHour","utcHour","day","timeDay","utcDay","week","timeWeek","utcWeek","sunday","timeSunday","utcSunday","monday","timeMonday","utcMonday","tuesday","timeTuesday","utcTuesday","wednesday","timeWednesday","utcWednesday","thursday","timeThursday","utcThursday","friday","timeFriday","utcFriday","saturday","timeSaturday","utcSaturday","month","timeMonth","utcMonth","year","timeYear","utcYear","timeTypes","timeIntervalRegexp","RegExp","join","getScaleTicks","spec","ticks","isNumber","matches","timeType","useUTC","every","Number","Error","computeCartesianTicks","ticksPosition","tickValues","tickSize","tickPadding","tickRotation","_ref$engine","engine","textProps","textPropsByEngine","lineX","lineY","textY","textAlign","align","center","textBaseline","baseline","getFormatter","format$1","f","timeFormat","computeGridLines","_values","lineValues","lineCount","v","x1","x2","y2","axisPropTypes","renderTick","legendPosition","legendOffset","AxisTick","_value","opacity","rotate","gStyle","AxisTick$1","_ref$style","Axis","formatValue","_computeCartesianTick","legendNode","legendX","legendY","legendRotation","tick","tickIndex","xy","Axis$1","positions","Axes$1","isXAxis","GridLine","GridLine$1","GridLines$1","lineWillEnter","lineWillLeave","interpolatedStyle","Grid$1","xLines","yLines","degrees","renderAxisToCanvas","_ref$x","_ref$y","_ref$tickSize","_ref$tickPadding","_ref$tickRotation","_ref$legendPosition","_ref$legendOffset","_textAlign","fontWeight","positions$1","baseExtremum","baseLt","identity","baseIteratee","baseUniq","iteratee","other","_precisionCutOffsByTy","linearScalePropTypes","stacked","logScalePropTypes","base","pointScalePropTypes","timePrecisions","precisionCutOffs","date","setMilliseconds","setSeconds","setMinutes","setHours","setDate","setMonth","precisionCutOffsByType","createDateNormalizer","_ref$format","_ref$precision","precision","_ref$useUTC","precisionFn","cutOff","createPrecisionMethod","parseTime","utcParse","timeParse","timeScalePropTypes","getOtherAxis","compareValues","compareDateValues","getTime","_series","generateSeriesXY","stackX","stackY","computeScale","xStacked","yStacked","_ref$min","_ref$max","_ref$stacked","_ref$reverse","minStacked","maxStacked","linearScale","scalePoint","all","pointScale","normalize","scaleUtc","scaleTime","timeScale","sign","_ref$base","hasZero","some","hasMixedSign","scaleLog","nice","logScale","generateSeriesAxis","scaleSpec","_ref$getValue","getValue","_ref$setValue","setValue","parseFloat","uniq","sortBy","uniqBy","last","stackAxis","otherType","compare","isDate","stackValue","head","baseGt","arrayFilter","baseFilter","collection","predicate","Group","Title","accent","ControlsGroups","groups","onChange","group","name","ControlsGroup","controls","properties","settings","initialTheme","textColor","defaultTheme","controlGroups","help","controlType","controlOptions","unit","Theming","setTheme","Layout","PageContent","title","className","enableDots","enableDotLabel","baseEach","baseIsDate","baseUnary","nodeUtil","nodeIsDate","_createClass","EPSILON","pow","EDGE_STACK","Uint32Array","Delaunator","coords","n","maxTriangles","_triangles","_halfedges","Int32Array","_hashSize","ceil","sqrt","_hullPrev","_hullNext","_hullTri","_hullHash","_ids","_dists","Float64Array","update","defaultGetX","defaultGetY","hullPrev","hullNext","hullTri","hullHash","minX","Infinity","minY","maxX","maxY","i0","i1","i2","minDist","dist","i0x","i0y","_i2","i1x","i1y","minRadius","_i3","circumradius","i2x","i2y","_i4","quicksort","hull","j","_i5","d0","subarray","triangles","halfedges","orient","_i6","_x","_y","ax","ay","bx","by","dx","dy","ex","ey","bl","cl","circumcenter","_cx","_cy","_i7","_hullStart","hullSize","_hashKey","trianglesLen","_addTriangle","xp","yp","_i8","_x2","_y2","start","_j","q","t","_legalize","_i9","floor","px","py","fx","fy","bp","cp","ar","a0","b0","al","p0","pr","pl","p1","ap","hbl","_link","br","c","qx","qy","ids","dists","temp","tempDist","_i10","_j2","swap","_temp","_tempDist","tmp","Path","_x0","_y0","_x1","_y1","_","w","h","Polygon","Voronoi","xmin","ymin","xmax","ymax","_circumcenters","vectors","_init","_this$delaunay","circumcenters","t1","t2","t3","x3","y3","a2","a3","b2","b3","d1","d2","d3","ab","buffer","_this$delaunay2","inedges","ti","tj","xi","yi","xj","yj","_renderSegment","h0","h1","_project","_clip","closePath","mark","cellPolygons","cell","wrap","_context","prev","cellPolygon","stop","polygon","renderCell","S","c0","_regioncode","c1","_clipSegment","_step","_this$delaunay3","e0","_cell","V","_clipInfinite","_clipFinite","e1","P","sx0","sy0","sx1","sy1","_S","_S2","_S3","_S4","_edgecode","_edge","contains","vx0","vy0","vxn","vyn","unshift","splice","vx","vy","_marked","flatIterable","tau","pointX","pointY","jitter","sin","cos","Delaunay","_delaunator","_hullIndex","collinear","bounds","hullIndex","_p","_n2","neighbors","l","indexOf","abrupt","dc","dt","renderHull","_h","t0","trianglePolygons","_context2","trianglePolygon","renderTriangle","flatArray","that","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step2","_context3","finish","VoronoiDefaultProps","xDomain","yDomain","enableLinks","linkLineWidth","linkLineColor","enableCells","cellLineWidth","cellLineColor","Voronoi$1","renderBounds","links","render","cells","renderPoints","scaledPoints","ResponsiveVoronoi","getAccessor","directive","points2d","computeMeshPoints","computeMesh","Mesh","elementRef","currentIndex","setCurrentIndex","voronoiPath","getIndexAndNodeFromEvent","_getIndexAndNodeFromE2","_getIndexAndNodeFromE4","previousNode","_getIndexAndNodeFromE6","isSymbol","comparator"],"mappings":"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","file":"component---src-pages-guides-theming-js-3e2fa6efad4e5ffd46a4.js","sourcesContent":["var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n/** `Object#toString` result references. */\n\n\nvar dateTag = '[object Date]';\n/**\n * The base implementation of `_.isDate` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n */\n\nfunction baseIsDate(value) {\n  return isObjectLike(value) && baseGetTag(value) == dateTag;\n}\n\nmodule.exports = baseIsDate;","import React, { memo, useMemo, useCallback, useState, Fragment, useRef, useEffect } from 'react';\nimport { lineCurvePropType, blendModePropType, motionPropTypes, defsPropTypes, curveFromProp, useValueFormatter, useTheme, useMotionConfig, SmartMotion, getLabelGenerator, DotsItem, withContainer, useDimensions, CartesianMarkers, bindDefs, SvgWrapper, ResponsiveWrapper, getRelativeCursor, isCursorInRect } from '@nivo/core';\nimport { ordinalColorsPropType, useOrdinalColorScale, useInheritedColor } from '@nivo/colors';\nimport { axisPropType, Grid, Axes, renderGridLinesToCanvas, renderAxesToCanvas } from '@nivo/axes';\nimport { LegendPropShape, BoxLegendSvg, renderLegendToCanvas } from '@nivo/legends';\nimport { BasicTooltip, TableTooltip, crosshairPropTypes, useTooltip, Crosshair } from '@nivo/tooltip';\nimport { line, area } from 'd3-shape';\nimport { scalePropType, computeXYScalesForSeries } from '@nivo/scales';\nimport PropTypes from 'prop-types';\nimport { TransitionMotion, spring } from 'react-motion';\nimport { Mesh as Mesh$2, useVoronoiMesh, renderVoronoiToCanvas, renderVoronoiCellToCanvas } from '@nivo/voronoi';\n\nvar LinePointTooltip = function LinePointTooltip(_ref) {\n  var point = _ref.point;\n  return React.createElement(BasicTooltip, {\n    id: React.createElement(\"span\", null, \"x: \", React.createElement(\"strong\", null, point.data.xFormatted), \", y:\", ' ', React.createElement(\"strong\", null, point.data.yFormatted)),\n    enableChip: true,\n    color: point.serieColor\n  });\n};\nLinePointTooltip.propTypes = {\n  point: PropTypes.object.isRequired\n};\nvar PointTooltip = memo(LinePointTooltip);\n\nvar Chip = function Chip(_ref) {\n  var color = _ref.color;\n  return React.createElement(\"span\", {\n    style: {\n      display: 'block',\n      width: '12px',\n      height: '12px',\n      background: color\n    }\n  });\n};\nChip.propTypes = {\n  color: PropTypes.string.isRequired\n};\nvar SliceTooltip = function SliceTooltip(_ref2) {\n  var slice = _ref2.slice,\n      axis = _ref2.axis;\n  var otherAxis = axis === 'x' ? 'y' : 'x';\n  return React.createElement(TableTooltip, {\n    rows: slice.points.map(function (point) {\n      return [React.createElement(Chip, {\n        key: \"chip\",\n        color: point.serieColor\n      }), point.serieId, React.createElement(\"strong\", {\n        key: \"value\"\n      }, point.data[\"\".concat(otherAxis, \"Formatted\")])];\n    })\n  });\n};\nSliceTooltip.propTypes = {\n  slice: PropTypes.object.isRequired,\n  axis: PropTypes.oneOf(['x', 'y']).isRequired\n};\nvar SliceTooltip$1 = memo(SliceTooltip);\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(Object(source)); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar commonPropTypes = {\n  data: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n    data: PropTypes.arrayOf(PropTypes.shape({\n      x: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)]),\n      y: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)])\n    })).isRequired\n  })).isRequired,\n  xScale: scalePropType.isRequired,\n  xFormat: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  yScale: scalePropType.isRequired,\n  yFormat: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  layers: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.oneOf(['grid', 'markers', 'axes', 'areas', 'crosshair', 'lines', 'slices', 'points', 'mesh', 'legends']), PropTypes.func])).isRequired,\n  curve: lineCurvePropType.isRequired,\n  axisTop: axisPropType,\n  axisRight: axisPropType,\n  axisBottom: axisPropType,\n  axisLeft: axisPropType,\n  enableGridX: PropTypes.bool.isRequired,\n  enableGridY: PropTypes.bool.isRequired,\n  gridXValues: PropTypes.oneOfType([PropTypes.number, PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)]))]),\n  gridYValues: PropTypes.oneOfType([PropTypes.number, PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)]))]),\n  enablePoints: PropTypes.bool.isRequired,\n  pointSymbol: PropTypes.func,\n  pointSize: PropTypes.number.isRequired,\n  pointColor: PropTypes.any.isRequired,\n  pointBorderWidth: PropTypes.number.isRequired,\n  pointBorderColor: PropTypes.any.isRequired,\n  markers: PropTypes.arrayOf(PropTypes.shape({\n    axis: PropTypes.oneOf(['x', 'y']).isRequired,\n    value: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)]).isRequired,\n    style: PropTypes.object\n  })),\n  colors: ordinalColorsPropType.isRequired,\n  enableArea: PropTypes.bool.isRequired,\n  areaOpacity: PropTypes.number.isRequired,\n  areaBlendMode: blendModePropType.isRequired,\n  areaBaselineValue: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)]).isRequired,\n  lineWidth: PropTypes.number.isRequired,\n  legends: PropTypes.arrayOf(PropTypes.shape(LegendPropShape)).isRequired,\n  isInteractive: PropTypes.bool.isRequired,\n  debugMesh: PropTypes.bool.isRequired,\n  tooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n  tooltipFormat: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  enableSlices: PropTypes.oneOf(['x', 'y', false]).isRequired,\n  debugSlices: PropTypes.bool.isRequired,\n  sliceTooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n  enableCrosshair: PropTypes.bool.isRequired,\n  crosshairType: crosshairPropTypes.type.isRequired\n};\nvar LinePropTypes = _objectSpread({}, commonPropTypes, {\n  enablePointLabel: PropTypes.bool.isRequired,\n  useMesh: PropTypes.bool.isRequired\n}, motionPropTypes, defsPropTypes);\nvar LineCanvasPropTypes = _objectSpread({\n  pixelRatio: PropTypes.number.isRequired\n}, commonPropTypes);\nvar commonDefaultProps = {\n  curve: 'linear',\n  xScale: {\n    type: 'point'\n  },\n  yScale: {\n    type: 'linear',\n    min: 0,\n    max: 'auto'\n  },\n  layers: ['grid', 'markers', 'axes', 'areas', 'crosshair', 'lines', 'points', 'slices', 'mesh', 'legends'],\n  axisBottom: {},\n  axisLeft: {},\n  enableGridX: true,\n  enableGridY: true,\n  enablePoints: true,\n  pointSize: 6,\n  pointColor: {\n    from: 'color'\n  },\n  pointBorderWidth: 0,\n  pointBorderColor: {\n    theme: 'background'\n  },\n  colors: {\n    scheme: 'nivo'\n  },\n  enableArea: false,\n  areaBaselineValue: 0,\n  areaOpacity: 0.2,\n  areaBlendMode: 'normal',\n  lineWidth: 2,\n  legends: [],\n  isInteractive: true,\n  tooltip: PointTooltip,\n  enableSlices: false,\n  debugSlices: false,\n  sliceTooltip: SliceTooltip$1,\n  debugMesh: false,\n  enableCrosshair: true,\n  crosshairType: 'bottom-left'\n};\nvar LineDefaultProps = _objectSpread({}, commonDefaultProps, {\n  enablePointLabel: false,\n  useMesh: false,\n  animate: true,\n  motionStiffness: 90,\n  motionDamping: 15,\n  defs: [],\n  fill: []\n});\nvar LineCanvasDefaultProps = _objectSpread({}, commonDefaultProps, {\n  pixelRatio: global.window && global.window.devicePixelRatio ? global.window.devicePixelRatio : 1\n});\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _objectSpread$1(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(Object(source)); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$1(target, key, source[key]); }); } return target; }\nfunction _defineProperty$1(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\nvar useLineGenerator = function useLineGenerator(_ref) {\n  var curve = _ref.curve;\n  return useMemo(function () {\n    return line().defined(function (d) {\n      return d.x !== null && d.y !== null;\n    }).x(function (d) {\n      return d.x;\n    }).y(function (d) {\n      return d.y;\n    }).curve(curveFromProp(curve));\n  }, [curve]);\n};\nvar useAreaGenerator = function useAreaGenerator(_ref2) {\n  var curve = _ref2.curve,\n      yScale = _ref2.yScale,\n      areaBaselineValue = _ref2.areaBaselineValue;\n  return useMemo(function () {\n    return area().defined(function (d) {\n      return d.x !== null && d.y !== null;\n    }).x(function (d) {\n      return d.x;\n    }).y1(function (d) {\n      return d.y;\n    }).curve(curveFromProp(curve)).y0(yScale(areaBaselineValue));\n  }, [curve, yScale, areaBaselineValue]);\n};\nvar usePoints = function usePoints(_ref3) {\n  var series = _ref3.series,\n      getPointColor = _ref3.getPointColor,\n      getPointBorderColor = _ref3.getPointBorderColor,\n      formatX = _ref3.formatX,\n      formatY = _ref3.formatY;\n  return useMemo(function () {\n    return series.reduce(function (acc, serie) {\n      return [].concat(_toConsumableArray(acc), _toConsumableArray(serie.data.filter(function (datum) {\n        return datum.position.x !== null && datum.position.y !== null;\n      }).map(function (datum, i) {\n        var point = {\n          id: \"\".concat(serie.id, \".\").concat(i),\n          index: acc.length + i,\n          serieId: serie.id,\n          serieColor: serie.color,\n          x: datum.position.x,\n          y: datum.position.y\n        };\n        point.color = getPointColor(serie);\n        point.borderColor = getPointBorderColor(point);\n        point.data = _objectSpread$1({}, datum.data, {\n          xFormatted: formatX(datum.data.x),\n          yFormatted: formatY(datum.data.y)\n        });\n        return point;\n      })));\n    }, []);\n  }, [series, getPointColor, getPointBorderColor, formatX, formatY]);\n};\nvar useSlices = function useSlices(_ref4) {\n  var enableSlices = _ref4.enableSlices,\n      points = _ref4.points,\n      width = _ref4.width,\n      height = _ref4.height;\n  return useMemo(function () {\n    if (enableSlices === false) return [];\n    if (enableSlices === 'x') {\n      var map = new Map();\n      points.forEach(function (point) {\n        if (point.data.x === null || point.data.y === null) return;\n        if (!map.has(point.x)) map.set(point.x, [point]);else map.get(point.x).push(point);\n      });\n      return Array.from(map.entries()).sort(function (a, b) {\n        return a[0] - b[0];\n      }).map(function (_ref5, i, slices) {\n        var _ref6 = _slicedToArray(_ref5, 2),\n            x = _ref6[0],\n            slicePoints = _ref6[1];\n        var prevSlice = slices[i - 1];\n        var nextSlice = slices[i + 1];\n        var x0;\n        if (!prevSlice) x0 = x;else x0 = x - (x - prevSlice[0]) / 2;\n        var sliceWidth;\n        if (!nextSlice) sliceWidth = width - x0;else sliceWidth = x - x0 + (nextSlice[0] - x) / 2;\n        return {\n          id: x,\n          x0: x0,\n          x: x,\n          y0: 0,\n          y: 0,\n          width: sliceWidth,\n          height: height,\n          points: slicePoints.reverse()\n        };\n      });\n    } else if (enableSlices === 'y') {\n      var _map = new Map();\n      points.forEach(function (point) {\n        if (point.data.x === null || point.data.y === null) return;\n        if (!_map.has(point.y)) _map.set(point.y, [point]);else _map.get(point.y).push(point);\n      });\n      return Array.from(_map.entries()).sort(function (a, b) {\n        return a[0] - b[0];\n      }).map(function (_ref7, i, slices) {\n        var _ref8 = _slicedToArray(_ref7, 2),\n            y = _ref8[0],\n            slicePoints = _ref8[1];\n        var prevSlice = slices[i - 1];\n        var nextSlice = slices[i + 1];\n        var y0;\n        if (!prevSlice) y0 = y;else y0 = y - (y - prevSlice[0]) / 2;\n        var sliceHeight;\n        if (!nextSlice) sliceHeight = height - y0;else sliceHeight = y - y0 + (nextSlice[0] - y) / 2;\n        return {\n          id: y,\n          x0: 0,\n          x: 0,\n          y0: y0,\n          y: y,\n          width: width,\n          height: sliceHeight,\n          points: slicePoints.reverse()\n        };\n      });\n    }\n  }, [enableSlices, points]);\n};\nvar useLine = function useLine(_ref9) {\n  var data = _ref9.data,\n      _ref9$xScale = _ref9.xScale,\n      xScaleSpec = _ref9$xScale === void 0 ? LineDefaultProps.xScale : _ref9$xScale,\n      xFormat = _ref9.xFormat,\n      _ref9$yScale = _ref9.yScale,\n      yScaleSpec = _ref9$yScale === void 0 ? LineDefaultProps.yScale : _ref9$yScale,\n      yFormat = _ref9.yFormat,\n      width = _ref9.width,\n      height = _ref9.height,\n      _ref9$colors = _ref9.colors,\n      colors = _ref9$colors === void 0 ? LineDefaultProps.colors : _ref9$colors,\n      _ref9$curve = _ref9.curve,\n      curve = _ref9$curve === void 0 ? LineDefaultProps.curve : _ref9$curve,\n      _ref9$areaBaselineVal = _ref9.areaBaselineValue,\n      areaBaselineValue = _ref9$areaBaselineVal === void 0 ? LineDefaultProps.areaBaselineValue : _ref9$areaBaselineVal,\n      _ref9$pointColor = _ref9.pointColor,\n      pointColor = _ref9$pointColor === void 0 ? LineDefaultProps.pointColor : _ref9$pointColor,\n      _ref9$pointBorderColo = _ref9.pointBorderColor,\n      pointBorderColor = _ref9$pointBorderColo === void 0 ? LineDefaultProps.pointBorderColor : _ref9$pointBorderColo,\n      _ref9$enableSlices = _ref9.enableSlices,\n      enableSlices = _ref9$enableSlices === void 0 ? LineDefaultProps.enableSlicesTooltip : _ref9$enableSlices;\n  var formatX = useValueFormatter(xFormat);\n  var formatY = useValueFormatter(yFormat);\n  var getColor = useOrdinalColorScale(colors, 'id');\n  var theme = useTheme();\n  var getPointColor = useInheritedColor(pointColor, theme);\n  var getPointBorderColor = useInheritedColor(pointBorderColor, theme);\n  var _useMemo = useMemo(function () {\n    return computeXYScalesForSeries(data, xScaleSpec, yScaleSpec, width, height);\n  }, [data, xScaleSpec, yScaleSpec, width, height]),\n      xScale = _useMemo.xScale,\n      yScale = _useMemo.yScale,\n      rawSeries = _useMemo.series;\n  var series = useMemo(function () {\n    return rawSeries.map(function (serie) {\n      return _objectSpread$1({}, serie, {\n        color: getColor(serie)\n      });\n    });\n  }, [rawSeries, getColor]);\n  var points = usePoints({\n    series: series,\n    getPointColor: getPointColor,\n    getPointBorderColor: getPointBorderColor,\n    formatX: formatX,\n    formatY: formatY\n  });\n  var slices = useSlices({\n    enableSlices: enableSlices,\n    points: points,\n    width: width,\n    height: height\n  });\n  var lineGenerator = useLineGenerator({\n    curve: curve\n  });\n  var areaGenerator = useAreaGenerator({\n    curve: curve,\n    yScale: yScale,\n    areaBaselineValue: areaBaselineValue\n  });\n  return {\n    lineGenerator: lineGenerator,\n    areaGenerator: areaGenerator,\n    getColor: getColor,\n    series: series,\n    xScale: xScale,\n    yScale: yScale,\n    slices: slices,\n    points: points\n  };\n};\n\nvar Areas = function Areas(_ref) {\n  var areaGenerator = _ref.areaGenerator,\n      areaOpacity = _ref.areaOpacity,\n      areaBlendMode = _ref.areaBlendMode,\n      lines = _ref.lines;\n  var _useMotionConfig = useMotionConfig(),\n      animate = _useMotionConfig.animate,\n      springConfig = _useMotionConfig.springConfig;\n  if (animate !== true) {\n    return React.createElement(\"g\", null, lines.slice(0).reverse().map(function (_ref2) {\n      var id = _ref2.id,\n          data = _ref2.data,\n          areaColor = _ref2.color,\n          fill = _ref2.fill;\n      return React.createElement(\"path\", {\n        key: id,\n        d: areaGenerator(data.map(function (d) {\n          return d.position;\n        })),\n        fill: fill ? fill : areaColor,\n        fillOpacity: areaOpacity,\n        strokeWidth: 0,\n        style: {\n          mixBlendMode: areaBlendMode\n        }\n      });\n    }));\n  }\n  return React.createElement(\"g\", null, lines.slice(0).reverse().map(function (_ref3) {\n    var id = _ref3.id,\n        data = _ref3.data,\n        areaColor = _ref3.color,\n        fill = _ref3.fill;\n    return React.createElement(SmartMotion, {\n      key: id,\n      style: function style(spring) {\n        return {\n          d: spring(areaGenerator(data.map(function (d) {\n            return d.position;\n          })), springConfig),\n          fill: spring(areaColor, springConfig)\n        };\n      }\n    }, function (style) {\n      return React.createElement(\"path\", {\n        key: id,\n        d: style.d,\n        fill: fill ? fill : areaColor,\n        fillOpacity: areaOpacity,\n        strokeWidth: 0,\n        style: {\n          mixBlendMode: areaBlendMode\n        }\n      });\n    });\n  }));\n};\nAreas.propTypes = {\n  areaGenerator: PropTypes.func.isRequired,\n  areaOpacity: PropTypes.number.isRequired,\n  areaBlendMode: blendModePropType.isRequired,\n  lines: PropTypes.arrayOf(PropTypes.object).isRequired\n};\nvar Areas$1 = memo(Areas);\n\nvar LinesItem = function LinesItem(_ref) {\n  var lineGenerator = _ref.lineGenerator,\n      id = _ref.id,\n      points = _ref.points,\n      color = _ref.color,\n      thickness = _ref.thickness;\n  var _useMotionConfig = useMotionConfig(),\n      animate = _useMotionConfig.animate,\n      springConfig = _useMotionConfig.springConfig;\n  if (animate !== true) {\n    return React.createElement(\"path\", {\n      key: id,\n      d: lineGenerator(points),\n      fill: \"none\",\n      strokeWidth: thickness,\n      stroke: color\n    });\n  }\n  return React.createElement(SmartMotion, {\n    key: id,\n    style: function style(spring) {\n      return {\n        d: spring(lineGenerator(points), springConfig),\n        stroke: spring(color, springConfig)\n      };\n    }\n  }, function (style) {\n    return React.createElement(\"path\", {\n      key: id,\n      d: style.d,\n      fill: \"none\",\n      strokeWidth: thickness,\n      stroke: style.stroke\n    });\n  });\n};\nLinesItem.propTypes = {\n  id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n  points: PropTypes.arrayOf(PropTypes.shape({\n    x: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    y: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n  })),\n  lineGenerator: PropTypes.func.isRequired,\n  color: PropTypes.string.isRequired,\n  thickness: PropTypes.number.isRequired\n};\nvar LinesItem$1 = memo(LinesItem);\n\nvar Lines = function Lines(_ref) {\n  var lines = _ref.lines,\n      lineGenerator = _ref.lineGenerator,\n      lineWidth = _ref.lineWidth;\n  return lines.map(function (_ref2) {\n    var id = _ref2.id,\n        data = _ref2.data,\n        color = _ref2.color;\n    return React.createElement(LinesItem$1, {\n      key: id,\n      id: id,\n      points: data.map(function (d) {\n        return d.position;\n      }),\n      lineGenerator: lineGenerator,\n      color: color,\n      thickness: lineWidth\n    });\n  });\n};\nLines.propTypes = {\n  lines: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n    color: PropTypes.string.isRequired,\n    data: PropTypes.arrayOf(PropTypes.shape({\n      data: PropTypes.shape({\n        x: PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.instanceOf(Date)]),\n        y: PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.instanceOf(Date)])\n      }).isRequired,\n      position: PropTypes.shape({\n        x: PropTypes.number,\n        y: PropTypes.number\n      }).isRequired\n    })).isRequired\n  })).isRequired,\n  lineWidth: PropTypes.number.isRequired,\n  lineGenerator: PropTypes.func.isRequired\n};\nvar Lines$1 = memo(Lines);\n\nvar SlicesItem = function SlicesItem(_ref) {\n  var slice = _ref.slice,\n      axis = _ref.axis,\n      debug = _ref.debug,\n      tooltip = _ref.tooltip,\n      isCurrent = _ref.isCurrent,\n      setCurrent = _ref.setCurrent;\n  var _useTooltip = useTooltip(),\n      showTooltipFromEvent = _useTooltip.showTooltipFromEvent,\n      hideTooltip = _useTooltip.hideTooltip;\n  var handleMouseEnter = useCallback(function (event) {\n    showTooltipFromEvent(React.createElement(tooltip, {\n      slice: slice,\n      axis: axis\n    }), event, 'right');\n    setCurrent(slice);\n  }, [showTooltipFromEvent, tooltip, slice]);\n  var handleMouseMove = useCallback(function (event) {\n    showTooltipFromEvent(React.createElement(tooltip, {\n      slice: slice,\n      axis: axis\n    }), event, 'right');\n  }, [showTooltipFromEvent, tooltip, slice]);\n  var handleMouseLeave = useCallback(function () {\n    hideTooltip();\n    setCurrent(null);\n  }, [hideTooltip]);\n  return React.createElement(\"rect\", {\n    x: slice.x0,\n    y: slice.y0,\n    width: slice.width,\n    height: slice.height,\n    stroke: \"red\",\n    strokeWidth: debug ? 1 : 0,\n    strokeOpacity: 0.75,\n    fill: \"red\",\n    fillOpacity: isCurrent && debug ? 0.35 : 0,\n    onMouseEnter: handleMouseEnter,\n    onMouseMove: handleMouseMove,\n    onMouseLeave: handleMouseLeave\n  });\n};\nSlicesItem.propTypes = {\n  slice: PropTypes.object.isRequired,\n  axis: PropTypes.oneOf(['x', 'y']).isRequired,\n  debug: PropTypes.bool.isRequired,\n  height: PropTypes.number.isRequired,\n  tooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),\n  isCurrent: PropTypes.bool.isRequired,\n  setCurrent: PropTypes.func.isRequired\n};\nvar SlicesItem$1 = memo(SlicesItem);\n\nvar Slices = function Slices(_ref) {\n  var slices = _ref.slices,\n      axis = _ref.axis,\n      debug = _ref.debug,\n      height = _ref.height,\n      tooltip = _ref.tooltip,\n      current = _ref.current,\n      setCurrent = _ref.setCurrent;\n  return slices.map(function (slice) {\n    return React.createElement(SlicesItem$1, {\n      key: slice.id,\n      slice: slice,\n      axis: axis,\n      debug: debug,\n      height: height,\n      tooltip: tooltip,\n      setCurrent: setCurrent,\n      isCurrent: current !== null && current.id === slice.id\n    });\n  });\n};\nSlices.propTypes = {\n  slices: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)]).isRequired,\n    x: PropTypes.number.isRequired,\n    y: PropTypes.number.isRequired,\n    points: PropTypes.arrayOf(PropTypes.object).isRequired\n  })).isRequired,\n  axis: PropTypes.oneOf(['x', 'y']).isRequired,\n  debug: PropTypes.bool.isRequired,\n  height: PropTypes.number.isRequired,\n  tooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n  current: PropTypes.object,\n  setCurrent: PropTypes.func.isRequired\n};\nvar Slices$1 = memo(Slices);\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nvar Points = function Points(_ref) {\n  var points = _ref.points,\n      symbol = _ref.symbol,\n      size = _ref.size,\n      borderWidth = _ref.borderWidth,\n      enableLabel = _ref.enableLabel,\n      label = _ref.label,\n      labelYOffset = _ref.labelYOffset;\n  var theme = useTheme();\n  var _useMotionConfig = useMotionConfig(),\n      animate = _useMotionConfig.animate,\n      springConfig = _useMotionConfig.springConfig;\n  var getLabel = getLabelGenerator(label);\n  var mappedPoints = points.map(function (point) {\n    var mappedPoint = {\n      id: point.id,\n      x: point.x,\n      y: point.y,\n      datum: point.data,\n      fill: point.color,\n      stroke: point.borderColor,\n      label: enableLabel ? getLabel(point.data) : null\n    };\n    return mappedPoint;\n  });\n  if (animate !== true) {\n    return React.createElement(\"g\", null, mappedPoints.map(function (point) {\n      return React.createElement(DotsItem, {\n        key: point.id,\n        x: point.x,\n        y: point.y,\n        datum: point.datum,\n        symbol: symbol,\n        size: size,\n        color: point.fill,\n        borderWidth: borderWidth,\n        borderColor: point.stroke,\n        label: point.label,\n        labelYOffset: labelYOffset,\n        theme: theme\n      });\n    }));\n  }\n  return React.createElement(TransitionMotion, {\n    styles: mappedPoints.map(function (point) {\n      return {\n        key: point.id,\n        data: point,\n        style: {\n          x: spring(point.x, springConfig),\n          y: spring(point.y, springConfig),\n          size: spring(size, springConfig)\n        }\n      };\n    })\n  }, function (interpolatedStyles) {\n    return React.createElement(\"g\", null, interpolatedStyles.map(function (_ref2) {\n      var key = _ref2.key,\n          style = _ref2.style,\n          point = _ref2.data;\n      return React.createElement(DotsItem, _extends({\n        key: key\n      }, style, {\n        symbol: symbol,\n        datum: point.datum,\n        color: point.fill,\n        borderWidth: borderWidth,\n        borderColor: point.stroke,\n        label: point.label,\n        labelYOffset: labelYOffset,\n        theme: theme\n      }));\n    }));\n  });\n};\nPoints.propTypes = {\n  points: PropTypes.arrayOf(PropTypes.object),\n  symbol: PropTypes.func,\n  size: PropTypes.number.isRequired,\n  color: PropTypes.func.isRequired,\n  borderWidth: PropTypes.number.isRequired,\n  borderColor: PropTypes.func.isRequired,\n  enableLabel: PropTypes.bool.isRequired,\n  label: PropTypes.oneOfType([PropTypes.string, PropTypes.func]).isRequired,\n  labelYOffset: PropTypes.number\n};\nPoints.defaultProps = {\n  enableLabel: false,\n  label: 'yFormatted'\n};\nvar Points$1 = memo(Points);\n\nvar Mesh = function Mesh(_ref) {\n  var points = _ref.points,\n      width = _ref.width,\n      height = _ref.height,\n      margin = _ref.margin,\n      setCurrent = _ref.setCurrent,\n      onMouseEnter = _ref.onMouseEnter,\n      onMouseMove = _ref.onMouseMove,\n      onMouseLeave = _ref.onMouseLeave,\n      onClick = _ref.onClick,\n      tooltip = _ref.tooltip,\n      debug = _ref.debug;\n  var _useTooltip = useTooltip(),\n      showTooltipAt = _useTooltip.showTooltipAt,\n      hideTooltip = _useTooltip.hideTooltip;\n  var handleMouseEnter = useCallback(function (point, event) {\n    showTooltipAt(React.createElement(tooltip, {\n      point: point\n    }), [point.x + margin.left, point.y + margin.top], 'top');\n    setCurrent(point);\n    onMouseEnter && onMouseEnter(point, event);\n  }, [setCurrent, showTooltipAt, tooltip, onMouseEnter, margin]);\n  var handleMouseMove = useCallback(function (point, event) {\n    showTooltipAt(React.createElement(tooltip, {\n      point: point\n    }), [point.x + margin.left, point.y + margin.top], 'top');\n    setCurrent(point);\n    onMouseMove && onMouseMove(point, event);\n  }, [setCurrent, showTooltipAt, tooltip, onMouseMove]);\n  var handleMouseLeave = useCallback(function (point, event) {\n    hideTooltip();\n    setCurrent(null);\n    onMouseLeave && onMouseLeave(point, event);\n  }, [hideTooltip, setCurrent, onMouseLeave]);\n  var handleClick = useCallback(function (point, event) {\n    onClick && onClick(point, event);\n  }, [onClick]);\n  return React.createElement(Mesh$2, {\n    nodes: points,\n    width: width,\n    height: height,\n    onMouseEnter: handleMouseEnter,\n    onMouseMove: handleMouseMove,\n    onMouseLeave: handleMouseLeave,\n    onClick: handleClick,\n    debug: debug\n  });\n};\nMesh.propTypes = {\n  points: PropTypes.arrayOf(PropTypes.object).isRequired,\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired,\n  margin: PropTypes.object.isRequired,\n  setCurrent: PropTypes.func.isRequired,\n  onMouseEnter: PropTypes.func,\n  onMouseMove: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  onClick: PropTypes.func,\n  tooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n  debug: PropTypes.bool.isRequired\n};\nvar Mesh$1 = memo(Mesh);\n\nfunction _objectSpread$2(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(Object(source)); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$2(target, key, source[key]); }); } return target; }\nfunction _defineProperty$2(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _extends$1() { _extends$1 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$1.apply(this, arguments); }\nfunction _slicedToArray$1(arr, i) { return _arrayWithHoles$1(arr) || _iterableToArrayLimit$1(arr, i) || _nonIterableRest$1(); }\nfunction _nonIterableRest$1() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\nfunction _iterableToArrayLimit$1(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\nfunction _arrayWithHoles$1(arr) { if (Array.isArray(arr)) return arr; }\nvar Line = function Line(props) {\n  var data = props.data,\n      xScaleSpec = props.xScale,\n      xFormat = props.xFormat,\n      yScaleSpec = props.yScale,\n      yFormat = props.yFormat,\n      layers = props.layers,\n      curve = props.curve,\n      areaBaselineValue = props.areaBaselineValue,\n      colors = props.colors,\n      partialMargin = props.margin,\n      width = props.width,\n      height = props.height,\n      axisTop = props.axisTop,\n      axisRight = props.axisRight,\n      axisBottom = props.axisBottom,\n      axisLeft = props.axisLeft,\n      enableGridX = props.enableGridX,\n      enableGridY = props.enableGridY,\n      gridXValues = props.gridXValues,\n      gridYValues = props.gridYValues,\n      lineWidth = props.lineWidth,\n      enableArea = props.enableArea,\n      areaOpacity = props.areaOpacity,\n      areaBlendMode = props.areaBlendMode,\n      enablePoints = props.enablePoints,\n      pointSymbol = props.pointSymbol,\n      pointSize = props.pointSize,\n      pointColor = props.pointColor,\n      pointBorderWidth = props.pointBorderWidth,\n      pointBorderColor = props.pointBorderColor,\n      enablePointLabel = props.enablePointLabel,\n      pointLabel = props.pointLabel,\n      pointLabelFormat = props.pointLabelFormat,\n      pointLabelYOffset = props.pointLabelYOffset,\n      defs = props.defs,\n      fill = props.fill,\n      markers = props.markers,\n      legends = props.legends,\n      isInteractive = props.isInteractive,\n      useMesh = props.useMesh,\n      debugMesh = props.debugMesh,\n      onMouseEnter = props.onMouseEnter,\n      onMouseMove = props.onMouseMove,\n      onMouseLeave = props.onMouseLeave,\n      onClick = props.onClick,\n      tooltip = props.tooltip,\n      enableSlices = props.enableSlices,\n      debugSlices = props.debugSlices,\n      sliceTooltip = props.sliceTooltip,\n      enableCrosshair = props.enableCrosshair,\n      crosshairType = props.crosshairType;\n  var _useDimensions = useDimensions(width, height, partialMargin),\n      margin = _useDimensions.margin,\n      innerWidth = _useDimensions.innerWidth,\n      innerHeight = _useDimensions.innerHeight,\n      outerWidth = _useDimensions.outerWidth,\n      outerHeight = _useDimensions.outerHeight;\n  var _useLine = useLine({\n    data: data,\n    xScale: xScaleSpec,\n    xFormat: xFormat,\n    yScale: yScaleSpec,\n    yFormat: yFormat,\n    width: innerWidth,\n    height: innerHeight,\n    colors: colors,\n    curve: curve,\n    areaBaselineValue: areaBaselineValue,\n    pointColor: pointColor,\n    pointBorderColor: pointBorderColor,\n    enableSlices: enableSlices\n  }),\n      lineGenerator = _useLine.lineGenerator,\n      areaGenerator = _useLine.areaGenerator,\n      series = _useLine.series,\n      xScale = _useLine.xScale,\n      yScale = _useLine.yScale,\n      slices = _useLine.slices,\n      points = _useLine.points;\n  var theme = useTheme();\n  var getPointColor = useInheritedColor(pointColor, theme);\n  var getPointBorderColor = useInheritedColor(pointBorderColor, theme);\n  var _useState = useState(null),\n      _useState2 = _slicedToArray$1(_useState, 2),\n      currentPoint = _useState2[0],\n      setCurrentPoint = _useState2[1];\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray$1(_useState3, 2),\n      currentSlice = _useState4[0],\n      setCurrentSlice = _useState4[1];\n  var legendData = useMemo(function () {\n    return series.map(function (line) {\n      return {\n        id: line.id,\n        label: line.id,\n        color: line.color\n      };\n    }).reverse();\n  }, [series]);\n  var layerById = {\n    grid: React.createElement(Grid, {\n      key: \"grid\",\n      theme: theme,\n      width: innerWidth,\n      height: innerHeight,\n      xScale: enableGridX ? xScale : null,\n      yScale: enableGridY ? yScale : null,\n      xValues: gridXValues,\n      yValues: gridYValues\n    }),\n    markers: React.createElement(CartesianMarkers, {\n      key: \"markers\",\n      markers: markers,\n      width: innerWidth,\n      height: innerHeight,\n      xScale: xScale,\n      yScale: yScale,\n      theme: theme\n    }),\n    axes: React.createElement(Axes, {\n      key: \"axes\",\n      xScale: xScale,\n      yScale: yScale,\n      width: innerWidth,\n      height: innerHeight,\n      theme: theme,\n      top: axisTop,\n      right: axisRight,\n      bottom: axisBottom,\n      left: axisLeft\n    }),\n    areas: null,\n    lines: React.createElement(Lines$1, {\n      key: \"lines\",\n      lines: series,\n      lineGenerator: lineGenerator,\n      lineWidth: lineWidth\n    }),\n    slices: null,\n    points: null,\n    crosshair: null,\n    mesh: null,\n    legends: legends.map(function (legend, i) {\n      return React.createElement(BoxLegendSvg, _extends$1({\n        key: \"legend.\".concat(i)\n      }, legend, {\n        containerWidth: innerWidth,\n        containerHeight: innerHeight,\n        data: legend.data || legendData,\n        theme: theme\n      }));\n    })\n  };\n  var boundDefs = bindDefs(defs, series, fill);\n  if (enableArea) {\n    layerById.areas = React.createElement(Areas$1, {\n      key: \"areas\",\n      areaGenerator: areaGenerator,\n      areaOpacity: areaOpacity,\n      areaBlendMode: areaBlendMode,\n      lines: series\n    });\n  }\n  if (isInteractive && enableSlices !== false) {\n    layerById.slices = React.createElement(Slices$1, {\n      key: \"slices\",\n      slices: slices,\n      axis: enableSlices,\n      debug: debugSlices,\n      height: innerHeight,\n      tooltip: sliceTooltip,\n      current: currentSlice,\n      setCurrent: setCurrentSlice\n    });\n  }\n  if (enablePoints) {\n    layerById.points = React.createElement(Points$1, {\n      key: \"points\",\n      points: points,\n      symbol: pointSymbol,\n      size: pointSize,\n      color: getPointColor,\n      borderWidth: pointBorderWidth,\n      borderColor: getPointBorderColor,\n      enableLabel: enablePointLabel,\n      label: pointLabel,\n      labelFormat: pointLabelFormat,\n      labelYOffset: pointLabelYOffset\n    });\n  }\n  if (isInteractive && enableCrosshair) {\n    if (currentPoint !== null) {\n      layerById.crosshair = React.createElement(Crosshair, {\n        key: \"crosshair\",\n        width: innerWidth,\n        height: innerHeight,\n        x: currentPoint.x,\n        y: currentPoint.y,\n        type: crosshairType\n      });\n    }\n    if (currentSlice !== null) {\n      layerById.crosshair = React.createElement(Crosshair, {\n        key: \"crosshair\",\n        width: innerWidth,\n        height: innerHeight,\n        x: currentSlice.x,\n        y: currentSlice.y,\n        type: enableSlices\n      });\n    }\n  }\n  if (isInteractive && useMesh && enableSlices === false) {\n    layerById.mesh = React.createElement(Mesh$1, {\n      key: \"mesh\",\n      points: points,\n      width: innerWidth,\n      height: innerHeight,\n      margin: margin,\n      current: currentPoint,\n      setCurrent: setCurrentPoint,\n      onMouseEnter: onMouseEnter,\n      onMouseMove: onMouseMove,\n      onMouseLeave: onMouseLeave,\n      onClick: onClick,\n      tooltip: tooltip,\n      debug: debugMesh\n    });\n  }\n  return React.createElement(SvgWrapper, {\n    defs: boundDefs,\n    width: outerWidth,\n    height: outerHeight,\n    margin: margin\n  }, layers.map(function (layer, i) {\n    if (typeof layer === 'function') {\n      return React.createElement(Fragment, {\n        key: i\n      }, layer(_objectSpread$2({}, props, {\n        innerWidth: innerWidth,\n        innerHeight: innerHeight,\n        series: series,\n        slices: slices,\n        points: points,\n        xScale: xScale,\n        yScale: yScale,\n        lineGenerator: lineGenerator,\n        areaGenerator: areaGenerator,\n        currentPoint: currentPoint,\n        setCurrentPoint: setCurrentPoint,\n        currentSlice: currentSlice,\n        setCurrentSlice: setCurrentSlice\n      })));\n    }\n    return layerById[layer];\n  }));\n};\nLine.propTypes = LinePropTypes;\nLine.defaultProps = LineDefaultProps;\nvar Line$1 = withContainer(Line);\n\nfunction _extends$2() { _extends$2 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$2.apply(this, arguments); }\nvar ResponsiveLine = function ResponsiveLine(props) {\n  return React.createElement(ResponsiveWrapper, null, function (_ref) {\n    var width = _ref.width,\n        height = _ref.height;\n    return React.createElement(Line$1, _extends$2({\n      width: width,\n      height: height\n    }, props));\n  });\n};\n\nfunction _objectSpread$3(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(Object(source)); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$3(target, key, source[key]); }); } return target; }\nfunction _defineProperty$3(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _slicedToArray$2(arr, i) { return _arrayWithHoles$2(arr) || _iterableToArrayLimit$2(arr, i) || _nonIterableRest$2(); }\nfunction _nonIterableRest$2() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\nfunction _iterableToArrayLimit$2(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\nfunction _arrayWithHoles$2(arr) { if (Array.isArray(arr)) return arr; }\nvar LineCanvas = function LineCanvas(_ref) {\n  var width = _ref.width,\n      height = _ref.height,\n      partialMargin = _ref.margin,\n      pixelRatio = _ref.pixelRatio,\n      data = _ref.data,\n      xScaleSpec = _ref.xScale,\n      xFormat = _ref.xFormat,\n      yScaleSpec = _ref.yScale,\n      yFormat = _ref.yFormat,\n      curve = _ref.curve,\n      layers = _ref.layers,\n      colors = _ref.colors,\n      lineWidth = _ref.lineWidth,\n      enableArea = _ref.enableArea,\n      areaBaselineValue = _ref.areaBaselineValue,\n      areaOpacity = _ref.areaOpacity,\n      enablePoints = _ref.enablePoints,\n      pointSize = _ref.pointSize,\n      pointColor = _ref.pointColor,\n      pointBorderWidth = _ref.pointBorderWidth,\n      pointBorderColor = _ref.pointBorderColor,\n      enableGridX = _ref.enableGridX,\n      gridXValues = _ref.gridXValues,\n      enableGridY = _ref.enableGridY,\n      gridYValues = _ref.gridYValues,\n      axisTop = _ref.axisTop,\n      axisRight = _ref.axisRight,\n      axisBottom = _ref.axisBottom,\n      axisLeft = _ref.axisLeft,\n      legends = _ref.legends,\n      isInteractive = _ref.isInteractive,\n      debugMesh = _ref.debugMesh,\n      onMouseLeave = _ref.onMouseLeave,\n      onClick = _ref.onClick,\n      tooltip = _ref.tooltip;\n  var canvasEl = useRef(null);\n  var _useDimensions = useDimensions(width, height, partialMargin),\n      margin = _useDimensions.margin,\n      innerWidth = _useDimensions.innerWidth,\n      innerHeight = _useDimensions.innerHeight,\n      outerWidth = _useDimensions.outerWidth,\n      outerHeight = _useDimensions.outerHeight;\n  var theme = useTheme();\n  var _useState = useState(null),\n      _useState2 = _slicedToArray$2(_useState, 2),\n      currentPoint = _useState2[0],\n      setCurrentPoint = _useState2[1];\n  var _useLine = useLine({\n    data: data,\n    xScale: xScaleSpec,\n    xFormat: xFormat,\n    yScale: yScaleSpec,\n    yFormat: yFormat,\n    width: innerWidth,\n    height: innerHeight,\n    colors: colors,\n    curve: curve,\n    areaBaselineValue: areaBaselineValue,\n    pointColor: pointColor,\n    pointBorderColor: pointBorderColor\n  }),\n      lineGenerator = _useLine.lineGenerator,\n      areaGenerator = _useLine.areaGenerator,\n      series = _useLine.series,\n      xScale = _useLine.xScale,\n      yScale = _useLine.yScale,\n      points = _useLine.points;\n  var _useVoronoiMesh = useVoronoiMesh({\n    points: points,\n    width: innerWidth,\n    height: innerHeight,\n    debug: debugMesh\n  }),\n      delaunay = _useVoronoiMesh.delaunay,\n      voronoi = _useVoronoiMesh.voronoi;\n  useEffect(function () {\n    canvasEl.current.width = outerWidth * pixelRatio;\n    canvasEl.current.height = outerHeight * pixelRatio;\n    var ctx = canvasEl.current.getContext('2d');\n    ctx.scale(pixelRatio, pixelRatio);\n    ctx.fillStyle = theme.background;\n    ctx.fillRect(0, 0, outerWidth, outerHeight);\n    ctx.translate(margin.left, margin.top);\n    layers.forEach(function (layer) {\n      if (layer === 'grid' && theme.grid.line.strokeWidth > 0) {\n        ctx.lineWidth = theme.grid.line.strokeWidth;\n        ctx.strokeStyle = theme.grid.line.stroke;\n        enableGridX && renderGridLinesToCanvas(ctx, {\n          width: innerWidth,\n          height: innerHeight,\n          scale: xScale,\n          axis: 'x',\n          values: gridXValues\n        });\n        enableGridY && renderGridLinesToCanvas(ctx, {\n          width: innerWidth,\n          height: innerHeight,\n          scale: yScale,\n          axis: 'y',\n          values: gridYValues\n        });\n      }\n      if (layer === 'axes') {\n        renderAxesToCanvas(ctx, {\n          xScale: xScale,\n          yScale: yScale,\n          width: innerWidth,\n          height: innerHeight,\n          top: axisTop,\n          right: axisRight,\n          bottom: axisBottom,\n          left: axisLeft,\n          theme: theme\n        });\n      }\n      if (layer === 'areas' && enableArea === true) {\n        ctx.save();\n        ctx.globalAlpha = areaOpacity;\n        areaGenerator.context(ctx);\n        series.forEach(function (serie) {\n          ctx.fillStyle = serie.color;\n          ctx.beginPath();\n          areaGenerator(serie.data.map(function (d) {\n            return d.position;\n          }));\n          ctx.fill();\n        });\n        ctx.restore();\n      }\n      if (layer === 'lines') {\n        lineGenerator.context(ctx);\n        series.forEach(function (serie) {\n          ctx.strokeStyle = serie.color;\n          ctx.lineWidth = lineWidth;\n          ctx.beginPath();\n          lineGenerator(serie.data.map(function (d) {\n            return d.position;\n          }));\n          ctx.stroke();\n        });\n      }\n      if (layer === 'points' && enablePoints === true && pointSize > 0) {\n        points.forEach(function (point) {\n          ctx.fillStyle = point.color;\n          ctx.beginPath();\n          ctx.arc(point.x, point.y, pointSize / 2, 0, 2 * Math.PI);\n          ctx.fill();\n          if (pointBorderWidth > 0) {\n            ctx.strokeStyle = point.borderColor;\n            ctx.lineWidth = pointBorderWidth;\n            ctx.stroke();\n          }\n        });\n      }\n      if (layer === 'mesh' && debugMesh === true) {\n        renderVoronoiToCanvas(ctx, voronoi);\n        if (currentPoint) {\n          renderVoronoiCellToCanvas(ctx, voronoi, currentPoint.index);\n        }\n      }\n      if (layer === 'legends') {\n        var legendData = series.map(function (serie) {\n          return {\n            id: serie.id,\n            label: serie.id,\n            color: serie.color\n          };\n        }).reverse();\n        legends.forEach(function (legend) {\n          renderLegendToCanvas(ctx, _objectSpread$3({}, legend, {\n            data: legend.data || legendData,\n            containerWidth: innerWidth,\n            containerHeight: innerHeight,\n            theme: theme\n          }));\n        });\n      }\n    });\n  }, [canvasEl, outerWidth, outerHeight, layers, theme, lineGenerator, series, xScale, yScale, enableGridX, gridXValues, enableGridY, gridYValues, axisTop, axisRight, axisBottom, axisLeft, legends, points, enablePoints, pointSize, currentPoint]);\n  var getPointFromMouseEvent = useCallback(function (event) {\n    var _getRelativeCursor = getRelativeCursor(canvasEl.current, event),\n        _getRelativeCursor2 = _slicedToArray$2(_getRelativeCursor, 2),\n        x = _getRelativeCursor2[0],\n        y = _getRelativeCursor2[1];\n    if (!isCursorInRect(margin.left, margin.top, innerWidth, innerHeight, x, y)) return null;\n    var pointIndex = delaunay.find(x - margin.left, y - margin.top);\n    return points[pointIndex];\n  }, [canvasEl, margin, innerWidth, innerHeight, delaunay]);\n  var _useTooltip = useTooltip(),\n      showTooltipFromEvent = _useTooltip.showTooltipFromEvent,\n      hideTooltip = _useTooltip.hideTooltip;\n  var handleMouseHover = useCallback(function (event) {\n    var point = getPointFromMouseEvent(event);\n    setCurrentPoint(point);\n    if (point) {\n      showTooltipFromEvent(React.createElement(tooltip, {\n        point: point\n      }), event);\n    } else {\n      hideTooltip();\n    }\n  }, [getPointFromMouseEvent, setCurrentPoint, showTooltipFromEvent, hideTooltip, tooltip]);\n  var handleMouseLeave = useCallback(function (event) {\n    hideTooltip();\n    setCurrentPoint(null);\n    currentPoint && onMouseLeave && onMouseLeave(currentPoint, event);\n  }, [hideTooltip, setCurrentPoint, onMouseLeave]);\n  var handleClick = useCallback(function (event) {\n    if (onClick) {\n      var point = getPointFromMouseEvent(event);\n      point && onClick(point, event);\n    }\n  }, [getPointFromMouseEvent, onClick]);\n  return React.createElement(\"canvas\", {\n    ref: canvasEl,\n    width: outerWidth * pixelRatio,\n    height: outerHeight * pixelRatio,\n    style: {\n      width: outerWidth,\n      height: outerHeight,\n      cursor: isInteractive ? 'auto' : 'normal'\n    },\n    onMouseEnter: isInteractive ? handleMouseHover : undefined,\n    onMouseMove: isInteractive ? handleMouseHover : undefined,\n    onMouseLeave: isInteractive ? handleMouseLeave : undefined,\n    onClick: isInteractive ? handleClick : undefined\n  });\n};\nLineCanvas.propTypes = LineCanvasPropTypes;\nLineCanvas.defaultProps = LineCanvasDefaultProps;\nvar LineCanvas$1 = withContainer(LineCanvas);\n\nfunction _extends$3() { _extends$3 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$3.apply(this, arguments); }\nvar ResponsiveLineCanvas = function ResponsiveLineCanvas(props) {\n  return React.createElement(ResponsiveWrapper, null, function (_ref) {\n    var width = _ref.width,\n        height = _ref.height;\n    return React.createElement(LineCanvas$1, _extends$3({\n      width: width,\n      height: height\n    }, props));\n  });\n};\n\nexport { Line$1 as Line, LineCanvas$1 as LineCanvas, LineCanvasDefaultProps, LineCanvasPropTypes, LineDefaultProps, LinePropTypes, ResponsiveLine, ResponsiveLineCanvas, useAreaGenerator, useLine, useLineGenerator, useSlices };\n","require('./_typed-array')('Uint32', 4, function (init) {\n  return function Uint32Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","import React, { useMemo, memo } from 'react';\nimport PropTypes from 'prop-types';\nimport { Motion, spring } from 'react-motion';\nimport { absoluteAngleDegrees, radiansToDegrees, positionFromAngle, degreesToRadians, useTheme, useMotionConfig, SmartMotion } from '@nivo/core';\nimport isPlainObject from 'lodash/isPlainObject';\nimport filter from 'lodash/filter';\nimport omit from 'lodash/omit';\n\nvar annotationSpecPropType = PropTypes.shape({\n  match: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n  type: PropTypes.oneOf(['circle', 'rect', 'dot']).isRequired,\n  noteX: PropTypes.oneOfType([PropTypes.number, PropTypes.shape({\n    abs: PropTypes.number.isRequired\n  })]).isRequired,\n  noteY: PropTypes.oneOfType([PropTypes.number, PropTypes.shape({\n    abs: PropTypes.number.isRequired\n  })]).isRequired,\n  noteWidth: PropTypes.number,\n  noteTextOffset: PropTypes.number,\n  note: PropTypes.oneOfType([PropTypes.node, PropTypes.func]).isRequired,\n  offset: PropTypes.number\n});\nvar defaultProps = {\n  noteWidth: 120,\n  noteTextOffset: 8,\n  animate: true,\n  motionStiffness: 90,\n  motionDamping: 13\n};\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(Object(source)); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar defaultPositionAccessor = function defaultPositionAccessor(item) {\n  return {\n    x: item.x,\n    y: item.y\n  };\n};\nvar bindAnnotations = function bindAnnotations(_ref) {\n  var items = _ref.items,\n      annotations = _ref.annotations,\n      _ref$getPosition = _ref.getPosition,\n      getPosition = _ref$getPosition === void 0 ? defaultPositionAccessor : _ref$getPosition,\n      getDimensions = _ref.getDimensions;\n  return annotations.reduce(function (acc, annotation) {\n    filter(items, annotation.match).forEach(function (item) {\n      var position = getPosition(item);\n      var dimensions = getDimensions(item, annotation.offset || 0);\n      acc.push(_objectSpread({}, omit(annotation, ['match', 'offset']), position, dimensions, {\n        datum: item,\n        size: annotation.size || dimensions.size\n      }));\n    });\n    return acc;\n  }, []);\n};\nvar getLinkAngle = function getLinkAngle(sourceX, sourceY, targetX, targetY) {\n  var angle = Math.atan2(targetY - sourceY, targetX - sourceX);\n  return absoluteAngleDegrees(radiansToDegrees(angle));\n};\nvar computeAnnotation = function computeAnnotation(_ref2) {\n  var type = _ref2.type,\n      x = _ref2.x,\n      y = _ref2.y,\n      size = _ref2.size,\n      width = _ref2.width,\n      height = _ref2.height,\n      noteX = _ref2.noteX,\n      noteY = _ref2.noteY,\n      _ref2$noteWidth = _ref2.noteWidth,\n      noteWidth = _ref2$noteWidth === void 0 ? defaultProps.noteWidth : _ref2$noteWidth,\n      _ref2$noteTextOffset = _ref2.noteTextOffset,\n      noteTextOffset = _ref2$noteTextOffset === void 0 ? defaultProps.noteTextOffset : _ref2$noteTextOffset;\n  var computedNoteX;\n  var computedNoteY;\n  if (isPlainObject(noteX)) {\n    if (noteX.abs !== undefined) {\n      computedNoteX = noteX.abs;\n    }\n  } else {\n    computedNoteX = x + noteX;\n  }\n  if (isPlainObject(noteY)) {\n    if (noteY.abs !== undefined) {\n      computedNoteY = noteY.abs;\n    }\n  } else {\n    computedNoteY = y + noteY;\n  }\n  var computedX = x;\n  var computedY = y;\n  var angle = getLinkAngle(x, y, computedNoteX, computedNoteY);\n  if (type === 'circle') {\n    var position = positionFromAngle(degreesToRadians(angle), size / 2);\n    computedX += position.x;\n    computedY += position.y;\n  }\n  if (type === 'rect') {\n    var eighth = Math.round((angle + 90) / 45) % 8;\n    if (eighth === 0) {\n      computedY -= height / 2;\n    }\n    if (eighth === 1) {\n      computedX += width / 2;\n      computedY -= height / 2;\n    }\n    if (eighth === 2) {\n      computedX += width / 2;\n    }\n    if (eighth === 3) {\n      computedX += width / 2;\n      computedY += height / 2;\n    }\n    if (eighth === 4) {\n      computedY += height / 2;\n    }\n    if (eighth === 5) {\n      computedX -= width / 2;\n      computedY += height / 2;\n    }\n    if (eighth === 6) {\n      computedX -= width / 2;\n    }\n    if (eighth === 7) {\n      computedX -= width / 2;\n      computedY -= height / 2;\n    }\n  }\n  var textX = computedNoteX;\n  var textY = computedNoteY - noteTextOffset;\n  var noteLineX = computedNoteX;\n  var noteLineY = computedNoteY;\n  if ((angle + 90) % 360 > 180) {\n    textX -= noteWidth;\n    noteLineX -= noteWidth;\n  } else {\n    noteLineX += noteWidth;\n  }\n  return {\n    points: [[computedX, computedY], [computedNoteX, computedNoteY], [noteLineX, noteLineY]],\n    text: [textX, textY],\n    angle: angle + 90\n  };\n};\n\nfunction _objectSpread$1(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(Object(source)); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$1(target, key, source[key]); }); } return target; }\nfunction _defineProperty$1(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar useAnnotations = function useAnnotations(_ref) {\n  var items = _ref.items,\n      annotations = _ref.annotations,\n      getPosition = _ref.getPosition,\n      getDimensions = _ref.getDimensions;\n  return useMemo(function () {\n    return bindAnnotations({\n      items: items,\n      annotations: annotations,\n      getPosition: getPosition,\n      getDimensions: getDimensions\n    });\n  }, [items, annotations, getPosition, getDimensions]);\n};\nvar useComputedAnnotations = function useComputedAnnotations(_ref2) {\n  var annotations = _ref2.annotations,\n      containerWidth = _ref2.containerWidth,\n      containerHeight = _ref2.containerHeight;\n  return useMemo(function () {\n    return annotations.map(function (annotation) {\n      return _objectSpread$1({}, annotation, {\n        computed: computeAnnotation(_objectSpread$1({\n          containerWidth: containerWidth,\n          containerHeight: containerHeight\n        }, annotation))\n      });\n    });\n  }, [annotations, containerWidth, containerHeight]);\n};\nvar useComputedAnnotation = function useComputedAnnotation(_ref3) {\n  var type = _ref3.type,\n      containerWidth = _ref3.containerWidth,\n      containerHeight = _ref3.containerHeight,\n      x = _ref3.x,\n      y = _ref3.y,\n      size = _ref3.size,\n      width = _ref3.width,\n      height = _ref3.height,\n      noteX = _ref3.noteX,\n      noteY = _ref3.noteY,\n      noteWidth = _ref3.noteWidth,\n      noteTextOffset = _ref3.noteTextOffset;\n  return useMemo(function () {\n    return computeAnnotation({\n      type: type,\n      containerWidth: containerWidth,\n      containerHeight: containerHeight,\n      x: x,\n      y: y,\n      size: size,\n      width: width,\n      height: height,\n      noteX: noteX,\n      noteY: noteY,\n      noteWidth: noteWidth,\n      noteTextOffset: noteTextOffset\n    });\n  }, [type, containerWidth, containerHeight, x, y, size, width, height, noteX, noteY, noteWidth, noteTextOffset]);\n};\n\nfunction _objectSpread$2(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(Object(source)); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$2(target, key, source[key]); }); } return target; }\nfunction _defineProperty$2(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar AnnotationNote = memo(function (_ref) {\n  var datum = _ref.datum,\n      x = _ref.x,\n      y = _ref.y,\n      note = _ref.note;\n  var theme = useTheme();\n  if (typeof note === 'function') {\n    return note({\n      x: x,\n      y: y,\n      datum: datum\n    });\n  }\n  return React.createElement(React.Fragment, null, theme.annotations.text.outlineWidth > 0 && React.createElement(\"text\", {\n    x: x,\n    y: y,\n    style: _objectSpread$2({}, theme.annotations.text, {\n      strokeLinejoin: 'round',\n      strokeWidth: theme.annotations.text.outlineWidth * 2,\n      stroke: theme.annotations.text.outlineColor\n    })\n  }, note), React.createElement(\"text\", {\n    x: x,\n    y: y,\n    style: omit(theme.annotations.text, ['outlineWidth', 'outlineColor'])\n  }, note));\n});\nAnnotationNote.displayName = 'AnnotationNote';\nAnnotationNote.propTypes = {\n  datum: PropTypes.object.isRequired,\n  x: PropTypes.number.isRequired,\n  y: PropTypes.number.isRequired,\n  note: PropTypes.oneOfType([PropTypes.node, PropTypes.func]).isRequired\n};\nAnnotationNote.defaultProps = {};\n\nfunction _objectSpread$3(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(Object(source)); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$3(target, key, source[key]); }); } return target; }\nfunction _defineProperty$3(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar AnnotationLink = memo(function (_ref) {\n  var points = _ref.points,\n      isOutline = _ref.isOutline;\n  var theme = useTheme();\n  var _useMotionConfig = useMotionConfig(),\n      animate = _useMotionConfig.animate,\n      springConfig = _useMotionConfig.springConfig;\n  if (isOutline && theme.annotations.link.outlineWidth <= 0) {\n    return null;\n  }\n  var style = _objectSpread$3({}, theme.annotations.link);\n  if (isOutline) {\n    style.strokeLinecap = 'square';\n    style.strokeWidth = theme.annotations.link.strokeWidth + theme.annotations.link.outlineWidth * 2;\n    style.stroke = theme.annotations.link.outlineColor;\n  }\n  var path = \"M\".concat(points[0][0], \",\").concat(points[0][1]);\n  points.slice(1).forEach(function (point) {\n    path = \"\".concat(path, \" L\").concat(point[0], \",\").concat(point[1]);\n  });\n  if (!animate) {\n    return React.createElement(\"path\", {\n      fill: \"none\",\n      d: path,\n      style: style\n    });\n  }\n  return React.createElement(SmartMotion, {\n    style: function style(spring) {\n      return {\n        d: spring(path, springConfig)\n      };\n    }\n  }, function (interpolated) {\n    return React.createElement(\"path\", {\n      fill: \"none\",\n      d: interpolated.d,\n      style: style\n    });\n  });\n});\nAnnotationLink.displayName = 'AnnotationLink';\nAnnotationLink.propTypes = {\n  points: PropTypes.arrayOf(PropTypes.array).isRequired,\n  isOutline: PropTypes.bool.isRequired\n};\nAnnotationLink.defaultProps = {\n  isOutline: false\n};\n\nfunction _objectSpread$4(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(Object(source)); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$4(target, key, source[key]); }); } return target; }\nfunction _defineProperty$4(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar CircleAnnotationOutline = memo(function (_ref) {\n  var x = _ref.x,\n      y = _ref.y,\n      size = _ref.size;\n  var theme = useTheme();\n  var _useMotionConfig = useMotionConfig(),\n      animate = _useMotionConfig.animate,\n      springConfig = _useMotionConfig.springConfig;\n  if (!animate) {\n    return React.createElement(React.Fragment, null, theme.annotations.outline.outlineWidth > 0 && React.createElement(\"circle\", {\n      cx: x,\n      cy: y,\n      r: size / 2,\n      style: _objectSpread$4({}, theme.annotations.outline, {\n        fill: 'none',\n        strokeWidth: theme.annotations.outline.strokeWidth + theme.annotations.outline.outlineWidth * 2,\n        stroke: theme.annotations.outline.outlineColor\n      })\n    }), React.createElement(\"circle\", {\n      cx: x,\n      cy: y,\n      r: size / 2,\n      style: theme.annotations.outline\n    }));\n  }\n  return React.createElement(Motion, {\n    style: {\n      x: spring(x, springConfig),\n      y: spring(y, springConfig),\n      size: spring(size, springConfig)\n    }\n  }, function (interpolated) {\n    return React.createElement(React.Fragment, null, theme.annotations.outline.outlineWidth > 0 && React.createElement(\"circle\", {\n      cx: interpolated.x,\n      cy: interpolated.y,\n      r: interpolated.size / 2,\n      style: _objectSpread$4({}, theme.annotations.outline, {\n        fill: 'none',\n        strokeWidth: theme.annotations.outline.strokeWidth + theme.annotations.outline.outlineWidth * 2,\n        stroke: theme.annotations.outline.outlineColor\n      })\n    }), React.createElement(\"circle\", {\n      cx: interpolated.x,\n      cy: interpolated.y,\n      r: interpolated.size / 2,\n      style: theme.annotations.outline\n    }));\n  });\n});\nCircleAnnotationOutline.displayName = 'CircleAnnotationOutline';\nCircleAnnotationOutline.propTypes = {\n  x: PropTypes.number.isRequired,\n  y: PropTypes.number.isRequired,\n  size: PropTypes.number.isRequired\n};\n\nfunction _objectSpread$5(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(Object(source)); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$5(target, key, source[key]); }); } return target; }\nfunction _defineProperty$5(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar DotAnnotationOutline = memo(function (_ref) {\n  var x = _ref.x,\n      y = _ref.y,\n      size = _ref.size;\n  var theme = useTheme();\n  var _useMotionConfig = useMotionConfig(),\n      animate = _useMotionConfig.animate,\n      springConfig = _useMotionConfig.springConfig;\n  if (!animate) {\n    return React.createElement(React.Fragment, null, theme.annotations.outline.outlineWidth > 0 && React.createElement(\"circle\", {\n      cx: x,\n      cy: y,\n      r: size / 2,\n      style: _objectSpread$5({}, theme.annotations.outline, {\n        fill: 'none',\n        strokeWidth: theme.annotations.outline.outlineWidth * 2,\n        stroke: theme.annotations.outline.outlineColor\n      })\n    }), React.createElement(\"circle\", {\n      cx: x,\n      cy: y,\n      r: size / 2,\n      style: theme.annotations.symbol\n    }));\n  }\n  return React.createElement(Motion, {\n    style: {\n      x: spring(x, springConfig),\n      y: spring(y, springConfig),\n      size: spring(size, springConfig)\n    }\n  }, function (interpolated) {\n    return React.createElement(React.Fragment, null, theme.annotations.outline.outlineWidth > 0 && React.createElement(\"circle\", {\n      cx: interpolated.x,\n      cy: interpolated.y,\n      r: interpolated.size / 2,\n      style: _objectSpread$5({}, theme.annotations.outline, {\n        fill: 'none',\n        strokeWidth: theme.annotations.outline.outlineWidth * 2,\n        stroke: theme.annotations.outline.outlineColor\n      })\n    }), React.createElement(\"circle\", {\n      cx: interpolated.x,\n      cy: interpolated.y,\n      r: interpolated.size / 2,\n      style: theme.annotations.symbol\n    }));\n  });\n});\nDotAnnotationOutline.displayName = 'DotAnnotationOutline';\nDotAnnotationOutline.propTypes = {\n  x: PropTypes.number.isRequired,\n  y: PropTypes.number.isRequired,\n  size: PropTypes.number.isRequired\n};\nDotAnnotationOutline.defaultProps = {\n  size: 4\n};\n\nfunction _objectSpread$6(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(Object(source)); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$6(target, key, source[key]); }); } return target; }\nfunction _defineProperty$6(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar RectAnnotationOutline = memo(function (_ref) {\n  var x = _ref.x,\n      y = _ref.y,\n      width = _ref.width,\n      height = _ref.height;\n  var theme = useTheme();\n  var _useMotionConfig = useMotionConfig(),\n      animate = _useMotionConfig.animate,\n      springConfig = _useMotionConfig.springConfig;\n  if (!animate) {\n    return React.createElement(React.Fragment, null, theme.annotations.outline.outlineWidth > 0 && React.createElement(\"rect\", {\n      x: x - width / 2,\n      y: y - height / 2,\n      width: width,\n      height: height,\n      style: _objectSpread$6({}, theme.annotations.outline, {\n        fill: 'none',\n        strokeWidth: theme.annotations.outline.strokeWidth + theme.annotations.outline.outlineWidth * 2,\n        stroke: theme.annotations.outline.outlineColor\n      })\n    }), React.createElement(\"rect\", {\n      x: x - width / 2,\n      y: y - height / 2,\n      width: width,\n      height: height,\n      style: theme.annotations.outline\n    }));\n  }\n  return React.createElement(Motion, {\n    style: {\n      x: spring(x - width / 2, springConfig),\n      y: spring(y - height / 2, springConfig),\n      width: spring(width, springConfig),\n      height: spring(height, springConfig)\n    }\n  }, function (interpolated) {\n    return React.createElement(React.Fragment, null, theme.annotations.outline.outlineWidth > 0 && React.createElement(\"rect\", {\n      x: interpolated.x,\n      y: interpolated.y,\n      width: interpolated.width,\n      height: interpolated.height,\n      style: _objectSpread$6({}, theme.annotations.outline, {\n        fill: 'none',\n        strokeWidth: theme.annotations.outline.strokeWidth + theme.annotations.outline.outlineWidth * 2,\n        stroke: theme.annotations.outline.outlineColor\n      })\n    }), React.createElement(\"rect\", {\n      x: interpolated.x,\n      y: interpolated.y,\n      width: interpolated.width,\n      height: interpolated.height,\n      style: theme.annotations.outline\n    }));\n  });\n});\nRectAnnotationOutline.displayName = 'RectAnnotationOutline';\nRectAnnotationOutline.propTypes = {\n  x: PropTypes.number.isRequired,\n  y: PropTypes.number.isRequired,\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired\n};\n\nvar Annotation = memo(function (_ref) {\n  var datum = _ref.datum,\n      type = _ref.type,\n      containerWidth = _ref.containerWidth,\n      containerHeight = _ref.containerHeight,\n      x = _ref.x,\n      y = _ref.y,\n      size = _ref.size,\n      width = _ref.width,\n      height = _ref.height,\n      noteX = _ref.noteX,\n      noteY = _ref.noteY,\n      noteWidth = _ref.noteWidth,\n      noteTextOffset = _ref.noteTextOffset,\n      note = _ref.note;\n  var _useMotionConfig = useMotionConfig(),\n      animate = _useMotionConfig.animate,\n      springConfig = _useMotionConfig.springConfig;\n  var computed = useComputedAnnotation({\n    type: type,\n    containerWidth: containerWidth,\n    containerHeight: containerHeight,\n    x: x,\n    y: y,\n    size: size,\n    width: width,\n    height: height,\n    noteX: noteX,\n    noteY: noteY,\n    noteWidth: noteWidth,\n    noteTextOffset: noteTextOffset\n  });\n  return React.createElement(React.Fragment, null, React.createElement(AnnotationLink, {\n    points: computed.points,\n    isOutline: true\n  }), type === 'circle' && React.createElement(CircleAnnotationOutline, {\n    x: x,\n    y: y,\n    size: size\n  }), type === 'dot' && React.createElement(DotAnnotationOutline, {\n    x: x,\n    y: y,\n    size: size\n  }), type === 'rect' && React.createElement(RectAnnotationOutline, {\n    x: x,\n    y: y,\n    width: width,\n    height: height\n  }), React.createElement(AnnotationLink, {\n    points: computed.points\n  }), !animate && React.createElement(AnnotationNote, {\n    x: computed.text[0],\n    y: computed.text[1],\n    note: note\n  }), animate && React.createElement(Motion, {\n    style: {\n      x: spring(computed.text[0], springConfig),\n      y: spring(computed.text[1], springConfig)\n    }\n  }, function (interpolated) {\n    return React.createElement(AnnotationNote, {\n      datum: datum,\n      x: interpolated.x,\n      y: interpolated.y,\n      note: note\n    });\n  }));\n});\nAnnotation.displayName = 'Annotation';\nAnnotation.propTypes = {\n  datum: PropTypes.object.isRequired,\n  type: PropTypes.oneOf(['circle', 'rect', 'dot']).isRequired,\n  containerWidth: PropTypes.number.isRequired,\n  containerHeight: PropTypes.number.isRequired,\n  x: PropTypes.number.isRequired,\n  y: PropTypes.number.isRequired,\n  size: PropTypes.number,\n  width: PropTypes.number,\n  height: PropTypes.number,\n  noteX: PropTypes.oneOfType([PropTypes.number, PropTypes.shape({\n    abs: PropTypes.number.isRequired\n  })]).isRequired,\n  noteY: PropTypes.oneOfType([PropTypes.number, PropTypes.shape({\n    abs: PropTypes.number.isRequired\n  })]).isRequired,\n  noteWidth: PropTypes.number.isRequired,\n  noteTextOffset: PropTypes.number.isRequired,\n  note: PropTypes.oneOfType([PropTypes.node, PropTypes.func]).isRequired\n};\nAnnotation.defaultProps = {\n  noteWidth: defaultProps.noteWidth,\n  noteTextOffset: defaultProps.noteTextOffset\n};\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nvar drawPoints = function drawPoints(ctx, points) {\n  points.forEach(function (_ref, index) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        x = _ref2[0],\n        y = _ref2[1];\n    if (index === 0) {\n      ctx.moveTo(x, y);\n    } else {\n      ctx.lineTo(x, y);\n    }\n  });\n};\nvar renderAnnotationsToCanvas = function renderAnnotationsToCanvas(ctx, _ref3) {\n  var annotations = _ref3.annotations,\n      theme = _ref3.theme;\n  if (annotations.length === 0) return;\n  ctx.save();\n  annotations.forEach(function (annotation) {\n    if (theme.annotations.link.outlineWidth > 0) {\n      ctx.lineCap = 'square';\n      ctx.strokeStyle = theme.annotations.link.outlineColor;\n      ctx.lineWidth = theme.annotations.link.strokeWidth + theme.annotations.link.outlineWidth * 2;\n      ctx.beginPath();\n      drawPoints(ctx, annotation.computed.points);\n      ctx.stroke();\n      ctx.lineCap = 'butt';\n    }\n    if (annotation.type === 'circle' && theme.annotations.outline.outlineWidth > 0) {\n      ctx.strokeStyle = theme.annotations.outline.outlineColor;\n      ctx.lineWidth = theme.annotations.outline.strokeWidth + theme.annotations.outline.outlineWidth * 2;\n      ctx.beginPath();\n      ctx.arc(annotation.x, annotation.y, annotation.size / 2, 0, 2 * Math.PI);\n      ctx.stroke();\n    }\n    if (annotation.type === 'dot' && theme.annotations.symbol.outlineWidth > 0) {\n      ctx.strokeStyle = theme.annotations.symbol.outlineColor;\n      ctx.lineWidth = theme.annotations.symbol.outlineWidth * 2;\n      ctx.beginPath();\n      ctx.arc(annotation.x, annotation.y, annotation.size / 2, 0, 2 * Math.PI);\n      ctx.stroke();\n    }\n    if (annotation.type === 'rect' && theme.annotations.outline.outlineWidth > 0) {\n      ctx.strokeStyle = theme.annotations.outline.outlineColor;\n      ctx.lineWidth = theme.annotations.outline.strokeWidth + theme.annotations.outline.outlineWidth * 2;\n      ctx.beginPath();\n      ctx.rect(annotation.x - annotation.width / 2, annotation.y - annotation.height / 2, annotation.width, annotation.height);\n      ctx.stroke();\n    }\n    ctx.strokeStyle = theme.annotations.link.stroke;\n    ctx.lineWidth = theme.annotations.link.strokeWidth;\n    ctx.beginPath();\n    drawPoints(ctx, annotation.computed.points);\n    ctx.stroke();\n    if (annotation.type === 'circle') {\n      ctx.strokeStyle = theme.annotations.outline.stroke;\n      ctx.lineWidth = theme.annotations.outline.strokeWidth;\n      ctx.beginPath();\n      ctx.arc(annotation.x, annotation.y, annotation.size / 2, 0, 2 * Math.PI);\n      ctx.stroke();\n    }\n    if (annotation.type === 'dot') {\n      ctx.fillStyle = theme.annotations.symbol.fill;\n      ctx.beginPath();\n      ctx.arc(annotation.x, annotation.y, annotation.size / 2, 0, 2 * Math.PI);\n      ctx.fill();\n    }\n    if (annotation.type === 'rect') {\n      ctx.strokeStyle = theme.annotations.outline.stroke;\n      ctx.lineWidth = theme.annotations.outline.strokeWidth;\n      ctx.beginPath();\n      ctx.rect(annotation.x - annotation.width / 2, annotation.y - annotation.height / 2, annotation.width, annotation.height);\n      ctx.stroke();\n    }\n    if (typeof annotation.note === 'function') {\n      annotation.note(ctx, {\n        datum: annotation.datum,\n        x: annotation.computed.text[0],\n        y: annotation.computed.text[1],\n        theme: theme\n      });\n    } else {\n      ctx.font = \"\".concat(theme.annotations.text.fontSize, \"px \").concat(theme.annotations.text.fontFamily);\n      ctx.fillStyle = theme.annotations.text.fill;\n      ctx.strokeStyle = theme.annotations.text.outlineColor;\n      ctx.lineWidth = theme.annotations.text.outlineWidth * 2;\n      if (theme.annotations.text.outlineWidth > 0) {\n        ctx.lineJoin = 'round';\n        ctx.strokeText(annotation.note, annotation.computed.text[0], annotation.computed.text[1]);\n        ctx.lineJoin = 'miter';\n      }\n      ctx.fillText(annotation.note, annotation.computed.text[0], annotation.computed.text[1]);\n    }\n  });\n  ctx.restore();\n};\n\nexport { Annotation, annotationSpecPropType, bindAnnotations, computeAnnotation, defaultProps, getLinkAngle, renderAnnotationsToCanvas, useAnnotations, useComputedAnnotation, useComputedAnnotations };\n","var baseFlatten = require('./_baseFlatten'),\n    toInteger = require('./toInteger');\n/**\n * Recursively flatten `array` up to `depth` times.\n *\n * @static\n * @memberOf _\n * @since 4.4.0\n * @category Array\n * @param {Array} array The array to flatten.\n * @param {number} [depth=1] The maximum recursion depth.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * var array = [1, [2, [3, [4]], 5]];\n *\n * _.flattenDepth(array, 1);\n * // => [1, 2, [3, [4]], 5]\n *\n * _.flattenDepth(array, 2);\n * // => [1, 2, 3, [4], 5]\n */\n\n\nfunction flattenDepth(array, depth) {\n  var length = array == null ? 0 : array.length;\n\n  if (!length) {\n    return [];\n  }\n\n  depth = depth === undefined ? 1 : toInteger(depth);\n  return baseFlatten(array, depth);\n}\n\nmodule.exports = flattenDepth;","require('./_typed-array')('Int32', 4, function (init) {\n  return function Int32Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","/*\n * This file is part of the nivo project.\n *\n * (c) 2016 Raphal Benitte\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport styled from 'styled-components'\nimport media from '../theming/mediaQueries'\n\nexport const FullWidthBanner = styled.div`\n    background: ${({ theme }) => theme.colors.cardBackground};\n    margin-bottom: 40px;\n    padding: 20px;\n`\n\nexport const DescriptionBlock = styled.div`\n    max-width: 800px;\n    margin: 0 auto 50px;\n\n    ${media.tablet`\n        & {\n            margin: 0 15px 50px;\n        }\n    `}\n\n    ${media.mobile`\n        & {\n            margin: 0 15px 50px;\n        }\n    `}\n`\n\nexport const Card = styled.div`\n    background: ${({ theme }) => theme.colors.cardBackground};\n    box-shadow: ${({ theme }) => theme.cardShadow};\n`\n","import React, { Fragment, Component } from 'react';\nimport { TransitionMotion, spring } from 'react-motion';\nimport { defsPropTypes, noop, withTheme, withDimensions, withMotion, getAccessorFor, getLabelGenerator, bindDefs, Container, CartesianMarkers, SvgWrapper, getRelativeCursor, isCursorInRect, ResponsiveWrapper } from '@nivo/core';\nimport { axisPropType, Grid, Axes, renderGridLinesToCanvas, renderAxesToCanvas } from '@nivo/axes';\nimport { LegendPropShape, BoxLegendSvg, renderLegendToCanvas } from '@nivo/legends';\nimport min from 'lodash/min';\nimport max from 'lodash/max';\nimport range from 'lodash/range';\nimport { scaleBand, scaleLinear } from 'd3-scale';\nimport flattenDepth from 'lodash/flattenDepth';\nimport { stack, stackOffsetDiverging } from 'd3-shape';\nimport _uniqBy from 'lodash/uniqBy';\nimport setDisplayName from 'recompose/setDisplayName';\nimport compose from 'recompose/compose';\nimport defaultProps from 'recompose/defaultProps';\nimport withPropsOnChange from 'recompose/withPropsOnChange';\nimport pure from 'recompose/pure';\nimport { inheritedColorPropType, ordinalColorsPropType, colorPropertyAccessorPropType, getOrdinalColorScale, getInheritedColorGenerator } from '@nivo/colors';\nimport PropTypes from 'prop-types';\nimport { BasicTooltip } from '@nivo/tooltip';\nimport { useAnnotations, Annotation } from '@nivo/annotations';\n\nvar getIndexedScale = function getIndexedScale(data, getIndex, range, padding) {\n  return scaleBand().rangeRound(range).domain(data.map(getIndex)).padding(padding);\n};\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\nvar getGroupedScale = function getGroupedScale(data, keys, _minValue, _maxValue, range) {\n  var allValues = data.reduce(function (acc, entry) {\n    return [].concat(_toConsumableArray(acc), _toConsumableArray(keys.map(function (k) {\n      return entry[k];\n    })));\n  }, []);\n  var maxValue = _maxValue;\n  if (maxValue === 'auto') {\n    maxValue = max(allValues);\n  }\n  var minValue = _minValue;\n  if (minValue === 'auto') {\n    minValue = min(allValues);\n    if (minValue > 0) minValue = 0;\n  }\n  return scaleLinear().rangeRound(range).domain([minValue, maxValue]);\n};\nvar generateVerticalGroupedBars = function generateVerticalGroupedBars(_ref) {\n  var data = _ref.data,\n      getIndex = _ref.getIndex,\n      keys = _ref.keys,\n      minValue = _ref.minValue,\n      maxValue = _ref.maxValue,\n      reverse = _ref.reverse,\n      width = _ref.width,\n      height = _ref.height,\n      getColor = _ref.getColor,\n      _ref$padding = _ref.padding,\n      padding = _ref$padding === void 0 ? 0 : _ref$padding,\n      _ref$innerPadding = _ref.innerPadding,\n      innerPadding = _ref$innerPadding === void 0 ? 0 : _ref$innerPadding;\n  var xScale = getIndexedScale(data, getIndex, [0, width], padding);\n  var yRange = reverse ? [0, height] : [height, 0];\n  var yScale = getGroupedScale(data, keys, minValue, maxValue, yRange);\n  var barWidth = (xScale.bandwidth() - innerPadding * (keys.length - 1)) / keys.length;\n  var yRef = yScale(0);\n  var getY = function getY(d) {\n    return d > 0 ? yScale(d) : yRef;\n  };\n  var getHeight = function getHeight(d, y) {\n    return d > 0 ? yRef - y : yScale(d) - yRef;\n  };\n  if (reverse) {\n    getY = function getY(d) {\n      return d < 0 ? yScale(d) : yRef;\n    };\n    getHeight = function getHeight(d, y) {\n      return d < 0 ? yRef - y : yScale(d) - yRef;\n    };\n  }\n  var bars = [];\n  if (barWidth > 0) {\n    keys.forEach(function (key, i) {\n      range(xScale.domain().length).forEach(function (index) {\n        var x = xScale(getIndex(data[index])) + barWidth * i + innerPadding * i;\n        var y = getY(data[index][key]);\n        var barHeight = getHeight(data[index][key], y);\n        if (barWidth > 0 && barHeight > 0) {\n          var barData = {\n            id: key,\n            value: data[index][key],\n            index: index,\n            indexValue: getIndex(data[index]),\n            data: data[index]\n          };\n          bars.push({\n            key: \"\".concat(key, \".\").concat(barData.indexValue),\n            data: barData,\n            x: x,\n            y: y,\n            width: barWidth,\n            height: barHeight,\n            color: getColor(barData)\n          });\n        }\n      });\n    });\n  }\n  return {\n    xScale: xScale,\n    yScale: yScale,\n    bars: bars\n  };\n};\nvar generateHorizontalGroupedBars = function generateHorizontalGroupedBars(_ref2) {\n  var data = _ref2.data,\n      getIndex = _ref2.getIndex,\n      keys = _ref2.keys,\n      minValue = _ref2.minValue,\n      maxValue = _ref2.maxValue,\n      reverse = _ref2.reverse,\n      width = _ref2.width,\n      height = _ref2.height,\n      getColor = _ref2.getColor,\n      _ref2$padding = _ref2.padding,\n      padding = _ref2$padding === void 0 ? 0 : _ref2$padding,\n      _ref2$innerPadding = _ref2.innerPadding,\n      innerPadding = _ref2$innerPadding === void 0 ? 0 : _ref2$innerPadding;\n  var xRange = reverse ? [width, 0] : [0, width];\n  var xScale = getGroupedScale(data, keys, minValue, maxValue, xRange);\n  var yScale = getIndexedScale(data, getIndex, [height, 0], padding);\n  var barHeight = (yScale.bandwidth() - innerPadding * (keys.length - 1)) / keys.length;\n  var xRef = xScale(0);\n  var getX = function getX(d) {\n    return d > 0 ? xRef : xScale(d);\n  };\n  var getWidth = function getWidth(d, x) {\n    return d > 0 ? xScale(d) - xRef : xRef - x;\n  };\n  if (reverse) {\n    getX = function getX(d) {\n      return d < 0 ? xRef : xScale(d);\n    };\n    getWidth = function getWidth(d, x) {\n      return d < 0 ? xScale(d) - xRef : xRef - x;\n    };\n  }\n  var bars = [];\n  if (barHeight > 0) {\n    keys.forEach(function (key, i) {\n      range(yScale.domain().length).forEach(function (index) {\n        var x = getX(data[index][key]);\n        var y = yScale(getIndex(data[index])) + barHeight * i + innerPadding * i;\n        var barWidth = getWidth(data[index][key], x);\n        if (barWidth > 0) {\n          var barData = {\n            id: key,\n            value: data[index][key],\n            index: index,\n            indexValue: getIndex(data[index]),\n            data: data[index]\n          };\n          bars.push({\n            key: \"\".concat(key, \".\").concat(barData.indexValue),\n            data: barData,\n            x: x,\n            y: y,\n            width: barWidth,\n            height: barHeight,\n            color: getColor(barData)\n          });\n        }\n      });\n    });\n  }\n  return {\n    xScale: xScale,\n    yScale: yScale,\n    bars: bars\n  };\n};\nvar generateGroupedBars = function generateGroupedBars(options) {\n  return options.layout === 'vertical' ? generateVerticalGroupedBars(options) : generateHorizontalGroupedBars(options);\n};\n\nvar getStackedScale = function getStackedScale(data, _minValue, _maxValue, range) {\n  var allValues = flattenDepth(data, 2);\n  var minValue = _minValue;\n  if (minValue === 'auto') {\n    minValue = min(allValues);\n  }\n  var maxValue = _maxValue;\n  if (maxValue === 'auto') {\n    maxValue = max(allValues);\n  }\n  return scaleLinear().rangeRound(range).domain([minValue, maxValue]);\n};\nvar generateVerticalStackedBars = function generateVerticalStackedBars(_ref) {\n  var data = _ref.data,\n      getIndex = _ref.getIndex,\n      keys = _ref.keys,\n      minValue = _ref.minValue,\n      maxValue = _ref.maxValue,\n      reverse = _ref.reverse,\n      width = _ref.width,\n      height = _ref.height,\n      getColor = _ref.getColor,\n      _ref$padding = _ref.padding,\n      padding = _ref$padding === void 0 ? 0 : _ref$padding,\n      _ref$innerPadding = _ref.innerPadding,\n      innerPadding = _ref$innerPadding === void 0 ? 0 : _ref$innerPadding;\n  var stackedData = stack().keys(keys).offset(stackOffsetDiverging)(data);\n  var xScale = getIndexedScale(data, getIndex, [0, width], padding);\n  var yRange = reverse ? [0, height] : [height, 0];\n  var yScale = getStackedScale(stackedData, minValue, maxValue, yRange);\n  var bars = [];\n  var barWidth = xScale.bandwidth();\n  var getY = function getY(d) {\n    return yScale(d[1]);\n  };\n  var getHeight = function getHeight(d, y) {\n    return yScale(d[0]) - y;\n  };\n  if (reverse) {\n    getY = function getY(d) {\n      return yScale(d[0]);\n    };\n    getHeight = function getHeight(d, y) {\n      return yScale(d[1]) - y;\n    };\n  }\n  if (barWidth > 0) {\n    stackedData.forEach(function (stackedDataItem) {\n      xScale.domain().forEach(function (index, i) {\n        var d = stackedDataItem[i];\n        var x = xScale(getIndex(d.data));\n        var y = getY(d);\n        var barHeight = getHeight(d, y);\n        if (innerPadding > 0) {\n          y += innerPadding * 0.5;\n          barHeight -= innerPadding;\n        }\n        if (barHeight > 0) {\n          var barData = {\n            id: stackedDataItem.key,\n            value: d.data[stackedDataItem.key],\n            index: i,\n            indexValue: index,\n            data: d.data\n          };\n          bars.push({\n            key: \"\".concat(stackedDataItem.key, \".\").concat(index),\n            data: barData,\n            x: x,\n            y: y,\n            width: barWidth,\n            height: barHeight,\n            color: getColor(barData)\n          });\n        }\n      });\n    });\n  }\n  return {\n    xScale: xScale,\n    yScale: yScale,\n    bars: bars\n  };\n};\nvar generateHorizontalStackedBars = function generateHorizontalStackedBars(_ref2) {\n  var data = _ref2.data,\n      getIndex = _ref2.getIndex,\n      keys = _ref2.keys,\n      minValue = _ref2.minValue,\n      maxValue = _ref2.maxValue,\n      reverse = _ref2.reverse,\n      width = _ref2.width,\n      height = _ref2.height,\n      getColor = _ref2.getColor,\n      _ref2$padding = _ref2.padding,\n      padding = _ref2$padding === void 0 ? 0 : _ref2$padding,\n      _ref2$innerPadding = _ref2.innerPadding,\n      innerPadding = _ref2$innerPadding === void 0 ? 0 : _ref2$innerPadding;\n  var stackedData = stack().keys(keys).offset(stackOffsetDiverging)(data);\n  var xRange = reverse ? [width, 0] : [0, width];\n  var xScale = getStackedScale(stackedData, minValue, maxValue, xRange);\n  var yScale = getIndexedScale(data, getIndex, [height, 0], padding);\n  var bars = [];\n  var barHeight = yScale.bandwidth();\n  var getX = function getX(d) {\n    return xScale(d[0]);\n  };\n  var getWidth = function getWidth(d, x) {\n    return xScale(d[1]) - x;\n  };\n  if (reverse) {\n    getX = function getX(d) {\n      return xScale(d[1]);\n    };\n    getWidth = function getWidth(d, y) {\n      return xScale(d[0]) - y;\n    };\n  }\n  if (barHeight > 0) {\n    stackedData.forEach(function (stackedDataItem) {\n      yScale.domain().forEach(function (index, i) {\n        var d = stackedDataItem[i];\n        var y = yScale(getIndex(d.data));\n        var barData = {\n          id: stackedDataItem.key,\n          value: d.data[stackedDataItem.key],\n          index: i,\n          indexValue: index,\n          data: d.data\n        };\n        var x = getX(d);\n        var barWidth = getWidth(d, x);\n        if (innerPadding > 0) {\n          x += innerPadding * 0.5;\n          barWidth -= innerPadding;\n        }\n        if (barWidth > 0) {\n          bars.push({\n            key: \"\".concat(stackedDataItem.key, \".\").concat(index),\n            data: barData,\n            x: x,\n            y: y,\n            width: barWidth,\n            height: barHeight,\n            color: getColor(barData)\n          });\n        }\n      });\n    });\n  }\n  return {\n    xScale: xScale,\n    yScale: yScale,\n    bars: bars\n  };\n};\nvar generateStackedBars = function generateStackedBars(options) {\n  return options.layout === 'vertical' ? generateVerticalStackedBars(options) : generateHorizontalStackedBars(options);\n};\n\nvar getLegendDataForKeys = function getLegendDataForKeys(bars, layout, direction, groupMode, reverse) {\n  var data = _uniqBy(bars.map(function (bar) {\n    return {\n      id: bar.data.id,\n      label: bar.data.id,\n      color: bar.color,\n      fill: bar.data.fill\n    };\n  }), function (_ref) {\n    var id = _ref.id;\n    return id;\n  });\n  if (layout === 'vertical' && groupMode === 'stacked' && direction === 'column' && reverse !== true || layout === 'horizontal' && groupMode === 'stacked' && reverse === true) {\n    data.reverse();\n  }\n  return data;\n};\nvar getLegendDataForIndexes = function getLegendDataForIndexes(bars) {\n  return _uniqBy(bars.map(function (bar) {\n    return {\n      id: bar.data.indexValue,\n      label: bar.data.indexValue,\n      color: bar.color,\n      fill: bar.data.fill\n    };\n  }), function (_ref2) {\n    var id = _ref2.id;\n    return id;\n  });\n};\nvar getLegendData = function getLegendData(_ref3) {\n  var from = _ref3.from,\n      bars = _ref3.bars,\n      layout = _ref3.layout,\n      direction = _ref3.direction,\n      groupMode = _ref3.groupMode,\n      reverse = _ref3.reverse;\n  if (from === 'indexes') {\n    return getLegendDataForIndexes(bars);\n  }\n  return getLegendDataForKeys(bars, layout, direction, groupMode, reverse);\n};\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(Object(source)); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar BarItem = function BarItem(_ref) {\n  var data = _ref.data,\n      x = _ref.x,\n      y = _ref.y,\n      width = _ref.width,\n      height = _ref.height,\n      borderRadius = _ref.borderRadius,\n      color = _ref.color,\n      borderWidth = _ref.borderWidth,\n      borderColor = _ref.borderColor,\n      label = _ref.label,\n      shouldRenderLabel = _ref.shouldRenderLabel,\n      labelColor = _ref.labelColor,\n      showTooltip = _ref.showTooltip,\n      hideTooltip = _ref.hideTooltip,\n      onClick = _ref.onClick,\n      onMouseEnter = _ref.onMouseEnter,\n      onMouseLeave = _ref.onMouseLeave,\n      tooltip = _ref.tooltip,\n      theme = _ref.theme;\n  var handleTooltip = function handleTooltip(e) {\n    return showTooltip(tooltip, e);\n  };\n  var handleMouseEnter = function handleMouseEnter(e) {\n    onMouseEnter(data, e);\n    showTooltip(tooltip, e);\n  };\n  var handleMouseLeave = function handleMouseLeave(e) {\n    onMouseLeave(data, e);\n    hideTooltip(e);\n  };\n  return React.createElement(\"g\", {\n    transform: \"translate(\".concat(x, \", \").concat(y, \")\")\n  }, React.createElement(\"rect\", {\n    width: width,\n    height: height,\n    rx: borderRadius,\n    ry: borderRadius,\n    fill: data.fill ? data.fill : color,\n    strokeWidth: borderWidth,\n    stroke: borderColor,\n    onMouseEnter: handleMouseEnter,\n    onMouseMove: handleTooltip,\n    onMouseLeave: handleMouseLeave,\n    onClick: onClick\n  }), shouldRenderLabel && React.createElement(\"text\", {\n    x: width / 2,\n    y: height / 2,\n    textAnchor: \"middle\",\n    dominantBaseline: \"central\",\n    style: _objectSpread({}, theme.labels.text, {\n      pointerEvents: 'none',\n      fill: labelColor\n    })\n  }, label));\n};\nBarItem.propTypes = {\n  data: PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    value: PropTypes.number.isRequired,\n    indexValue: PropTypes.string.isRequired,\n    fill: PropTypes.string\n  }).isRequired,\n  x: PropTypes.number.isRequired,\n  y: PropTypes.number.isRequired,\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired,\n  color: PropTypes.string.isRequired,\n  borderRadius: PropTypes.number.isRequired,\n  borderWidth: PropTypes.number.isRequired,\n  borderColor: PropTypes.string.isRequired,\n  label: PropTypes.node.isRequired,\n  shouldRenderLabel: PropTypes.bool.isRequired,\n  labelColor: PropTypes.string.isRequired,\n  showTooltip: PropTypes.func.isRequired,\n  hideTooltip: PropTypes.func.isRequired,\n  getTooltipLabel: PropTypes.func.isRequired,\n  tooltipFormat: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  onClick: PropTypes.func,\n  onMouseEnter: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  tooltip: PropTypes.element.isRequired,\n  theme: PropTypes.shape({\n    tooltip: PropTypes.shape({}).isRequired,\n    labels: PropTypes.shape({\n      text: PropTypes.object.isRequired\n    }).isRequired\n  }).isRequired\n};\nvar enhance = compose(withPropsOnChange(['data', 'color', 'onClick'], function (_ref2) {\n  var data = _ref2.data,\n      color = _ref2.color,\n      _onClick = _ref2.onClick;\n  return {\n    onClick: function onClick(event) {\n      return _onClick(_objectSpread({\n        color: color\n      }, data), event);\n    }\n  };\n}), withPropsOnChange(['data', 'color', 'theme', 'tooltip', 'getTooltipLabel', 'tooltipFormat'], function (_ref3) {\n  var data = _ref3.data,\n      color = _ref3.color,\n      theme = _ref3.theme,\n      tooltip = _ref3.tooltip,\n      getTooltipLabel = _ref3.getTooltipLabel,\n      tooltipFormat = _ref3.tooltipFormat;\n  return {\n    tooltip: React.createElement(BasicTooltip, {\n      id: getTooltipLabel(data),\n      value: data.value,\n      enableChip: true,\n      color: color,\n      theme: theme,\n      format: tooltipFormat,\n      renderContent: typeof tooltip === 'function' ? tooltip.bind(null, _objectSpread({\n        color: color,\n        theme: theme\n      }, data)) : null\n    })\n  };\n}), pure);\nvar BarItem$1 = enhance(BarItem);\n\nfunction _objectSpread$1(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(Object(source)); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$1(target, key, source[key]); }); } return target; }\nfunction _defineProperty$1(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar BarPropTypes = _objectSpread$1({\n  data: PropTypes.arrayOf(PropTypes.object).isRequired,\n  indexBy: PropTypes.oneOfType([PropTypes.string, PropTypes.func]).isRequired,\n  getIndex: PropTypes.func.isRequired,\n  keys: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.number])).isRequired,\n  layers: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.oneOf(['grid', 'axes', 'bars', 'markers', 'legends', 'annotations']), PropTypes.func])).isRequired,\n  groupMode: PropTypes.oneOf(['stacked', 'grouped']).isRequired,\n  layout: PropTypes.oneOf(['horizontal', 'vertical']).isRequired,\n  reverse: PropTypes.bool.isRequired,\n  minValue: PropTypes.oneOfType([PropTypes.number, PropTypes.oneOf(['auto'])]).isRequired,\n  maxValue: PropTypes.oneOfType([PropTypes.number, PropTypes.oneOf(['auto'])]).isRequired,\n  padding: PropTypes.number.isRequired,\n  innerPadding: PropTypes.number.isRequired,\n  axisTop: axisPropType,\n  axisRight: axisPropType,\n  axisBottom: axisPropType,\n  axisLeft: axisPropType,\n  enableGridX: PropTypes.bool.isRequired,\n  enableGridY: PropTypes.bool.isRequired,\n  gridXValues: PropTypes.oneOfType([PropTypes.number, PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.number, PropTypes.string]))]),\n  gridYValues: PropTypes.oneOfType([PropTypes.number, PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.number, PropTypes.string]))]),\n  barComponent: PropTypes.func.isRequired,\n  enableLabel: PropTypes.bool.isRequired,\n  label: PropTypes.oneOfType([PropTypes.string, PropTypes.func]).isRequired,\n  labelFormat: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  getLabel: PropTypes.func.isRequired,\n  labelSkipWidth: PropTypes.number.isRequired,\n  labelSkipHeight: PropTypes.number.isRequired,\n  labelTextColor: inheritedColorPropType.isRequired,\n  getLabelTextColor: PropTypes.func.isRequired,\n  labelLinkColor: inheritedColorPropType.isRequired,\n  getLabelLinkColor: PropTypes.func.isRequired,\n  colors: ordinalColorsPropType.isRequired,\n  colorBy: colorPropertyAccessorPropType.isRequired,\n  borderRadius: PropTypes.number.isRequired,\n  getColor: PropTypes.func.isRequired\n}, defsPropTypes, {\n  borderWidth: PropTypes.number.isRequired,\n  borderColor: inheritedColorPropType.isRequired,\n  getBorderColor: PropTypes.func.isRequired,\n  isInteractive: PropTypes.bool,\n  onClick: PropTypes.func.isRequired,\n  onMouseEnter: PropTypes.func.isRequired,\n  onMouseLeave: PropTypes.func.isRequired,\n  tooltipLabel: PropTypes.func,\n  getTooltipLabel: PropTypes.func.isRequired,\n  tooltipFormat: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  tooltip: PropTypes.func,\n  legends: PropTypes.arrayOf(PropTypes.shape(_objectSpread$1({\n    dataFrom: PropTypes.oneOf(['indexes', 'keys']).isRequired\n  }, LegendPropShape))).isRequired,\n  pixelRatio: PropTypes.number.isRequired\n});\nvar BarDefaultProps = {\n  indexBy: 'id',\n  keys: ['value'],\n  layers: ['grid', 'axes', 'bars', 'markers', 'legends', 'annotations'],\n  groupMode: 'stacked',\n  layout: 'vertical',\n  reverse: false,\n  minValue: 'auto',\n  maxValue: 'auto',\n  padding: 0.1,\n  innerPadding: 0,\n  axisBottom: {},\n  axisLeft: {},\n  enableGridX: false,\n  enableGridY: true,\n  barComponent: BarItem$1,\n  enableLabel: true,\n  label: 'value',\n  labelSkipWidth: 0,\n  labelSkipHeight: 0,\n  labelLinkColor: 'theme',\n  labelTextColor: 'theme',\n  colors: {\n    scheme: 'nivo'\n  },\n  colorBy: 'id',\n  defs: [],\n  fill: [],\n  borderRadius: 0,\n  borderWidth: 0,\n  borderColor: {\n    from: 'color'\n  },\n  isInteractive: true,\n  onClick: noop,\n  onMouseEnter: noop,\n  onMouseLeave: noop,\n  legends: [],\n  annotations: [],\n  pixelRatio: global.window && global.window.devicePixelRatio ? global.window.devicePixelRatio : 1\n};\n\nvar enhance$1 = (function (Component) {\n  return compose(defaultProps(BarDefaultProps), withTheme(), withDimensions(), withMotion(), withPropsOnChange(['colors', 'colorBy'], function (_ref) {\n    var colors = _ref.colors,\n        colorBy = _ref.colorBy;\n    return {\n      getColor: getOrdinalColorScale(colors, colorBy)\n    };\n  }), withPropsOnChange(['indexBy'], function (_ref2) {\n    var indexBy = _ref2.indexBy;\n    return {\n      getIndex: getAccessorFor(indexBy)\n    };\n  }), withPropsOnChange(['labelTextColor', 'theme'], function (_ref3) {\n    var labelTextColor = _ref3.labelTextColor,\n        theme = _ref3.theme;\n    return {\n      getLabelTextColor: getInheritedColorGenerator(labelTextColor, theme)\n    };\n  }), withPropsOnChange(['labelLinkColor', 'theme'], function (_ref4) {\n    var labelLinkColor = _ref4.labelLinkColor,\n        theme = _ref4.theme;\n    return {\n      getLabelLinkColor: getInheritedColorGenerator(labelLinkColor, theme)\n    };\n  }), withPropsOnChange(['label', 'labelFormat'], function (_ref5) {\n    var label = _ref5.label,\n        labelFormat = _ref5.labelFormat;\n    return {\n      getLabel: getLabelGenerator(label, labelFormat)\n    };\n  }), withPropsOnChange(['borderColor', 'theme'], function (_ref6) {\n    var borderColor = _ref6.borderColor,\n        theme = _ref6.theme;\n    return {\n      getBorderColor: getInheritedColorGenerator(borderColor, theme)\n    };\n  }), withPropsOnChange(['tooltipLabel'], function (_ref7) {\n    var tooltipLabel = _ref7.tooltipLabel;\n    var getTooltipLabel = function getTooltipLabel(d) {\n      return \"\".concat(d.id, \" - \").concat(d.indexValue);\n    };\n    if (typeof tooltipLabel === 'function') {\n      getTooltipLabel = tooltipLabel;\n    }\n    return {\n      getTooltipLabel: getTooltipLabel\n    };\n  }), pure)(Component);\n});\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nvar BarAnnotations = function BarAnnotations(_ref) {\n  var bars = _ref.bars,\n      annotations = _ref.annotations,\n      animate = _ref.animate,\n      motionStiffness = _ref.motionStiffness,\n      motionDamping = _ref.motionDamping;\n  var boundAnnotations = useAnnotations({\n    items: bars,\n    annotations: annotations,\n    getPosition: function getPosition(bar) {\n      return {\n        x: bar.x + bar.width / 2,\n        y: bar.y + bar.height / 2\n      };\n    },\n    getDimensions: function getDimensions(bar, offset) {\n      var width = bar.width + offset * 2;\n      var height = bar.height + offset * 2;\n      return {\n        width: width,\n        height: height,\n        size: Math.max(width, height)\n      };\n    }\n  });\n  return boundAnnotations.map(function (annotation, i) {\n    return React.createElement(Annotation, _extends({\n      key: i\n    }, annotation, {\n      containerWidth: innerWidth,\n      containerHeight: innerHeight,\n      animate: animate,\n      motionStiffness: motionStiffness,\n      motionDamping: motionDamping\n    }));\n  });\n};\nBarAnnotations.propTypes = {};\n\nfunction _extends$1() { _extends$1 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$1.apply(this, arguments); }\nfunction _objectSpread$2(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(Object(source)); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$2(target, key, source[key]); }); } return target; }\nfunction _defineProperty$2(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar barWillEnterHorizontal = function barWillEnterHorizontal(_ref) {\n  var style = _ref.style;\n  return {\n    x: style.x.val,\n    y: style.y.val,\n    width: 0,\n    height: style.height.val\n  };\n};\nvar barWillEnterVertical = function barWillEnterVertical(_ref2) {\n  var style = _ref2.style;\n  return {\n    x: style.x.val,\n    y: style.y.val + style.height.val,\n    width: style.width.val,\n    height: 0\n  };\n};\nvar barWillLeaveHorizontal = function barWillLeaveHorizontal(springConfig) {\n  return function (_ref3) {\n    var style = _ref3.style;\n    return {\n      x: style.x,\n      y: style.y,\n      width: spring(0, springConfig),\n      height: style.height\n    };\n  };\n};\nvar barWillLeaveVertical = function barWillLeaveVertical(springConfig) {\n  return function (_ref4) {\n    var style = _ref4.style;\n    return {\n      x: style.x,\n      y: spring(style.y.val + style.height.val, springConfig),\n      width: style.width,\n      height: spring(0, springConfig)\n    };\n  };\n};\nvar Bar = function Bar(props) {\n  var data = props.data,\n      getIndex = props.getIndex,\n      keys = props.keys,\n      groupMode = props.groupMode,\n      layout = props.layout,\n      reverse = props.reverse,\n      minValue = props.minValue,\n      maxValue = props.maxValue,\n      margin = props.margin,\n      width = props.width,\n      height = props.height,\n      outerWidth = props.outerWidth,\n      outerHeight = props.outerHeight,\n      padding = props.padding,\n      innerPadding = props.innerPadding,\n      axisTop = props.axisTop,\n      axisRight = props.axisRight,\n      axisBottom = props.axisBottom,\n      axisLeft = props.axisLeft,\n      enableGridX = props.enableGridX,\n      enableGridY = props.enableGridY,\n      gridXValues = props.gridXValues,\n      gridYValues = props.gridYValues,\n      layers = props.layers,\n      barComponent = props.barComponent,\n      enableLabel = props.enableLabel,\n      getLabel = props.getLabel,\n      labelSkipWidth = props.labelSkipWidth,\n      labelSkipHeight = props.labelSkipHeight,\n      getLabelTextColor = props.getLabelTextColor,\n      markers = props.markers,\n      theme = props.theme,\n      getColor = props.getColor,\n      defs = props.defs,\n      fill = props.fill,\n      borderRadius = props.borderRadius,\n      borderWidth = props.borderWidth,\n      getBorderColor = props.getBorderColor,\n      annotations = props.annotations,\n      isInteractive = props.isInteractive,\n      getTooltipLabel = props.getTooltipLabel,\n      tooltipFormat = props.tooltipFormat,\n      tooltip = props.tooltip,\n      onClick = props.onClick,\n      onMouseEnter = props.onMouseEnter,\n      onMouseLeave = props.onMouseLeave,\n      legends = props.legends,\n      animate = props.animate,\n      motionStiffness = props.motionStiffness,\n      motionDamping = props.motionDamping;\n  var options = {\n    layout: layout,\n    reverse: reverse,\n    data: data,\n    getIndex: getIndex,\n    keys: keys,\n    minValue: minValue,\n    maxValue: maxValue,\n    width: width,\n    height: height,\n    getColor: getColor,\n    padding: padding,\n    innerPadding: innerPadding\n  };\n  var result = groupMode === 'grouped' ? generateGroupedBars(options) : generateStackedBars(options);\n  var motionProps = {\n    animate: animate,\n    motionDamping: motionDamping,\n    motionStiffness: motionStiffness\n  };\n  var springConfig = {\n    damping: motionDamping,\n    stiffness: motionStiffness\n  };\n  var willEnter = layout === 'vertical' ? barWillEnterVertical : barWillEnterHorizontal;\n  var willLeave = layout === 'vertical' ? barWillLeaveVertical(springConfig) : barWillLeaveHorizontal(springConfig);\n  var shouldRenderLabel = function shouldRenderLabel(_ref5) {\n    var width = _ref5.width,\n        height = _ref5.height;\n    if (!enableLabel) return false;\n    if (labelSkipWidth > 0 && width < labelSkipWidth) return false;\n    if (labelSkipHeight > 0 && height < labelSkipHeight) return false;\n    return true;\n  };\n  var boundDefs = bindDefs(defs, result.bars, fill, {\n    dataKey: 'data',\n    targetKey: 'data.fill'\n  });\n  return React.createElement(Container, {\n    isInteractive: isInteractive,\n    theme: theme,\n    animate: animate,\n    motionStiffness: motionStiffness,\n    motionDamping: motionDamping\n  }, function (_ref6) {\n    var showTooltip = _ref6.showTooltip,\n        hideTooltip = _ref6.hideTooltip;\n    var commonProps = {\n      borderRadius: borderRadius,\n      borderWidth: borderWidth,\n      enableLabel: enableLabel,\n      labelSkipWidth: labelSkipWidth,\n      labelSkipHeight: labelSkipHeight,\n      showTooltip: showTooltip,\n      hideTooltip: hideTooltip,\n      onClick: onClick,\n      onMouseEnter: onMouseEnter,\n      onMouseLeave: onMouseLeave,\n      theme: theme,\n      getTooltipLabel: getTooltipLabel,\n      tooltipFormat: tooltipFormat,\n      tooltip: tooltip\n    };\n    var bars;\n    if (animate === true) {\n      bars = React.createElement(TransitionMotion, {\n        key: \"bars\",\n        willEnter: willEnter,\n        willLeave: willLeave,\n        styles: result.bars.map(function (bar) {\n          return {\n            key: bar.key,\n            data: bar,\n            style: {\n              x: spring(bar.x, springConfig),\n              y: spring(bar.y, springConfig),\n              width: spring(bar.width, springConfig),\n              height: spring(bar.height, springConfig)\n            }\n          };\n        })\n      }, function (interpolatedStyles) {\n        return React.createElement(\"g\", null, interpolatedStyles.map(function (_ref7) {\n          var key = _ref7.key,\n              style = _ref7.style,\n              bar = _ref7.data;\n          var baseProps = _objectSpread$2({}, bar, style);\n          return React.createElement(barComponent, _objectSpread$2({\n            key: key\n          }, baseProps, commonProps, {\n            shouldRenderLabel: shouldRenderLabel(baseProps),\n            width: Math.max(style.width, 0),\n            height: Math.max(style.height, 0),\n            label: getLabel(bar.data),\n            labelColor: getLabelTextColor(baseProps, theme),\n            borderColor: getBorderColor(baseProps),\n            theme: theme\n          }));\n        }));\n      });\n    } else {\n      bars = result.bars.map(function (d) {\n        return React.createElement(barComponent, _objectSpread$2({\n          key: d.key\n        }, d, commonProps, {\n          label: getLabel(d.data),\n          shouldRenderLabel: shouldRenderLabel(d),\n          labelColor: getLabelTextColor(d, theme),\n          borderColor: getBorderColor(d),\n          theme: theme\n        }));\n      });\n    }\n    var layerById = {\n      grid: React.createElement(Grid, {\n        key: \"grid\",\n        width: width,\n        height: height,\n        xScale: enableGridX ? result.xScale : null,\n        yScale: enableGridY ? result.yScale : null,\n        xValues: gridXValues,\n        yValues: gridYValues\n      }),\n      axes: React.createElement(Axes, {\n        key: \"axes\",\n        xScale: result.xScale,\n        yScale: result.yScale,\n        width: width,\n        height: height,\n        top: axisTop,\n        right: axisRight,\n        bottom: axisBottom,\n        left: axisLeft\n      }),\n      bars: bars,\n      markers: React.createElement(CartesianMarkers, {\n        key: \"markers\",\n        markers: markers,\n        width: width,\n        height: height,\n        xScale: result.xScale,\n        yScale: result.yScale,\n        theme: theme\n      }),\n      legends: legends.map(function (legend, i) {\n        var legendData = getLegendData({\n          from: legend.dataFrom,\n          bars: result.bars,\n          layout: layout,\n          direction: legend.direction,\n          groupMode: groupMode,\n          reverse: reverse\n        });\n        if (legendData === undefined) return null;\n        return React.createElement(BoxLegendSvg, _extends$1({\n          key: i\n        }, legend, {\n          containerWidth: width,\n          containerHeight: height,\n          data: legendData,\n          theme: theme\n        }));\n      }),\n      annotations: React.createElement(BarAnnotations, _extends$1({\n        key: \"annotations\",\n        innerWidth: width,\n        innerHeight: height,\n        bars: result.bars,\n        annotations: annotations\n      }, motionProps))\n    };\n    return React.createElement(SvgWrapper, {\n      width: outerWidth,\n      height: outerHeight,\n      margin: margin,\n      defs: boundDefs,\n      theme: theme\n    }, layers.map(function (layer, i) {\n      if (typeof layer === 'function') {\n        return React.createElement(Fragment, {\n          key: i\n        }, layer(_objectSpread$2({}, props, result, {\n          showTooltip: showTooltip,\n          hideTooltip: hideTooltip\n        })));\n      }\n      return layerById[layer];\n    }));\n  });\n};\nBar.propTypes = BarPropTypes;\nvar Bar$1 = setDisplayName('Bar')(enhance$1(Bar));\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\nfunction _objectSpread$3(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(Object(source)); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$3(target, key, source[key]); }); } return target; }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _defineProperty$3(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar findNodeUnderCursor = function findNodeUnderCursor(nodes, margin, x, y) {\n  return nodes.find(function (node) {\n    return isCursorInRect(node.x + margin.left, node.y + margin.top, node.width, node.height, x, y);\n  });\n};\nvar BarCanvas =\nfunction (_Component) {\n  _inherits(BarCanvas, _Component);\n  function BarCanvas() {\n    var _getPrototypeOf2;\n    var _this;\n    _classCallCheck(this, BarCanvas);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(BarCanvas)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _defineProperty$3(_assertThisInitialized(_this), \"handleMouseHover\", function (showTooltip, hideTooltip) {\n      return function (event) {\n        if (!_this.bars) return;\n        var _this$props = _this.props,\n            margin = _this$props.margin,\n            theme = _this$props.theme,\n            tooltip = _this$props.tooltip,\n            getTooltipLabel = _this$props.getTooltipLabel,\n            tooltipFormat = _this$props.tooltipFormat;\n        var _getRelativeCursor = getRelativeCursor(_this.surface, event),\n            _getRelativeCursor2 = _slicedToArray(_getRelativeCursor, 2),\n            x = _getRelativeCursor2[0],\n            y = _getRelativeCursor2[1];\n        var bar = findNodeUnderCursor(_this.bars, margin, x, y);\n        if (bar !== undefined) {\n          showTooltip(React.createElement(BasicTooltip, {\n            id: getTooltipLabel(bar.data),\n            value: bar.data.value,\n            enableChip: true,\n            color: bar.color,\n            theme: theme,\n            format: tooltipFormat,\n            renderContent: typeof tooltip === 'function' ? tooltip.bind(null, _objectSpread$3({\n              color: bar.color\n            }, bar.data)) : null\n          }), event);\n        } else {\n          hideTooltip();\n        }\n      };\n    });\n    _defineProperty$3(_assertThisInitialized(_this), \"handleMouseLeave\", function (hideTooltip) {\n      return function () {\n        hideTooltip();\n      };\n    });\n    _defineProperty$3(_assertThisInitialized(_this), \"handleClick\", function (event) {\n      if (!_this.bars) return;\n      var _this$props2 = _this.props,\n          margin = _this$props2.margin,\n          onClick = _this$props2.onClick;\n      var _getRelativeCursor3 = getRelativeCursor(_this.surface, event),\n          _getRelativeCursor4 = _slicedToArray(_getRelativeCursor3, 2),\n          x = _getRelativeCursor4[0],\n          y = _getRelativeCursor4[1];\n      var node = findNodeUnderCursor(_this.bars, margin, x, y);\n      if (node !== undefined) onClick(node.data, event);\n    });\n    return _this;\n  }\n  _createClass(BarCanvas, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.ctx = this.surface.getContext('2d');\n      this.draw(this.props);\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(props) {\n      if (this.props.outerWidth !== props.outerWidth || this.props.outerHeight !== props.outerHeight || this.props.isInteractive !== props.isInteractive || this.props.theme !== props.theme) {\n        return true;\n      } else {\n        this.draw(props);\n        return false;\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.ctx = this.surface.getContext('2d');\n      this.draw(this.props);\n    }\n  }, {\n    key: \"draw\",\n    value: function draw(props) {\n      var _this2 = this;\n      var data = props.data,\n          keys = props.keys,\n          getIndex = props.getIndex,\n          minValue = props.minValue,\n          maxValue = props.maxValue,\n          width = props.width,\n          height = props.height,\n          outerWidth = props.outerWidth,\n          outerHeight = props.outerHeight,\n          pixelRatio = props.pixelRatio,\n          margin = props.margin,\n          layout = props.layout,\n          reverse = props.reverse,\n          groupMode = props.groupMode,\n          padding = props.padding,\n          innerPadding = props.innerPadding,\n          axisTop = props.axisTop,\n          axisRight = props.axisRight,\n          axisBottom = props.axisBottom,\n          axisLeft = props.axisLeft,\n          theme = props.theme,\n          getColor = props.getColor,\n          borderWidth = props.borderWidth,\n          getBorderColor = props.getBorderColor,\n          legends = props.legends,\n          enableGridX = props.enableGridX,\n          gridXValues = props.gridXValues,\n          enableGridY = props.enableGridY,\n          gridYValues = props.gridYValues;\n      this.surface.width = outerWidth * pixelRatio;\n      this.surface.height = outerHeight * pixelRatio;\n      this.ctx.scale(pixelRatio, pixelRatio);\n      var options = {\n        layout: layout,\n        reverse: reverse,\n        data: data,\n        getIndex: getIndex,\n        keys: keys,\n        minValue: minValue,\n        maxValue: maxValue,\n        width: width,\n        height: height,\n        getColor: getColor,\n        padding: padding,\n        innerPadding: innerPadding\n      };\n      var result = groupMode === 'grouped' ? generateGroupedBars(options) : generateStackedBars(options);\n      this.bars = result.bars;\n      this.ctx.fillStyle = theme.background;\n      this.ctx.fillRect(0, 0, outerWidth, outerHeight);\n      this.ctx.translate(margin.left, margin.top);\n      if (theme.grid.line.strokeWidth > 0) {\n        this.ctx.lineWidth = theme.grid.line.strokeWidth;\n        this.ctx.strokeStyle = theme.grid.line.stroke;\n        enableGridX && renderGridLinesToCanvas(this.ctx, {\n          width: width,\n          height: height,\n          scale: result.xScale,\n          axis: 'x',\n          values: gridXValues\n        });\n        enableGridY && renderGridLinesToCanvas(this.ctx, {\n          width: width,\n          height: height,\n          scale: result.yScale,\n          axis: 'y',\n          values: gridYValues\n        });\n      }\n      this.ctx.strokeStyle = '#dddddd';\n      var legendDataForKeys = _uniqBy(result.bars.map(function (bar) {\n        return {\n          id: bar.data.id,\n          label: bar.data.id,\n          color: bar.color,\n          fill: bar.data.fill\n        };\n      }).reverse(), function (_ref) {\n        var id = _ref.id;\n        return id;\n      });\n      var legendDataForIndexes = _uniqBy(result.bars.map(function (bar) {\n        return {\n          id: bar.data.indexValue,\n          label: bar.data.indexValue,\n          color: bar.color,\n          fill: bar.data.fill\n        };\n      }), function (_ref2) {\n        var id = _ref2.id;\n        return id;\n      });\n      legends.forEach(function (legend) {\n        var legendData;\n        if (legend.dataFrom === 'keys') {\n          legendData = legendDataForKeys;\n        } else if (legend.dataFrom === 'indexes') {\n          legendData = legendDataForIndexes;\n        }\n        if (legendData === undefined) return null;\n        renderLegendToCanvas(_this2.ctx, _objectSpread$3({}, legend, {\n          data: legendData,\n          containerWidth: width,\n          containerHeight: height,\n          itemTextColor: '#999',\n          symbolSize: 16,\n          theme: theme\n        }));\n      });\n      renderAxesToCanvas(this.ctx, {\n        xScale: result.xScale,\n        yScale: result.yScale,\n        width: width,\n        height: height,\n        top: axisTop,\n        right: axisRight,\n        bottom: axisBottom,\n        left: axisLeft,\n        theme: theme\n      });\n      result.bars.forEach(function (bar) {\n        var x = bar.x,\n            y = bar.y,\n            color = bar.color,\n            width = bar.width,\n            height = bar.height;\n        _this2.ctx.fillStyle = color;\n        if (borderWidth > 0) {\n          _this2.ctx.strokeStyle = getBorderColor(bar);\n          _this2.ctx.lineWidth = borderWidth;\n        }\n        _this2.ctx.beginPath();\n        _this2.ctx.rect(x, y, width, height);\n        _this2.ctx.fill();\n        if (borderWidth > 0) {\n          _this2.ctx.stroke();\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n      var _this$props3 = this.props,\n          outerWidth = _this$props3.outerWidth,\n          outerHeight = _this$props3.outerHeight,\n          pixelRatio = _this$props3.pixelRatio,\n          isInteractive = _this$props3.isInteractive,\n          theme = _this$props3.theme;\n      return React.createElement(Container, {\n        isInteractive: isInteractive,\n        theme: theme,\n        animate: false\n      }, function (_ref3) {\n        var showTooltip = _ref3.showTooltip,\n            hideTooltip = _ref3.hideTooltip;\n        return React.createElement(\"canvas\", {\n          ref: function ref(surface) {\n            _this3.surface = surface;\n          },\n          width: outerWidth * pixelRatio,\n          height: outerHeight * pixelRatio,\n          style: {\n            width: outerWidth,\n            height: outerHeight\n          },\n          onMouseEnter: _this3.handleMouseHover(showTooltip, hideTooltip),\n          onMouseMove: _this3.handleMouseHover(showTooltip, hideTooltip),\n          onMouseLeave: _this3.handleMouseLeave(hideTooltip),\n          onClick: _this3.handleClick\n        });\n      });\n    }\n  }]);\n  return BarCanvas;\n}(Component);\nBarCanvas.propTypes = BarPropTypes;\nvar BarCanvas$1 = setDisplayName('BarCanvas')(enhance$1(BarCanvas));\n\nfunction _extends$2() { _extends$2 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$2.apply(this, arguments); }\nvar ResponsiveBar = function ResponsiveBar(props) {\n  return React.createElement(ResponsiveWrapper, null, function (_ref) {\n    var width = _ref.width,\n        height = _ref.height;\n    return React.createElement(Bar$1, _extends$2({\n      width: width,\n      height: height\n    }, props));\n  });\n};\n\nfunction _extends$3() { _extends$3 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$3.apply(this, arguments); }\nvar ResponsiveBarCanvas = function ResponsiveBarCanvas(props) {\n  return React.createElement(ResponsiveWrapper, null, function (_ref) {\n    var width = _ref.width,\n        height = _ref.height;\n    return React.createElement(BarCanvas$1, _extends$3({\n      width: width,\n      height: height\n    }, props));\n  });\n};\n\nexport { Bar$1 as Bar, BarCanvas$1 as BarCanvas, BarDefaultProps, BarPropTypes, ResponsiveBar, ResponsiveBarCanvas };\n","import React, { memo, useMemo, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Motion, spring, TransitionMotion } from 'react-motion';\nimport { textPropsByEngine, useTheme, useMotionConfig } from '@nivo/core';\nimport isNumber from 'lodash/isNumber';\nimport { timeMillisecond, utcMillisecond, timeSecond, utcSecond, timeMinute, utcMinute, timeHour, utcHour, timeDay, utcDay, timeWeek, utcWeek, timeSunday, utcSunday, timeMonday, utcMonday, timeTuesday, utcTuesday, timeWednesday, utcWednesday, timeThursday, utcThursday, timeFriday, utcFriday, timeSaturday, utcSaturday, timeMonth, utcMonth, timeYear, utcYear } from 'd3-time';\nimport { timeFormat } from 'd3-time-format';\nimport { format } from 'd3-format';\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(Object(source)); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar centerScale = function centerScale(scale) {\n  var bandwidth = scale.bandwidth();\n  if (bandwidth === 0) return scale;\n  var offset = bandwidth / 2;\n  if (scale.round()) {\n    offset = Math.round(offset);\n  }\n  return function (d) {\n    return scale(d) + offset;\n  };\n};\nvar timeByType = {\n  millisecond: [timeMillisecond, utcMillisecond],\n  second: [timeSecond, utcSecond],\n  minute: [timeMinute, utcMinute],\n  hour: [timeHour, utcHour],\n  day: [timeDay, utcDay],\n  week: [timeWeek, utcWeek],\n  sunday: [timeSunday, utcSunday],\n  monday: [timeMonday, utcMonday],\n  tuesday: [timeTuesday, utcTuesday],\n  wednesday: [timeWednesday, utcWednesday],\n  thursday: [timeThursday, utcThursday],\n  friday: [timeFriday, utcFriday],\n  saturday: [timeSaturday, utcSaturday],\n  month: [timeMonth, utcMonth],\n  year: [timeYear, utcYear]\n};\nvar timeTypes = Object.keys(timeByType);\nvar timeIntervalRegexp = new RegExp(\"^every\\\\s*(\\\\d+)?\\\\s*(\".concat(timeTypes.join('|'), \")s?$\"), 'i');\nvar getScaleTicks = function getScaleTicks(scale, spec) {\n  if (Array.isArray(spec)) {\n    return spec;\n  }\n  if (scale.ticks) {\n    if (spec === undefined) {\n      return scale.ticks();\n    }\n    if (isNumber(spec)) {\n      return scale.ticks(spec);\n    }\n    if (typeof spec === 'string') {\n      var matches = spec.match(timeIntervalRegexp);\n      if (matches) {\n        var timeType = timeByType[matches[2]][scale.useUTC ? 1 : 0];\n        if (matches[1] === undefined) {\n          return scale.ticks(timeType);\n        }\n        return scale.ticks(timeType.every(Number(matches[1])));\n      }\n      throw new Error(\"Invalid tickValues: \".concat(spec));\n    }\n  }\n  return scale.domain();\n};\nvar computeCartesianTicks = function computeCartesianTicks(_ref) {\n  var axis = _ref.axis,\n      scale = _ref.scale,\n      ticksPosition = _ref.ticksPosition,\n      tickValues = _ref.tickValues,\n      tickSize = _ref.tickSize,\n      tickPadding = _ref.tickPadding,\n      tickRotation = _ref.tickRotation,\n      _ref$engine = _ref.engine,\n      engine = _ref$engine === void 0 ? 'svg' : _ref$engine;\n  var values = getScaleTicks(scale, tickValues);\n  var textProps = textPropsByEngine[engine];\n  var position = scale.bandwidth ? centerScale(scale) : scale;\n  var line = {\n    lineX: 0,\n    lineY: 0\n  };\n  var text = {\n    textX: 0,\n    textY: 0\n  };\n  var translate;\n  var textAlign = textProps.align.center;\n  var textBaseline = textProps.baseline.center;\n  if (axis === 'x') {\n    translate = function translate(d) {\n      return {\n        x: position(d),\n        y: 0\n      };\n    };\n    line.lineY = tickSize * (ticksPosition === 'after' ? 1 : -1);\n    text.textY = (tickSize + tickPadding) * (ticksPosition === 'after' ? 1 : -1);\n    if (ticksPosition === 'after') {\n      textBaseline = textProps.baseline.top;\n    } else {\n      textBaseline = textProps.baseline.bottom;\n    }\n    if (tickRotation === 0) {\n      textAlign = textProps.align.center;\n    } else if (ticksPosition === 'after' && tickRotation < 0 || ticksPosition === 'before' && tickRotation > 0) {\n      textAlign = textProps.align.right;\n      textBaseline = textProps.baseline.center;\n    } else if (ticksPosition === 'after' && tickRotation > 0 || ticksPosition === 'before' && tickRotation < 0) {\n      textAlign = textProps.align.left;\n      textBaseline = textProps.baseline.center;\n    }\n  } else {\n    translate = function translate(d) {\n      return {\n        x: 0,\n        y: position(d)\n      };\n    };\n    line.lineX = tickSize * (ticksPosition === 'after' ? 1 : -1);\n    text.textX = (tickSize + tickPadding) * (ticksPosition === 'after' ? 1 : -1);\n    if (ticksPosition === 'after') {\n      textAlign = textProps.align.left;\n    } else {\n      textAlign = textProps.align.right;\n    }\n  }\n  var ticks = values.map(function (value) {\n    return _objectSpread({\n      key: value,\n      value: value\n    }, translate(value), line, text);\n  });\n  return {\n    ticks: ticks,\n    textAlign: textAlign,\n    textBaseline: textBaseline\n  };\n};\nvar getFormatter = function getFormatter(format$1, scale) {\n  if (!format$1 || typeof format$1 === 'function') return format$1;\n  if (scale.type === 'time') {\n    var f = timeFormat(format$1);\n    return function (d) {\n      return f(new Date(d));\n    };\n  }\n  return format(format$1);\n};\nvar computeGridLines = function computeGridLines(_ref2) {\n  var width = _ref2.width,\n      height = _ref2.height,\n      scale = _ref2.scale,\n      axis = _ref2.axis,\n      _values = _ref2.values;\n  var lineValues = Array.isArray(_values) ? _values : undefined;\n  var lineCount = isNumber(_values) ? _values : undefined;\n  var values = lineValues || getScaleTicks(scale, lineCount);\n  var position = scale.bandwidth ? centerScale(scale) : scale;\n  var lines;\n  if (axis === 'x') {\n    lines = values.map(function (v) {\n      return {\n        key: \"\".concat(v),\n        x1: position(v),\n        x2: position(v),\n        y1: 0,\n        y2: height\n      };\n    });\n  } else if (axis === 'y') {\n    lines = values.map(function (v) {\n      return {\n        key: \"\".concat(v),\n        x1: 0,\n        x2: width,\n        y1: position(v),\n        y2: position(v)\n      };\n    });\n  }\n  return lines;\n};\n\nvar axisPropTypes = {\n  ticksPosition: PropTypes.oneOf(['before', 'after']),\n  tickValues: PropTypes.oneOfType([PropTypes.number, PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)])), PropTypes.string]),\n  tickSize: PropTypes.number,\n  tickPadding: PropTypes.number,\n  tickRotation: PropTypes.number,\n  format: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  renderTick: PropTypes.func,\n  legend: PropTypes.node,\n  legendPosition: PropTypes.oneOf(['start', 'middle', 'end']),\n  legendOffset: PropTypes.number\n};\nvar axisPropType = PropTypes.shape(axisPropTypes);\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nvar AxisTick = function AxisTick(_ref) {\n  var _value = _ref.value,\n      x = _ref.x,\n      y = _ref.y,\n      opacity = _ref.opacity,\n      rotate = _ref.rotate,\n      format = _ref.format,\n      lineX = _ref.lineX,\n      lineY = _ref.lineY,\n      _onClick = _ref.onClick,\n      textX = _ref.textX,\n      textY = _ref.textY,\n      textBaseline = _ref.textBaseline,\n      textAnchor = _ref.textAnchor;\n  var theme = useTheme();\n  var value = _value;\n  if (format !== undefined) {\n    value = format(value);\n  }\n  var gStyle = {\n    opacity: opacity\n  };\n  if (_onClick) {\n    gStyle['cursor'] = 'pointer';\n  }\n  return React.createElement(\"g\", _extends({\n    transform: \"translate(\".concat(x, \",\").concat(y, \")\")\n  }, _onClick ? {\n    onClick: function onClick(e) {\n      return _onClick(e, value);\n    }\n  } : {}, {\n    style: gStyle\n  }), React.createElement(\"line\", {\n    x1: 0,\n    x2: lineX,\n    y1: 0,\n    y2: lineY,\n    style: theme.axis.ticks.line\n  }), React.createElement(\"text\", {\n    dominantBaseline: textBaseline,\n    textAnchor: textAnchor,\n    transform: \"translate(\".concat(textX, \",\").concat(textY, \") rotate(\").concat(rotate, \")\"),\n    style: theme.axis.ticks.text\n  }, value));\n};\nAxisTick.propTypes = {\n  value: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)]).isRequired,\n  format: PropTypes.func,\n  x: PropTypes.number.isRequired,\n  y: PropTypes.number.isRequired,\n  lineX: PropTypes.number.isRequired,\n  lineY: PropTypes.number.isRequired,\n  textX: PropTypes.number.isRequired,\n  textY: PropTypes.number.isRequired,\n  textBaseline: PropTypes.string.isRequired,\n  textAnchor: PropTypes.string.isRequired,\n  opacity: PropTypes.number.isRequired,\n  rotate: PropTypes.number.isRequired,\n  onClick: PropTypes.func\n};\nAxisTick.defaultProps = {\n  opacity: 1,\n  rotate: 0\n};\nvar AxisTick$1 = memo(AxisTick);\n\nfunction _extends$1() { _extends$1 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$1.apply(this, arguments); }\nfunction _objectSpread$1(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(Object(source)); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$1(target, key, source[key]); }); } return target; }\nfunction _defineProperty$1(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar willEnter = function willEnter() {\n  return {\n    rotate: 0,\n    opacity: 0,\n    x: 0,\n    y: 0\n  };\n};\nvar willLeave = function willLeave(springConfig) {\n  return function (_ref) {\n    var _ref$style = _ref.style,\n        x = _ref$style.x,\n        y = _ref$style.y,\n        rotate = _ref$style.rotate;\n    return {\n      rotate: rotate,\n      opacity: spring(0, springConfig),\n      x: spring(x.val, springConfig),\n      y: spring(y.val, springConfig)\n    };\n  };\n};\nvar defaultTickRenderer = function defaultTickRenderer(props) {\n  return React.createElement(AxisTick$1, props);\n};\nvar Axis = function Axis(_ref2) {\n  var axis = _ref2.axis,\n      scale = _ref2.scale,\n      x = _ref2.x,\n      y = _ref2.y,\n      length = _ref2.length,\n      ticksPosition = _ref2.ticksPosition,\n      tickValues = _ref2.tickValues,\n      tickSize = _ref2.tickSize,\n      tickPadding = _ref2.tickPadding,\n      tickRotation = _ref2.tickRotation,\n      format = _ref2.format,\n      renderTick = _ref2.renderTick,\n      legend = _ref2.legend,\n      legendPosition = _ref2.legendPosition,\n      legendOffset = _ref2.legendOffset,\n      onClick = _ref2.onClick;\n  var theme = useTheme();\n  var _useMotionConfig = useMotionConfig(),\n      animate = _useMotionConfig.animate,\n      springConfig = _useMotionConfig.springConfig;\n  var formatValue = useMemo(function () {\n    return getFormatter(format, scale);\n  }, [format, scale]);\n  var _computeCartesianTick = computeCartesianTicks({\n    axis: axis,\n    scale: scale,\n    ticksPosition: ticksPosition,\n    tickValues: tickValues,\n    tickSize: tickSize,\n    tickPadding: tickPadding,\n    tickRotation: tickRotation\n  }),\n      ticks = _computeCartesianTick.ticks,\n      textAlign = _computeCartesianTick.textAlign,\n      textBaseline = _computeCartesianTick.textBaseline;\n  var legendNode = null;\n  if (legend !== undefined) {\n    var legendX = 0;\n    var legendY = 0;\n    var legendRotation = 0;\n    var textAnchor;\n    if (axis === 'y') {\n      legendRotation = -90;\n      legendX = legendOffset;\n      if (legendPosition === 'start') {\n        textAnchor = 'start';\n        legendY = length;\n      } else if (legendPosition === 'middle') {\n        textAnchor = 'middle';\n        legendY = length / 2;\n      } else if (legendPosition === 'end') {\n        textAnchor = 'end';\n      }\n    } else {\n      legendY = legendOffset;\n      if (legendPosition === 'start') {\n        textAnchor = 'start';\n      } else if (legendPosition === 'middle') {\n        textAnchor = 'middle';\n        legendX = length / 2;\n      } else if (legendPosition === 'end') {\n        textAnchor = 'end';\n        legendX = length;\n      }\n    }\n    legendNode = React.createElement(\"text\", {\n      transform: \"translate(\".concat(legendX, \", \").concat(legendY, \") rotate(\").concat(legendRotation, \")\"),\n      textAnchor: textAnchor,\n      style: _objectSpread$1({\n        dominantBaseline: 'central'\n      }, theme.axis.legend.text)\n    }, legend);\n  }\n  if (animate !== true) {\n    return React.createElement(\"g\", {\n      transform: \"translate(\".concat(x, \",\").concat(y, \")\")\n    }, ticks.map(function (tick, tickIndex) {\n      return React.createElement(renderTick, _objectSpread$1({\n        tickIndex: tickIndex,\n        format: formatValue,\n        rotate: tickRotation,\n        textBaseline: textBaseline,\n        textAnchor: textAlign\n      }, tick, onClick ? {\n        onClick: onClick\n      } : {}));\n    }), React.createElement(\"line\", {\n      style: theme.axis.domain.line,\n      x1: 0,\n      x2: axis === 'x' ? length : 0,\n      y1: 0,\n      y2: axis === 'x' ? 0 : length\n    }), legendNode);\n  }\n  return React.createElement(Motion, {\n    style: {\n      x: spring(x, springConfig),\n      y: spring(y, springConfig)\n    }\n  }, function (xy) {\n    return React.createElement(\"g\", {\n      transform: \"translate(\".concat(xy.x, \",\").concat(xy.y, \")\")\n    }, React.createElement(TransitionMotion, {\n      willEnter: willEnter,\n      willLeave: willLeave(springConfig),\n      styles: ticks.map(function (tick) {\n        return {\n          key: \"\".concat(tick.key),\n          data: tick,\n          style: {\n            opacity: spring(1, springConfig),\n            x: spring(tick.x, springConfig),\n            y: spring(tick.y, springConfig),\n            rotate: spring(tickRotation, springConfig)\n          }\n        };\n      })\n    }, function (interpolatedStyles) {\n      return React.createElement(Fragment, null, interpolatedStyles.map(function (_ref3, tickIndex) {\n        var style = _ref3.style,\n            tick = _ref3.data;\n        return React.createElement(renderTick, _objectSpread$1({\n          tickIndex: tickIndex,\n          format: formatValue,\n          textBaseline: textBaseline,\n          textAnchor: textAlign\n        }, tick, style, onClick ? {\n          onClick: onClick\n        } : {}));\n      }));\n    }), React.createElement(Motion, {\n      style: {\n        x2: spring(axis === 'x' ? length : 0, springConfig),\n        y2: spring(axis === 'x' ? 0 : length, springConfig)\n      }\n    }, function (values) {\n      return React.createElement(\"line\", _extends$1({\n        style: theme.axis.domain.line,\n        x1: 0,\n        y1: 0\n      }, values));\n    }), legendNode);\n  });\n};\nAxis.propTypes = {\n  axis: PropTypes.oneOf(['x', 'y']).isRequired,\n  scale: PropTypes.func.isRequired,\n  x: PropTypes.number.isRequired,\n  y: PropTypes.number.isRequired,\n  length: PropTypes.number.isRequired,\n  ticksPosition: PropTypes.oneOf(['before', 'after']).isRequired,\n  tickValues: axisPropTypes.tickValues,\n  tickSize: PropTypes.number.isRequired,\n  tickPadding: PropTypes.number.isRequired,\n  tickRotation: PropTypes.number.isRequired,\n  format: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  renderTick: PropTypes.func.isRequired,\n  legend: PropTypes.node,\n  legendPosition: PropTypes.oneOf(['start', 'middle', 'end']).isRequired,\n  legendOffset: PropTypes.number.isRequired,\n  onClick: PropTypes.func\n};\nAxis.defaultProps = {\n  x: 0,\n  y: 0,\n  tickSize: 5,\n  tickPadding: 5,\n  tickRotation: 0,\n  renderTick: defaultTickRenderer,\n  legendPosition: 'end',\n  legendOffset: 0\n};\nvar Axis$1 = memo(Axis);\n\nfunction _extends$2() { _extends$2 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$2.apply(this, arguments); }\nvar positions = ['top', 'right', 'bottom', 'left'];\nvar Axes = function Axes(_ref) {\n  var xScale = _ref.xScale,\n      yScale = _ref.yScale,\n      width = _ref.width,\n      height = _ref.height,\n      top = _ref.top,\n      right = _ref.right,\n      bottom = _ref.bottom,\n      left = _ref.left;\n  var axes = {\n    top: top,\n    right: right,\n    bottom: bottom,\n    left: left\n  };\n  return positions.map(function (position) {\n    var axis = axes[position];\n    if (!axis) return null;\n    var isXAxis = position === 'top' || position === 'bottom';\n    var ticksPosition = position === 'top' || position === 'left' ? 'before' : 'after';\n    return React.createElement(Axis$1, _extends$2({\n      key: position\n    }, axis, {\n      axis: isXAxis ? 'x' : 'y',\n      x: position === 'right' ? width : 0,\n      y: position === 'bottom' ? height : 0,\n      scale: isXAxis ? xScale : yScale,\n      length: isXAxis ? width : height,\n      ticksPosition: ticksPosition\n    }));\n  });\n};\nAxes.propTypes = {\n  xScale: PropTypes.func,\n  yScale: PropTypes.func,\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired,\n  top: axisPropType,\n  right: axisPropType,\n  bottom: axisPropType,\n  left: axisPropType\n};\nvar Axes$1 = memo(Axes);\n\nvar GridLine = function GridLine(props) {\n  return React.createElement(\"line\", props);\n};\nGridLine.propTypes = {\n  x1: PropTypes.number.isRequired,\n  x2: PropTypes.number.isRequired,\n  y1: PropTypes.number.isRequired,\n  y2: PropTypes.number.isRequired\n};\nGridLine.defaultProps = {\n  x1: 0,\n  x2: 0,\n  y1: 0,\n  y2: 0\n};\nvar GridLine$1 = memo(GridLine);\n\nfunction _extends$3() { _extends$3 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$3.apply(this, arguments); }\nvar GridLines = function GridLines(_ref) {\n  var type = _ref.type,\n      lines = _ref.lines;\n  var theme = useTheme();\n  var _useMotionConfig = useMotionConfig(),\n      animate = _useMotionConfig.animate,\n      springConfig = _useMotionConfig.springConfig;\n  var lineWillEnter = useMemo(function () {\n    return function (_ref2) {\n      var style = _ref2.style;\n      return {\n        opacity: 0,\n        x1: type === 'x' ? 0 : style.x1.val,\n        x2: type === 'x' ? 0 : style.x2.val,\n        y1: type === 'y' ? 0 : style.y1.val,\n        y2: type === 'y' ? 0 : style.y2.val\n      };\n    };\n  }, [type]);\n  var lineWillLeave = useMemo(function () {\n    return function (_ref3) {\n      var style = _ref3.style;\n      return {\n        opacity: spring(0, springConfig),\n        x1: spring(style.x1.val, springConfig),\n        x2: spring(style.x2.val, springConfig),\n        y1: spring(style.y1.val, springConfig),\n        y2: spring(style.y2.val, springConfig)\n      };\n    };\n  }, [springConfig]);\n  if (!animate) {\n    return React.createElement(\"g\", null, lines.map(function (line) {\n      return React.createElement(GridLine$1, _extends$3({\n        key: line.key\n      }, line, theme.grid.line));\n    }));\n  }\n  return React.createElement(TransitionMotion, {\n    willEnter: lineWillEnter,\n    willLeave: lineWillLeave,\n    styles: lines.map(function (line) {\n      return {\n        key: line.key,\n        style: {\n          opacity: spring(1, springConfig),\n          x1: spring(line.x1 || 0, springConfig),\n          x2: spring(line.x2 || 0, springConfig),\n          y1: spring(line.y1 || 0, springConfig),\n          y2: spring(line.y2 || 0, springConfig)\n        }\n      };\n    })\n  }, function (interpolatedStyles) {\n    return React.createElement(\"g\", null, interpolatedStyles.map(function (interpolatedStyle) {\n      var key = interpolatedStyle.key,\n          style = interpolatedStyle.style;\n      return React.createElement(GridLine$1, _extends$3({\n        key: key\n      }, theme.grid.line, style));\n    }));\n  });\n};\nGridLines.propTypes = {\n  type: PropTypes.oneOf(['x', 'y']).isRequired,\n  lines: PropTypes.arrayOf(PropTypes.shape({\n    key: PropTypes.string.isRequired,\n    x1: PropTypes.number,\n    x2: PropTypes.number,\n    y1: PropTypes.number,\n    y2: PropTypes.number\n  })).isRequired\n};\nvar GridLines$1 = memo(GridLines);\n\nvar Grid = function Grid(_ref) {\n  var width = _ref.width,\n      height = _ref.height,\n      xScale = _ref.xScale,\n      yScale = _ref.yScale,\n      xValues = _ref.xValues,\n      yValues = _ref.yValues;\n  var xLines = useMemo(function () {\n    if (!xScale) return false;\n    return computeGridLines({\n      width: width,\n      height: height,\n      scale: xScale,\n      axis: 'x',\n      values: xValues\n    });\n  }, [xScale, xValues]);\n  var yLines = yScale ? computeGridLines({\n    width: width,\n    height: height,\n    scale: yScale,\n    axis: 'y',\n    values: yValues\n  }) : false;\n  return React.createElement(React.Fragment, null, xLines && React.createElement(GridLines$1, {\n    type: \"x\",\n    lines: xLines\n  }), yLines && React.createElement(GridLines$1, {\n    type: \"y\",\n    lines: yLines\n  }));\n};\nGrid.propTypes = {\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired,\n  xScale: PropTypes.func,\n  yScale: PropTypes.func,\n  xValues: PropTypes.oneOfType([PropTypes.number, PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)]))]),\n  yValues: PropTypes.oneOfType([PropTypes.number, PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)]))])\n};\nvar Grid$1 = memo(Grid);\n\nvar degreesToRadians = function degreesToRadians(degrees) {\n  return degrees * Math.PI / 180;\n};\n\nfunction _objectSpread$2(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(Object(source)); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$2(target, key, source[key]); }); } return target; }\nfunction _defineProperty$2(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar renderAxisToCanvas = function renderAxisToCanvas(ctx, _ref) {\n  var axis = _ref.axis,\n      scale = _ref.scale,\n      _ref$x = _ref.x,\n      x = _ref$x === void 0 ? 0 : _ref$x,\n      _ref$y = _ref.y,\n      y = _ref$y === void 0 ? 0 : _ref$y,\n      length = _ref.length,\n      ticksPosition = _ref.ticksPosition,\n      tickValues = _ref.tickValues,\n      _ref$tickSize = _ref.tickSize,\n      tickSize = _ref$tickSize === void 0 ? 5 : _ref$tickSize,\n      _ref$tickPadding = _ref.tickPadding,\n      tickPadding = _ref$tickPadding === void 0 ? 5 : _ref$tickPadding,\n      _ref$tickRotation = _ref.tickRotation,\n      tickRotation = _ref$tickRotation === void 0 ? 0 : _ref$tickRotation,\n      format = _ref.format,\n      legend = _ref.legend,\n      _ref$legendPosition = _ref.legendPosition,\n      legendPosition = _ref$legendPosition === void 0 ? 'end' : _ref$legendPosition,\n      _ref$legendOffset = _ref.legendOffset,\n      legendOffset = _ref$legendOffset === void 0 ? 0 : _ref$legendOffset,\n      theme = _ref.theme;\n  var _computeCartesianTick = computeCartesianTicks({\n    axis: axis,\n    scale: scale,\n    ticksPosition: ticksPosition,\n    tickValues: tickValues,\n    tickSize: tickSize,\n    tickPadding: tickPadding,\n    tickRotation: tickRotation,\n    engine: 'canvas'\n  }),\n      ticks = _computeCartesianTick.ticks,\n      textAlign = _computeCartesianTick.textAlign,\n      textBaseline = _computeCartesianTick.textBaseline;\n  ctx.save();\n  ctx.translate(x, y);\n  ctx.textAlign = textAlign;\n  ctx.textBaseline = textBaseline;\n  ctx.font = \"\".concat(theme.axis.ticks.text.fontSize, \"px \").concat(theme.axis.ticks.text.fontFamily);\n  if (theme.axis.domain.line.strokeWidth > 0) {\n    ctx.lineWidth = theme.axis.domain.line.strokeWidth;\n    ctx.lineCap = 'square';\n    ctx.strokeStyle = theme.axis.domain.line.stroke;\n    ctx.beginPath();\n    ctx.moveTo(0, 0);\n    ctx.lineTo(axis === 'x' ? length : 0, axis === 'x' ? 0 : length);\n    ctx.stroke();\n  }\n  ticks.forEach(function (tick) {\n    if (theme.axis.ticks.line.strokeWidth > 0) {\n      ctx.lineWidth = theme.axis.ticks.line.strokeWidth;\n      ctx.lineCap = 'square';\n      ctx.strokeStyle = theme.axis.ticks.line.stroke;\n      ctx.beginPath();\n      ctx.moveTo(tick.x, tick.y);\n      ctx.lineTo(tick.x + tick.lineX, tick.y + tick.lineY);\n      ctx.stroke();\n    }\n    var value = format !== undefined ? format(tick.value) : tick.value;\n    ctx.save();\n    ctx.translate(tick.x + tick.textX, tick.y + tick.textY);\n    ctx.rotate(degreesToRadians(tickRotation));\n    ctx.fillStyle = theme.axis.ticks.text.fill;\n    ctx.fillText(value, 0, 0);\n    ctx.restore();\n  });\n  if (legend !== undefined) {\n    var legendX = 0;\n    var legendY = 0;\n    var legendRotation = 0;\n    var _textAlign;\n    if (axis === 'y') {\n      legendRotation = -90;\n      legendX = legendOffset;\n      if (legendPosition === 'start') {\n        _textAlign = 'start';\n        legendY = length;\n      } else if (legendPosition === 'middle') {\n        _textAlign = 'center';\n        legendY = length / 2;\n      } else if (legendPosition === 'end') {\n        _textAlign = 'end';\n      }\n    } else {\n      legendY = legendOffset;\n      if (legendPosition === 'start') {\n        _textAlign = 'start';\n      } else if (legendPosition === 'middle') {\n        _textAlign = 'center';\n        legendX = length / 2;\n      } else if (legendPosition === 'end') {\n        _textAlign = 'end';\n        legendX = length;\n      }\n    }\n    ctx.translate(legendX, legendY);\n    ctx.rotate(degreesToRadians(legendRotation));\n    ctx.font = \"\".concat(theme.axis.legend.text.fontWeight ? \"\".concat(theme.axis.legend.text.fontWeight, \" \") : '').concat(theme.axis.legend.text.fontSize, \"px \").concat(theme.axis.legend.text.fontFamily);\n    ctx.fillStyle = theme.axis.legend.text.fill;\n    ctx.textAlign = _textAlign;\n    ctx.textBaseline = 'middle';\n    ctx.fillText(legend, 0, 0);\n  }\n  ctx.restore();\n};\nvar positions$1 = ['top', 'right', 'bottom', 'left'];\nvar renderAxesToCanvas = function renderAxesToCanvas(ctx, _ref2) {\n  var xScale = _ref2.xScale,\n      yScale = _ref2.yScale,\n      width = _ref2.width,\n      height = _ref2.height,\n      top = _ref2.top,\n      right = _ref2.right,\n      bottom = _ref2.bottom,\n      left = _ref2.left,\n      theme = _ref2.theme;\n  var axes = {\n    top: top,\n    right: right,\n    bottom: bottom,\n    left: left\n  };\n  positions$1.forEach(function (position) {\n    var axis = axes[position];\n    if (!axis) return null;\n    var isXAxis = position === 'top' || position === 'bottom';\n    var ticksPosition = position === 'top' || position === 'left' ? 'before' : 'after';\n    var scale = isXAxis ? xScale : yScale;\n    var format = getFormatter(axis.format, scale);\n    renderAxisToCanvas(ctx, _objectSpread$2({}, axis, {\n      axis: isXAxis ? 'x' : 'y',\n      x: position === 'right' ? width : 0,\n      y: position === 'bottom' ? height : 0,\n      scale: scale,\n      format: format,\n      length: isXAxis ? width : height,\n      ticksPosition: ticksPosition,\n      theme: theme\n    }));\n  });\n};\nvar renderGridLinesToCanvas = function renderGridLinesToCanvas(ctx, _ref3) {\n  var width = _ref3.width,\n      height = _ref3.height,\n      scale = _ref3.scale,\n      axis = _ref3.axis,\n      values = _ref3.values;\n  var lines = computeGridLines({\n    width: width,\n    height: height,\n    scale: scale,\n    axis: axis,\n    values: values\n  });\n  lines.forEach(function (line) {\n    ctx.beginPath();\n    ctx.moveTo(line.x1, line.y1);\n    ctx.lineTo(line.x2, line.y2);\n    ctx.stroke();\n  });\n};\n\nexport { Axes$1 as Axes, Axis$1 as Axis, Grid$1 as Grid, axisPropType, axisPropTypes, renderAxesToCanvas, renderAxisToCanvas, renderGridLinesToCanvas };\n","var baseExtremum = require('./_baseExtremum'),\n    baseLt = require('./_baseLt'),\n    identity = require('./identity');\n/**\n * Computes the minimum value of `array`. If `array` is empty or falsey,\n * `undefined` is returned.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Math\n * @param {Array} array The array to iterate over.\n * @returns {*} Returns the minimum value.\n * @example\n *\n * _.min([4, 2, 8, 6]);\n * // => 2\n *\n * _.min([]);\n * // => undefined\n */\n\n\nfunction min(array) {\n  return array && array.length ? baseExtremum(array, identity, baseLt) : undefined;\n}\n\nmodule.exports = min;","var baseIteratee = require('./_baseIteratee'),\n    baseUniq = require('./_baseUniq');\n/**\n * This method is like `_.uniq` except that it accepts `iteratee` which is\n * invoked for each element in `array` to generate the criterion by which\n * uniqueness is computed. The order of result values is determined by the\n * order they occur in the array. The iteratee is invoked with one argument:\n * (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n * @example\n *\n * _.uniqBy([2.1, 1.2, 2.3], Math.floor);\n * // => [2.1, 1.2]\n *\n * // The `_.property` iteratee shorthand.\n * _.uniqBy([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n * // => [{ 'x': 1 }, { 'x': 2 }]\n */\n\n\nfunction uniqBy(array, iteratee) {\n  return array && array.length ? baseUniq(array, baseIteratee(iteratee, 2)) : [];\n}\n\nmodule.exports = uniqBy;","/**\n * The base implementation of `_.lt` which doesn't coerce arguments.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if `value` is less than `other`,\n *  else `false`.\n */\nfunction baseLt(value, other) {\n  return value < other;\n}\n\nmodule.exports = baseLt;","import PropTypes from 'prop-types';\nimport { scaleLinear, scaleLog, scalePoint, scaleUtc, scaleTime } from 'd3-scale';\nimport { utcParse, timeParse } from 'd3-time-format';\nimport uniq from 'lodash/uniq';\nimport uniqBy from 'lodash/uniqBy';\nimport sortBy from 'lodash/sortBy';\nimport last from 'lodash/last';\nimport isDate from 'lodash/isDate';\n\nvar linearScale = function linearScale(_ref, xy, width, height) {\n  var axis = _ref.axis,\n      _ref$min = _ref.min,\n      min = _ref$min === void 0 ? 0 : _ref$min,\n      _ref$max = _ref.max,\n      max = _ref$max === void 0 ? 'auto' : _ref$max,\n      _ref$stacked = _ref.stacked,\n      stacked = _ref$stacked === void 0 ? false : _ref$stacked,\n      _ref$reverse = _ref.reverse,\n      reverse = _ref$reverse === void 0 ? false : _ref$reverse;\n  var values = xy[axis];\n  var size = axis === 'x' ? width : height;\n  var minValue = min;\n  if (min === 'auto') {\n    minValue = stacked === true ? values.minStacked : values.min;\n  }\n  var maxValue = max;\n  if (max === 'auto') {\n    maxValue = stacked === true ? values.maxStacked : values.max;\n  }\n  var scale = scaleLinear().rangeRound(axis === 'x' ? [0, size] : [size, 0]);\n  if (reverse === true) scale.domain([maxValue, minValue]);else scale.domain([minValue, maxValue]);\n  scale.type = 'linear';\n  scale.stacked = stacked;\n  return scale;\n};\nvar linearScalePropTypes = {\n  type: PropTypes.oneOf(['linear']).isRequired,\n  min: PropTypes.oneOfType([PropTypes.oneOf(['auto']), PropTypes.number]),\n  max: PropTypes.oneOfType([PropTypes.oneOf(['auto']), PropTypes.number]),\n  stacked: PropTypes.bool,\n  reverse: PropTypes.bool\n};\n\nvar logScale = function logScale(_ref, xy, width, height) {\n  var axis = _ref.axis,\n      _ref$base = _ref.base,\n      base = _ref$base === void 0 ? 10 : _ref$base,\n      _ref$min = _ref.min,\n      min = _ref$min === void 0 ? 'auto' : _ref$min,\n      _ref$max = _ref.max,\n      max = _ref$max === void 0 ? 'auto' : _ref$max;\n  var values = xy[axis];\n  var size = axis === 'x' ? width : height;\n  var hasZero = values.all.some(function (v) {\n    return v === 0;\n  });\n  var sign;\n  var hasMixedSign = false;\n  values.all.forEach(function (v) {\n    if (hasMixedSign === true) return;\n    if (sign === undefined) {\n      sign = Math.sign(v);\n    } else if (Math.sign(v) !== sign) {\n      hasMixedSign = true;\n    }\n  });\n  if (hasZero || hasMixedSign) {\n    throw new Error([\"a log scale domain must be strictly-positive or strictly-negative,\", \"and must not include or cross zero.\"].join('\\n'));\n  }\n  var minValue = min;\n  if (min === 'auto') {\n    minValue = values.min;\n  }\n  var maxValue = max;\n  if (max === 'auto') {\n    maxValue = values.max;\n  }\n  var scale = scaleLog().domain([minValue, maxValue]).rangeRound(axis === 'x' ? [0, size] : [size, 0]).base(base).nice();\n  scale.type = 'log';\n  return scale;\n};\nvar logScalePropTypes = {\n  type: PropTypes.oneOf(['log']).isRequired,\n  base: PropTypes.number,\n  min: PropTypes.oneOfType([PropTypes.oneOf(['auto']), PropTypes.number]),\n  max: PropTypes.oneOfType([PropTypes.oneOf(['auto']), PropTypes.number])\n};\n\nvar pointScale = function pointScale(_ref, xy, width, height) {\n  var axis = _ref.axis;\n  var values = xy[axis];\n  var size = axis === 'x' ? width : height;\n  var scale = scalePoint().range([0, size]).domain(values.all);\n  scale.type = 'point';\n  return scale;\n};\nvar pointScalePropTypes = {\n  type: PropTypes.oneOf(['point']).isRequired\n};\n\nvar _precisionCutOffsByTy;\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar TIME_PRECISION_MILLISECOND = 'millisecond';\nvar TIME_PRECISION_SECOND = 'second';\nvar TIME_PRECISION_MINUTE = 'minute';\nvar TIME_PRECISION_HOUR = 'hour';\nvar TIME_PRECISION_DAY = 'day';\nvar TIME_PRECISION_MONTH = 'month';\nvar TIME_PRECISION_YEAR = 'year';\nvar timePrecisions = [TIME_PRECISION_MILLISECOND, TIME_PRECISION_SECOND, TIME_PRECISION_MINUTE, TIME_PRECISION_HOUR, TIME_PRECISION_DAY, TIME_PRECISION_MONTH, TIME_PRECISION_YEAR];\nvar precisionCutOffs = [function (date) {\n  return date.setMilliseconds(0);\n}, function (date) {\n  return date.setSeconds(0);\n}, function (date) {\n  return date.setMinutes(0);\n}, function (date) {\n  return date.setHours(0);\n}, function (date) {\n  return date.setDate(1);\n}, function (date) {\n  return date.setMonth(0);\n}];\nvar precisionCutOffsByType = (_precisionCutOffsByTy = {}, _defineProperty(_precisionCutOffsByTy, TIME_PRECISION_MILLISECOND, []), _defineProperty(_precisionCutOffsByTy, TIME_PRECISION_SECOND, precisionCutOffs.slice(0, 1)), _defineProperty(_precisionCutOffsByTy, TIME_PRECISION_MINUTE, precisionCutOffs.slice(0, 2)), _defineProperty(_precisionCutOffsByTy, TIME_PRECISION_HOUR, precisionCutOffs.slice(0, 3)), _defineProperty(_precisionCutOffsByTy, TIME_PRECISION_DAY, precisionCutOffs.slice(0, 4)), _defineProperty(_precisionCutOffsByTy, TIME_PRECISION_MONTH, precisionCutOffs.slice(0, 5)), _defineProperty(_precisionCutOffsByTy, TIME_PRECISION_YEAR, precisionCutOffs.slice(0, 6)), _precisionCutOffsByTy);\nvar createPrecisionMethod = function createPrecisionMethod(precision) {\n  return function (date) {\n    precisionCutOffsByType[precision].forEach(function (cutOff) {\n      cutOff(date);\n    });\n    return date;\n  };\n};\nvar createDateNormalizer = function createDateNormalizer(_ref) {\n  var _ref$format = _ref.format,\n      format = _ref$format === void 0 ? 'native' : _ref$format,\n      _ref$precision = _ref.precision,\n      precision = _ref$precision === void 0 ? 'millisecond' : _ref$precision,\n      _ref$useUTC = _ref.useUTC,\n      useUTC = _ref$useUTC === void 0 ? true : _ref$useUTC;\n  var precisionFn = createPrecisionMethod(precision);\n  if (format === 'native') return function (v) {\n    return precisionFn(v);\n  };\n  var parseTime = useUTC ? utcParse(format) : timeParse(format);\n  return function (v) {\n    return precisionFn(parseTime(v));\n  };\n};\n\nvar timeScale = function timeScale(_ref, xy, width, height) {\n  var axis = _ref.axis,\n      _ref$format = _ref.format,\n      format = _ref$format === void 0 ? 'native' : _ref$format,\n      _ref$precision = _ref.precision,\n      precision = _ref$precision === void 0 ? TIME_PRECISION_MILLISECOND : _ref$precision,\n      _ref$min = _ref.min,\n      min = _ref$min === void 0 ? 'auto' : _ref$min,\n      _ref$max = _ref.max,\n      max = _ref$max === void 0 ? 'auto' : _ref$max,\n      _ref$useUTC = _ref.useUTC,\n      useUTC = _ref$useUTC === void 0 ? true : _ref$useUTC;\n  var values = xy[axis];\n  var size = axis === 'x' ? width : height;\n  var normalize = createDateNormalizer({\n    format: format,\n    precision: precision,\n    useUTC: useUTC\n  });\n  var minValue = min;\n  if (min === 'auto') {\n    minValue = values.min;\n  } else if (format !== 'native') {\n    minValue = normalize(min);\n  }\n  var maxValue = max;\n  if (max === 'auto') {\n    maxValue = values.max;\n  } else if (format !== 'native') {\n    maxValue = normalize(max);\n  }\n  var scale = useUTC ? scaleUtc() : scaleTime();\n  scale.domain([minValue, maxValue]).range([0, size]);\n  scale.type = 'time';\n  scale.useUTC = useUTC;\n  return scale;\n};\nvar timeScalePropTypes = {\n  type: PropTypes.oneOf(['time']).isRequired,\n  format: PropTypes.string,\n  precision: PropTypes.oneOf(timePrecisions)\n};\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(Object(source)); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$1(target, key, source[key]); }); } return target; }\nfunction _defineProperty$1(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar getOtherAxis = function getOtherAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n};\nvar compareValues = function compareValues(a, b) {\n  return a === b;\n};\nvar compareDateValues = function compareDateValues(a, b) {\n  return a.getTime() === b.getTime();\n};\nvar computeXYScalesForSeries = function computeXYScalesForSeries(_series, xScaleSpec, yScaleSpec, width, height) {\n  var series = _series.map(function (serie) {\n    return _objectSpread({}, serie, {\n      data: serie.data.map(function (d) {\n        return {\n          data: _objectSpread({}, d)\n        };\n      })\n    });\n  });\n  var xy = generateSeriesXY(series, xScaleSpec, yScaleSpec);\n  if (xScaleSpec.stacked === true) {\n    stackX(yScaleSpec.type, xy, series);\n  }\n  if (yScaleSpec.stacked === true) {\n    stackY(xScaleSpec.type, xy, series);\n  }\n  var xScale = computeScale(_objectSpread({}, xScaleSpec, {\n    axis: 'x'\n  }), xy, width, height);\n  var yScale = computeScale(_objectSpread({}, yScaleSpec, {\n    axis: 'y'\n  }), xy, width, height);\n  series.forEach(function (serie) {\n    serie.data.forEach(function (d) {\n      d.position = {\n        x: xScale.stacked === true ? d.data.xStacked === null ? null : xScale(d.data.xStacked) : d.data.x === null ? null : xScale(d.data.x),\n        y: yScale.stacked === true ? d.data.yStacked === null ? null : yScale(d.data.yStacked) : d.data.y === null ? null : yScale(d.data.y)\n      };\n    });\n  });\n  return _objectSpread({}, xy, {\n    series: series,\n    xScale: xScale,\n    yScale: yScale\n  });\n};\nvar computeScale = function computeScale(spec, xy, width, height) {\n  if (spec.type === 'linear') return linearScale(spec, xy, width, height);else if (spec.type === 'point') return pointScale(spec, xy, width, height);else if (spec.type === 'time') return timeScale(spec, xy, width, height);else if (spec.type === 'log') return logScale(spec, xy, width, height);\n};\nvar generateSeriesXY = function generateSeriesXY(series, xScaleSpec, yScaleSpec) {\n  return {\n    x: generateSeriesAxis(series, 'x', xScaleSpec),\n    y: generateSeriesAxis(series, 'y', yScaleSpec)\n  };\n};\nvar generateSeriesAxis = function generateSeriesAxis(series, axis, scaleSpec) {\n  var _ref = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {},\n      _ref$getValue = _ref.getValue,\n      getValue = _ref$getValue === void 0 ? function (d) {\n    return d.data[axis];\n  } : _ref$getValue,\n      _ref$setValue = _ref.setValue,\n      setValue = _ref$setValue === void 0 ? function (d, v) {\n    d.data[axis] = v;\n  } : _ref$setValue;\n  if (scaleSpec.type === 'linear') {\n    series.forEach(function (serie) {\n      serie.data.forEach(function (d) {\n        setValue(d, getValue(d) === null ? null : parseFloat(getValue(d)));\n      });\n    });\n  } else if (scaleSpec.type === 'time' && scaleSpec.format !== 'native') {\n    var parseTime = createDateNormalizer(scaleSpec);\n    series.forEach(function (serie) {\n      serie.data.forEach(function (d) {\n        setValue(d, getValue(d) === null ? null : parseTime(getValue(d)));\n      });\n    });\n  }\n  var all = [];\n  series.forEach(function (serie) {\n    serie.data.forEach(function (d) {\n      all.push(getValue(d));\n    });\n  });\n  var min, max;\n  if (scaleSpec.type === 'linear') {\n    all = uniq(all);\n    all = sortBy(all, function (v) {\n      return v;\n    });\n    min = Math.min.apply(Math, _toConsumableArray(all));\n    max = Math.max.apply(Math, _toConsumableArray(all));\n  } else if (scaleSpec.type === 'time') {\n    all = uniqBy(all, function (v) {\n      return v.getTime();\n    });\n    all = all.slice(0).sort(function (a, b) {\n      return b - a;\n    }).reverse();\n    min = all[0];\n    max = last(all);\n  } else {\n    all = uniq(all);\n    min = all[0];\n    max = last(all);\n  }\n  return {\n    all: all,\n    min: min,\n    max: max\n  };\n};\nvar stackAxis = function stackAxis(axis, otherType, xy, series) {\n  var otherAxis = getOtherAxis(axis);\n  var all = [];\n  xy[otherAxis].all.forEach(function (v) {\n    var compare = isDate(v) ? compareDateValues : compareValues;\n    var stack = [];\n    series.forEach(function (serie) {\n      var datum = serie.data.find(function (d) {\n        return compare(d.data[otherAxis], v);\n      });\n      var value = null;\n      var stackValue = null;\n      if (datum !== undefined) {\n        value = datum.data[axis];\n        if (value !== null) {\n          var head = last(stack);\n          if (head === undefined) {\n            stackValue = value;\n          } else if (head !== null) {\n            stackValue = head + value;\n          }\n        }\n        datum.data[\"\".concat(axis, \"Stacked\")] = stackValue;\n      }\n      stack.push(stackValue);\n      all.push(stackValue);\n    });\n  });\n  all = all.filter(function (v) {\n    return v !== null;\n  });\n  xy[axis].minStacked = Math.min.apply(Math, _toConsumableArray(all));\n  xy[axis].maxStacked = Math.max.apply(Math, _toConsumableArray(all));\n};\nvar stackX = function stackX(xy, otherType, series) {\n  return stackAxis('x', xy, otherType, series);\n};\nvar stackY = function stackY(xy, otherType, series) {\n  return stackAxis('y', xy, otherType, series);\n};\nvar computeAxisSlices = function computeAxisSlices(axis, data) {\n  var otherAxis = getOtherAxis(axis);\n  return data[otherAxis].all.map(function (v) {\n    var _slice;\n    var slice = (_slice = {\n      id: v\n    }, _defineProperty$1(_slice, otherAxis, data[\"\".concat(otherAxis, \"Scale\")](v)), _defineProperty$1(_slice, \"data\", []), _slice);\n    var compare = isDate(v) ? compareDateValues : compareValues;\n    data.series.forEach(function (serie) {\n      var datum = serie.data.find(function (d) {\n        return compare(d.data[otherAxis], v);\n      });\n      if (datum !== undefined) {\n        slice.data.push(_objectSpread({}, datum, {\n          serie: serie\n        }));\n      }\n    });\n    slice.data.reverse();\n    return slice;\n  });\n};\nvar computeXSlices = function computeXSlices(data) {\n  return computeAxisSlices('x', data);\n};\nvar computeYSlices = function computeYSlices(data) {\n  return computeAxisSlices('y', data);\n};\n\nvar scalePropType = PropTypes.oneOfType([PropTypes.shape(linearScalePropTypes), PropTypes.shape(pointScalePropTypes), PropTypes.shape(timeScalePropTypes), PropTypes.shape(logScalePropTypes)]);\n\nexport { compareDateValues, compareValues, computeAxisSlices, computeScale, computeXSlices, computeXYScalesForSeries, computeYSlices, generateSeriesAxis, generateSeriesXY, getOtherAxis, linearScale, linearScalePropTypes, logScale, logScalePropTypes, pointScale, pointScalePropTypes, scalePropType, stackAxis, stackX, stackY, timeScale, timeScalePropTypes };\n","var baseExtremum = require('./_baseExtremum'),\n    baseGt = require('./_baseGt'),\n    identity = require('./identity');\n/**\n * Computes the maximum value of `array`. If `array` is empty or falsey,\n * `undefined` is returned.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Math\n * @param {Array} array The array to iterate over.\n * @returns {*} Returns the maximum value.\n * @example\n *\n * _.max([4, 2, 8, 6]);\n * // => 8\n *\n * _.max([]);\n * // => undefined\n */\n\n\nfunction max(array) {\n  return array && array.length ? baseExtremum(array, identity, baseGt) : undefined;\n}\n\nmodule.exports = max;","/**\n * The base implementation of `_.gt` which doesn't coerce arguments.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if `value` is greater than `other`,\n *  else `false`.\n */\nfunction baseGt(value, other) {\n  return value > other;\n}\n\nmodule.exports = baseGt;","var arrayFilter = require('./_arrayFilter'),\n    baseFilter = require('./_baseFilter'),\n    baseIteratee = require('./_baseIteratee'),\n    isArray = require('./isArray');\n/**\n * Iterates over elements of `collection`, returning an array of all elements\n * `predicate` returns truthy for. The predicate is invoked with three\n * arguments: (value, index|key, collection).\n *\n * **Note:** Unlike `_.remove`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n * @see _.reject\n * @example\n *\n * var users = [\n *   { 'user': 'barney', 'age': 36, 'active': true },\n *   { 'user': 'fred',   'age': 40, 'active': false }\n * ];\n *\n * _.filter(users, function(o) { return !o.active; });\n * // => objects for ['fred']\n *\n * // The `_.matches` iteratee shorthand.\n * _.filter(users, { 'age': 36, 'active': true });\n * // => objects for ['barney']\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.filter(users, ['active', false]);\n * // => objects for ['fred']\n *\n * // The `_.property` iteratee shorthand.\n * _.filter(users, 'active');\n * // => objects for ['barney']\n */\n\n\nfunction filter(collection, predicate) {\n  var func = isArray(collection) ? arrayFilter : baseFilter;\n  return func(collection, baseIteratee(predicate, 3));\n}\n\nmodule.exports = filter;","/*\n * This file is part of the nivo project.\n *\n * (c) 2016 Raphal Benitte\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\nimport ControlsGroup from '../controls/ControlsGroup'\nimport media from '../../theming/mediaQueries'\n\nconst Group = styled.div`\n    // border-top: 1px solid ${({ theme }) => theme.colors.border};\n\n    &:first-child {\n        border-top-width: 0;\n    }\n`\n\nconst Title = styled.div`\n    // border-bottom: 1px solid ${({ theme }) => theme.colors.border};\n    padding: 16px 30px;\n    font-weight: 700;\n    text-transform: uppercase;\n    font-size: 13px;\n    line-height: 1em;\n    // color: ${({ theme }) => theme.colors.cardBackground};\n    color: white;\n    background: ${({ theme }) => theme.colors.accent};\n    background-image: linear-gradient(-90deg, #dc5a32, #c44a67);\n    background-size: 200% 100%;\n    background-repeat: no-repeat;\n    background-position: top left;\n\n    ${media.tablet`\n        & {\n            padding: 16px 20px 16px 30px;\n        }\n    `}\n\n    ${media.mobile`\n        & {\n            padding: 16px 20px 16px 30px;\n        }\n    `}\n`\n\nconst ControlsGroups = ({ groups, value, onChange }) => {\n    return groups.map(group => {\n        return (\n            <Group key={group.name}>\n                <Title>{group.name}</Title>\n                <ControlsGroup\n                    name={group.name}\n                    controls={group.properties}\n                    settings={value}\n                    onChange={onChange}\n                />\n            </Group>\n        )\n    })\n}\n\nControlsGroups.propTypes = {\n    groups: PropTypes.array.isRequired,\n    value: PropTypes.object.isRequired,\n    onChange: PropTypes.func.isRequired,\n}\n\nexport default ControlsGroups\n","/*\n * This file is part of the nivo project.\n *\n * (c) 2016 Raphal Benitte\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { useState } from 'react'\nimport styled from 'styled-components'\nimport { defaultTheme } from '@nivo/core'\nimport { ResponsiveBar } from '@nivo/bar'\nimport { ResponsiveLine } from '@nivo/line'\nimport Layout from '../../components/Layout'\nimport SEO from '../../components/seo'\nimport PageContent from '../../components/PageContent'\nimport ControlsGroups from '../../components/controls/ControlsGroups'\nimport { DescriptionBlock } from '../../components/styled'\n\nconst Container = styled.div`\n    display: grid;\n    grid-template-columns: 2fr 1fr;\n    grid-column-gap: 24px;\n`\n\nconst initialTheme = {\n    background: '#ffffff', // defaultTheme.background,\n    textColor: defaultTheme.textColor,\n    fontSize: defaultTheme.fontSize,\n    axis: {\n        domain: {\n            line: {\n                stroke: '#777777', // defaultTheme.axis.domain.line.stroke,\n                strokeWidth: defaultTheme.axis.domain.line.strokeWidth,\n            },\n        },\n        ticks: {\n            line: {\n                stroke: defaultTheme.axis.ticks.line.stroke,\n                strokeWidth: defaultTheme.axis.ticks.line.strokeWidth,\n            },\n        },\n    },\n    grid: {\n        line: {\n            stroke: defaultTheme.grid.line.stroke,\n            strokeWidth: defaultTheme.grid.line.strokeWidth,\n        },\n    },\n}\n\nconst controlGroups = [\n    {\n        name: 'Global',\n        properties: [\n            {\n                name: 'background',\n                help: 'main background color.',\n                controlType: 'colorPicker',\n            },\n            {\n                name: 'textColor',\n                help: 'main text color.',\n                controlType: 'colorPicker',\n            },\n            // fontFamily: 'sans-serif',\n            {\n                name: 'fontSize',\n                help: 'main font size.',\n                controlType: 'range',\n                controlOptions: {\n                    unit: 'px',\n                    min: 6,\n                    max: 36,\n                },\n            },\n        ],\n    },\n    {\n        name: 'Axis',\n        properties: [\n            {\n                name: 'axis.domain.line.stroke',\n                controlType: 'colorPicker',\n            },\n            {\n                name: 'axis.domain.line.strokeWidth',\n                controlType: 'range',\n                controlOptions: {\n                    unit: 'px',\n                    min: 0,\n                    max: 32,\n                },\n            },\n            {\n                name: 'axis.ticks.line.stroke',\n                controlType: 'colorPicker',\n            },\n            {\n                name: 'axis.ticks.line.strokeWidth',\n                controlType: 'range',\n                controlOptions: {\n                    unit: 'px',\n                    min: 0,\n                    max: 32,\n                },\n            },\n        ],\n    },\n    {\n        name: 'Grid',\n        properties: [\n            {\n                name: 'grid.line.stroke',\n                controlType: 'colorPicker',\n            },\n            {\n                name: 'grid.line.strokeWidth',\n                controlType: 'range',\n                controlOptions: {\n                    unit: 'px',\n                    min: 0,\n                    max: 32,\n                },\n            },\n        ],\n    },\n]\n\nconst Theming = () => {\n    const [theme, setTheme] = useState(initialTheme)\n\n    return (\n        <Layout>\n            <PageContent>\n                <SEO title=\"Theming Guide\" />\n                <div className=\"guide__header\">\n                    <h1>Theming</h1>\n                </div>\n                <DescriptionBlock>\n                    <p>\n                        nivo supports theming via the <code>theme</code> property, this property\n                        must contain an object which defines various styles to be applied to your\n                        charts. If you don't provide a theme, the default theme will be used. When\n                        you provide a theme, you don't have to provide all properties as it will get\n                        merged with the default theme.\n                    </p>\n                    <p>\n                        There are a few things to notice while theming your components. Values for\n                        font-size, borders are <strong>unitless</strong> as nivo supports several\n                        implementations (SVG, HTML, Canvas), however you can pass extra CSS\n                        attributes when using a specific implementation, for example, you might add\n                        a stroke-dasharray to the grid lines when using the SVG implementation of\n                        the Bar component, however it will have no effect on BarCanvas as it doesn'r\n                        support it. The theme only drives the base style of the charts, for things\n                        such as symbol colors, patterns, legends, you'll have to use the dedicated\n                        properties.\n                    </p>\n                    <Container>\n                        <div>\n                            <ControlsGroups\n                                groups={controlGroups}\n                                value={theme}\n                                onChange={setTheme}\n                            />\n                        </div>\n                        <div>\n                            <div style={{ height: 160 }}>\n                                <ResponsiveBar\n                                    margin={{\n                                        top: 10,\n                                        right: 10,\n                                        bottom: 30,\n                                        left: 30,\n                                    }}\n                                    data={[\n                                        { id: 'A', value: 12 },\n                                        { id: 'B', value: 17 },\n                                        { id: 'C', value: 9 },\n                                        { id: 'D', value: 15 },\n                                        { id: 'E', value: 23 },\n                                    ]}\n                                    theme={theme}\n                                    animate={false}\n                                />\n                            </div>\n                            <div style={{ height: 160 }}>\n                                <ResponsiveLine\n                                    margin={{\n                                        top: 10,\n                                        right: 10,\n                                        bottom: 30,\n                                        left: 30,\n                                    }}\n                                    data={[\n                                        {\n                                            id: 'default',\n                                            data: [\n                                                { x: 'A', y: 12 },\n                                                { x: 'B', y: 17 },\n                                                { x: 'C', y: 9 },\n                                                { x: 'D', y: 15 },\n                                                { x: 'E', y: 23 },\n                                            ],\n                                        },\n                                    ]}\n                                    enableDots={true}\n                                    enableDotLabel={true}\n                                    theme={theme}\n                                    animate={false}\n                                />\n                            </div>\n                        </div>\n                    </Container>\n                </DescriptionBlock>\n            </PageContent>\n        </Layout>\n    )\n}\n\nexport default Theming\n","/*\n * This file is part of the nivo project.\n *\n * (c) 2016 Raphal Benitte\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport styled from 'styled-components'\nimport media from '../theming/mediaQueries'\n\nexport default styled.div`\n    margin: 0 50px;\n    position: relative;\n\n    ${media.tablet`\n        & {\n            margin: 0 30px;\n        }\n    `}\n\n    ${media.mobile`\n        & {\n            margin: 0 15px;\n        }\n    `}\n`\n","var baseEach = require('./_baseEach');\n/**\n * The base implementation of `_.filter` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\n\n\nfunction baseFilter(collection, predicate) {\n  var result = [];\n  baseEach(collection, function (value, index, collection) {\n    if (predicate(value, index, collection)) {\n      result.push(value);\n    }\n  });\n  return result;\n}\n\nmodule.exports = baseFilter;","var baseIsDate = require('./_baseIsDate'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n/* Node.js helper references. */\n\n\nvar nodeIsDate = nodeUtil && nodeUtil.isDate;\n/**\n * Checks if `value` is classified as a `Date` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n * @example\n *\n * _.isDate(new Date);\n * // => true\n *\n * _.isDate('Mon April 23 2012');\n * // => false\n */\n\nvar isDate = nodeIsDate ? baseUnary(nodeIsDate) : baseIsDate;\nmodule.exports = isDate;","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","import \"core-js/modules/es6.array.fill\";\nimport \"core-js/modules/es6.typed.int32-array\";\nimport \"core-js/modules/es6.typed.float64-array\";\nimport _classCallCheck from \"/Users/raphael.benitte/projects/plouc/nivo/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/raphael.benitte/projects/plouc/nivo/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport \"core-js/modules/es6.typed.uint32-array\";\nvar EPSILON = Math.pow(2, -52);\nvar EDGE_STACK = new Uint32Array(512);\n\nvar Delaunator =\n/*#__PURE__*/\nfunction () {\n  _createClass(Delaunator, null, [{\n    key: \"from\",\n    value: function from(points) {\n      var getX = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultGetX;\n      var getY = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultGetY;\n      var n = points.length;\n      var coords = new Float64Array(n * 2);\n\n      for (var i = 0; i < n; i++) {\n        var p = points[i];\n        coords[2 * i] = getX(p);\n        coords[2 * i + 1] = getY(p);\n      }\n\n      return new Delaunator(coords);\n    }\n  }]);\n\n  function Delaunator(coords) {\n    _classCallCheck(this, Delaunator);\n\n    var n = coords.length >> 1;\n    if (n > 0 && typeof coords[0] !== 'number') throw new Error('Expected coords to contain numbers.');\n    this.coords = coords; // arrays that will store the triangulation graph\n\n    var maxTriangles = Math.max(2 * n - 5, 0);\n    this._triangles = new Uint32Array(maxTriangles * 3);\n    this._halfedges = new Int32Array(maxTriangles * 3); // temporary arrays for tracking the edges of the advancing convex hull\n\n    this._hashSize = Math.ceil(Math.sqrt(n));\n    this._hullPrev = new Uint32Array(n); // edge to prev edge\n\n    this._hullNext = new Uint32Array(n); // edge to next edge\n\n    this._hullTri = new Uint32Array(n); // edge to adjacent triangle\n\n    this._hullHash = new Int32Array(this._hashSize).fill(-1); // angular edge hash\n    // temporary arrays for sorting points\n\n    this._ids = new Uint32Array(n);\n    this._dists = new Float64Array(n);\n    this.update();\n  }\n\n  _createClass(Delaunator, [{\n    key: \"update\",\n    value: function update() {\n      var coords = this.coords,\n          hullPrev = this._hullPrev,\n          hullNext = this._hullNext,\n          hullTri = this._hullTri,\n          hullHash = this._hullHash;\n      var n = coords.length >> 1; // populate an array of point indices; calculate input data bbox\n\n      var minX = Infinity;\n      var minY = Infinity;\n      var maxX = -Infinity;\n      var maxY = -Infinity;\n\n      for (var i = 0; i < n; i++) {\n        var x = coords[2 * i];\n        var y = coords[2 * i + 1];\n        if (x < minX) minX = x;\n        if (y < minY) minY = y;\n        if (x > maxX) maxX = x;\n        if (y > maxY) maxY = y;\n        this._ids[i] = i;\n      }\n\n      var cx = (minX + maxX) / 2;\n      var cy = (minY + maxY) / 2;\n      var minDist = Infinity;\n      var i0, i1, i2; // pick a seed point close to the center\n\n      for (var _i = 0; _i < n; _i++) {\n        var d = dist(cx, cy, coords[2 * _i], coords[2 * _i + 1]);\n\n        if (d < minDist) {\n          i0 = _i;\n          minDist = d;\n        }\n      }\n\n      var i0x = coords[2 * i0];\n      var i0y = coords[2 * i0 + 1];\n      minDist = Infinity; // find the point closest to the seed\n\n      for (var _i2 = 0; _i2 < n; _i2++) {\n        if (_i2 === i0) continue;\n\n        var _d = dist(i0x, i0y, coords[2 * _i2], coords[2 * _i2 + 1]);\n\n        if (_d < minDist && _d > 0) {\n          i1 = _i2;\n          minDist = _d;\n        }\n      }\n\n      var i1x = coords[2 * i1];\n      var i1y = coords[2 * i1 + 1];\n      var minRadius = Infinity; // find the third point which forms the smallest circumcircle with the first two\n\n      for (var _i3 = 0; _i3 < n; _i3++) {\n        if (_i3 === i0 || _i3 === i1) continue;\n        var r = circumradius(i0x, i0y, i1x, i1y, coords[2 * _i3], coords[2 * _i3 + 1]);\n\n        if (r < minRadius) {\n          i2 = _i3;\n          minRadius = r;\n        }\n      }\n\n      var i2x = coords[2 * i2];\n      var i2y = coords[2 * i2 + 1];\n\n      if (minRadius === Infinity) {\n        // order collinear points by dx (or dy if all x are identical)\n        // and return the list as a hull\n        for (var _i4 = 0; _i4 < n; _i4++) {\n          this._dists[_i4] = coords[2 * _i4] - coords[0] || coords[2 * _i4 + 1] - coords[1];\n        }\n\n        quicksort(this._ids, this._dists, 0, n - 1);\n        var hull = new Uint32Array(n);\n        var j = 0;\n\n        for (var _i5 = 0, d0 = -Infinity; _i5 < n; _i5++) {\n          var id = this._ids[_i5];\n\n          if (this._dists[id] > d0) {\n            hull[j++] = id;\n            d0 = this._dists[id];\n          }\n        }\n\n        this.hull = hull.subarray(0, j);\n        this.triangles = new Uint32Array(0);\n        this.halfedges = new Uint32Array(0);\n        return;\n      } // swap the order of the seed points for counter-clockwise orientation\n\n\n      if (orient(i0x, i0y, i1x, i1y, i2x, i2y)) {\n        var _i6 = i1;\n        var _x = i1x;\n        var _y = i1y;\n        i1 = i2;\n        i1x = i2x;\n        i1y = i2y;\n        i2 = _i6;\n        i2x = _x;\n        i2y = _y;\n      }\n\n      var center = circumcenter(i0x, i0y, i1x, i1y, i2x, i2y);\n      this._cx = center.x;\n      this._cy = center.y;\n\n      for (var _i7 = 0; _i7 < n; _i7++) {\n        this._dists[_i7] = dist(coords[2 * _i7], coords[2 * _i7 + 1], center.x, center.y);\n      } // sort the points by distance from the seed triangle circumcenter\n\n\n      quicksort(this._ids, this._dists, 0, n - 1); // set up the seed triangle as the starting hull\n\n      this._hullStart = i0;\n      var hullSize = 3;\n      hullNext[i0] = hullPrev[i2] = i1;\n      hullNext[i1] = hullPrev[i0] = i2;\n      hullNext[i2] = hullPrev[i1] = i0;\n      hullTri[i0] = 0;\n      hullTri[i1] = 1;\n      hullTri[i2] = 2;\n      hullHash.fill(-1);\n      hullHash[this._hashKey(i0x, i0y)] = i0;\n      hullHash[this._hashKey(i1x, i1y)] = i1;\n      hullHash[this._hashKey(i2x, i2y)] = i2;\n      this.trianglesLen = 0;\n\n      this._addTriangle(i0, i1, i2, -1, -1, -1);\n\n      for (var k = 0, xp, yp; k < this._ids.length; k++) {\n        var _i8 = this._ids[k];\n        var _x2 = coords[2 * _i8];\n        var _y2 = coords[2 * _i8 + 1]; // skip near-duplicate points\n\n        if (k > 0 && Math.abs(_x2 - xp) <= EPSILON && Math.abs(_y2 - yp) <= EPSILON) continue;\n        xp = _x2;\n        yp = _y2; // skip seed triangle points\n\n        if (_i8 === i0 || _i8 === i1 || _i8 === i2) continue; // find a visible edge on the convex hull using edge hash\n\n        var start = 0;\n\n        for (var _j = 0, key = this._hashKey(_x2, _y2); _j < this._hashSize; _j++) {\n          start = hullHash[(key + _j) % this._hashSize];\n          if (start !== -1 && start !== hullNext[start]) break;\n        }\n\n        start = hullPrev[start];\n        var e = start,\n            q = void 0;\n\n        while (q = hullNext[e], !orient(_x2, _y2, coords[2 * e], coords[2 * e + 1], coords[2 * q], coords[2 * q + 1])) {\n          e = q;\n\n          if (e === start) {\n            e = -1;\n            break;\n          }\n        }\n\n        if (e === -1) continue; // likely a near-duplicate point; skip it\n        // add the first triangle from the point\n\n        var t = this._addTriangle(e, _i8, hullNext[e], -1, -1, hullTri[e]); // recursively flip triangles from the point until they satisfy the Delaunay condition\n\n\n        hullTri[_i8] = this._legalize(t + 2);\n        hullTri[e] = t; // keep track of boundary triangles on the hull\n\n        hullSize++; // walk forward through the hull, adding more triangles and flipping recursively\n\n        var _n = hullNext[e];\n\n        while (q = hullNext[_n], orient(_x2, _y2, coords[2 * _n], coords[2 * _n + 1], coords[2 * q], coords[2 * q + 1])) {\n          t = this._addTriangle(_n, _i8, q, hullTri[_i8], -1, hullTri[_n]);\n          hullTri[_i8] = this._legalize(t + 2);\n          hullNext[_n] = _n; // mark as removed\n\n          hullSize--;\n          _n = q;\n        } // walk backward from the other side, adding more triangles and flipping\n\n\n        if (e === start) {\n          while (q = hullPrev[e], orient(_x2, _y2, coords[2 * q], coords[2 * q + 1], coords[2 * e], coords[2 * e + 1])) {\n            t = this._addTriangle(q, _i8, e, -1, hullTri[e], hullTri[q]);\n\n            this._legalize(t + 2);\n\n            hullTri[q] = t;\n            hullNext[e] = e; // mark as removed\n\n            hullSize--;\n            e = q;\n          }\n        } // update the hull indices\n\n\n        this._hullStart = hullPrev[_i8] = e;\n        hullNext[e] = hullPrev[_n] = _i8;\n        hullNext[_i8] = _n; // save the two new edges in the hash table\n\n        hullHash[this._hashKey(_x2, _y2)] = _i8;\n        hullHash[this._hashKey(coords[2 * e], coords[2 * e + 1])] = e;\n      }\n\n      this.hull = new Uint32Array(hullSize);\n\n      for (var _i9 = 0, _e = this._hullStart; _i9 < hullSize; _i9++) {\n        this.hull[_i9] = _e;\n        _e = hullNext[_e];\n      } // trim typed triangle mesh arrays\n\n\n      this.triangles = this._triangles.subarray(0, this.trianglesLen);\n      this.halfedges = this._halfedges.subarray(0, this.trianglesLen);\n    }\n  }, {\n    key: \"_hashKey\",\n    value: function _hashKey(x, y) {\n      return Math.floor(pseudoAngle(x - this._cx, y - this._cy) * this._hashSize) % this._hashSize;\n    }\n  }, {\n    key: \"_legalize\",\n    value: function _legalize(a) {\n      var triangles = this._triangles,\n          halfedges = this._halfedges,\n          coords = this.coords;\n      var i = 0;\n      var ar = 0; // recursion eliminated with a fixed-size stack\n\n      while (true) {\n        var b = halfedges[a];\n        /* if the pair of triangles doesn't satisfy the Delaunay condition\n         * (p1 is inside the circumcircle of [p0, pl, pr]), flip them,\n         * then do the same check/flip recursively for the new pair of triangles\n         *\n         *           pl                    pl\n         *          /||\\                  /  \\\n         *       al/ || \\bl            al/    \\a\n         *        /  ||  \\              /      \\\n         *       /  a||b  \\    flip    /___ar___\\\n         *     p0\\   ||   /p1   =>   p0\\---bl---/p1\n         *        \\  ||  /              \\      /\n         *       ar\\ || /br             b\\    /br\n         *          \\||/                  \\  /\n         *           pr                    pr\n         */\n\n        var a0 = a - a % 3;\n        ar = a0 + (a + 2) % 3;\n\n        if (b === -1) {\n          // convex hull edge\n          if (i === 0) break;\n          a = EDGE_STACK[--i];\n          continue;\n        }\n\n        var b0 = b - b % 3;\n        var al = a0 + (a + 1) % 3;\n        var bl = b0 + (b + 2) % 3;\n        var p0 = triangles[ar];\n        var pr = triangles[a];\n        var pl = triangles[al];\n        var p1 = triangles[bl];\n        var illegal = inCircle(coords[2 * p0], coords[2 * p0 + 1], coords[2 * pr], coords[2 * pr + 1], coords[2 * pl], coords[2 * pl + 1], coords[2 * p1], coords[2 * p1 + 1]);\n\n        if (illegal) {\n          triangles[a] = p1;\n          triangles[b] = p0;\n          var hbl = halfedges[bl]; // edge swapped on the other side of the hull (rare); fix the halfedge reference\n\n          if (hbl === -1) {\n            var e = this._hullStart;\n\n            do {\n              if (this._hullTri[e] === bl) {\n                this._hullTri[e] = a;\n                break;\n              }\n\n              e = this._hullPrev[e];\n            } while (e !== this._hullStart);\n          }\n\n          this._link(a, hbl);\n\n          this._link(b, halfedges[ar]);\n\n          this._link(ar, bl);\n\n          var br = b0 + (b + 1) % 3; // don't worry about hitting the cap: it can only happen on extremely degenerate input\n\n          if (i < EDGE_STACK.length) {\n            EDGE_STACK[i++] = br;\n          }\n        } else {\n          if (i === 0) break;\n          a = EDGE_STACK[--i];\n        }\n      }\n\n      return ar;\n    }\n  }, {\n    key: \"_link\",\n    value: function _link(a, b) {\n      this._halfedges[a] = b;\n      if (b !== -1) this._halfedges[b] = a;\n    } // add a new triangle given vertex indices and adjacent half-edge ids\n\n  }, {\n    key: \"_addTriangle\",\n    value: function _addTriangle(i0, i1, i2, a, b, c) {\n      var t = this.trianglesLen;\n      this._triangles[t] = i0;\n      this._triangles[t + 1] = i1;\n      this._triangles[t + 2] = i2;\n\n      this._link(t, a);\n\n      this._link(t + 1, b);\n\n      this._link(t + 2, c);\n\n      this.trianglesLen += 3;\n      return t;\n    }\n  }]);\n\n  return Delaunator;\n}(); // monotonically increases with real angle, but doesn't need expensive trigonometry\n\n\nexport { Delaunator as default };\n\nfunction pseudoAngle(dx, dy) {\n  var p = dx / (Math.abs(dx) + Math.abs(dy));\n  return (dy > 0 ? 3 - p : 1 + p) / 4; // [0..1]\n}\n\nfunction dist(ax, ay, bx, by) {\n  var dx = ax - bx;\n  var dy = ay - by;\n  return dx * dx + dy * dy;\n}\n\nfunction orient(px, py, qx, qy, rx, ry) {\n  return (qy - py) * (rx - qx) - (qx - px) * (ry - qy) < 0;\n}\n\nfunction inCircle(ax, ay, bx, by, cx, cy, px, py) {\n  var dx = ax - px;\n  var dy = ay - py;\n  var ex = bx - px;\n  var ey = by - py;\n  var fx = cx - px;\n  var fy = cy - py;\n  var ap = dx * dx + dy * dy;\n  var bp = ex * ex + ey * ey;\n  var cp = fx * fx + fy * fy;\n  return dx * (ey * cp - bp * fy) - dy * (ex * cp - bp * fx) + ap * (ex * fy - ey * fx) < 0;\n}\n\nfunction circumradius(ax, ay, bx, by, cx, cy) {\n  var dx = bx - ax;\n  var dy = by - ay;\n  var ex = cx - ax;\n  var ey = cy - ay;\n  var bl = dx * dx + dy * dy;\n  var cl = ex * ex + ey * ey;\n  var d = 0.5 / (dx * ey - dy * ex);\n  var x = (ey * bl - dy * cl) * d;\n  var y = (dx * cl - ex * bl) * d;\n  return x * x + y * y;\n}\n\nfunction circumcenter(ax, ay, bx, by, cx, cy) {\n  var dx = bx - ax;\n  var dy = by - ay;\n  var ex = cx - ax;\n  var ey = cy - ay;\n  var bl = dx * dx + dy * dy;\n  var cl = ex * ex + ey * ey;\n  var d = 0.5 / (dx * ey - dy * ex);\n  var x = ax + (ey * bl - dy * cl) * d;\n  var y = ay + (dx * cl - ex * bl) * d;\n  return {\n    x: x,\n    y: y\n  };\n}\n\nfunction quicksort(ids, dists, left, right) {\n  if (right - left <= 20) {\n    for (var i = left + 1; i <= right; i++) {\n      var temp = ids[i];\n      var tempDist = dists[temp];\n      var j = i - 1;\n\n      while (j >= left && dists[ids[j]] > tempDist) {\n        ids[j + 1] = ids[j--];\n      }\n\n      ids[j + 1] = temp;\n    }\n  } else {\n    var median = left + right >> 1;\n\n    var _i10 = left + 1;\n\n    var _j2 = right;\n    swap(ids, median, _i10);\n    if (dists[ids[left]] > dists[ids[right]]) swap(ids, left, right);\n    if (dists[ids[_i10]] > dists[ids[right]]) swap(ids, _i10, right);\n    if (dists[ids[left]] > dists[ids[_i10]]) swap(ids, left, _i10);\n    var _temp = ids[_i10];\n    var _tempDist = dists[_temp];\n\n    while (true) {\n      do {\n        _i10++;\n      } while (dists[ids[_i10]] < _tempDist);\n\n      do {\n        _j2--;\n      } while (dists[ids[_j2]] > _tempDist);\n\n      if (_j2 < _i10) break;\n      swap(ids, _i10, _j2);\n    }\n\n    ids[left + 1] = ids[_j2];\n    ids[_j2] = _temp;\n\n    if (right - _i10 + 1 >= _j2 - left) {\n      quicksort(ids, dists, _i10, right);\n      quicksort(ids, dists, left, _j2 - 1);\n    } else {\n      quicksort(ids, dists, left, _j2 - 1);\n      quicksort(ids, dists, _i10, right);\n    }\n  }\n}\n\nfunction swap(arr, i, j) {\n  var tmp = arr[i];\n  arr[i] = arr[j];\n  arr[j] = tmp;\n}\n\nfunction defaultGetX(p) {\n  return p[0];\n}\n\nfunction defaultGetY(p) {\n  return p[1];\n}","import _classCallCheck from \"/Users/raphael.benitte/projects/plouc/nivo/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/raphael.benitte/projects/plouc/nivo/node_modules/@babel/runtime/helpers/esm/createClass\";\nvar epsilon = 1e-6;\n\nvar Path =\n/*#__PURE__*/\nfunction () {\n  function Path() {\n    _classCallCheck(this, Path);\n\n    this._x0 = this._y0 = // start of current subpath\n    this._x1 = this._y1 = null; // end of current subpath\n\n    this._ = \"\";\n  }\n\n  _createClass(Path, [{\n    key: \"moveTo\",\n    value: function moveTo(x, y) {\n      this._ += \"M\".concat(this._x0 = this._x1 = +x, \",\").concat(this._y0 = this._y1 = +y);\n    }\n  }, {\n    key: \"closePath\",\n    value: function closePath() {\n      if (this._x1 !== null) {\n        this._x1 = this._x0, this._y1 = this._y0;\n        this._ += \"Z\";\n      }\n    }\n  }, {\n    key: \"lineTo\",\n    value: function lineTo(x, y) {\n      this._ += \"L\".concat(this._x1 = +x, \",\").concat(this._y1 = +y);\n    }\n  }, {\n    key: \"arc\",\n    value: function arc(x, y, r) {\n      x = +x, y = +y, r = +r;\n      var x0 = x + r;\n      var y0 = y;\n      if (r < 0) throw new Error(\"negative radius\");\n      if (this._x1 === null) this._ += \"M\".concat(x0, \",\").concat(y0);else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) this._ += \"L\" + x0 + \",\" + y0;\n      if (!r) return;\n      this._ += \"A\".concat(r, \",\").concat(r, \",0,1,1,\").concat(x - r, \",\").concat(y, \"A\").concat(r, \",\").concat(r, \",0,1,1,\").concat(this._x1 = x0, \",\").concat(this._y1 = y0);\n    }\n  }, {\n    key: \"rect\",\n    value: function rect(x, y, w, h) {\n      this._ += \"M\".concat(this._x0 = this._x1 = +x, \",\").concat(this._y0 = this._y1 = +y, \"h\").concat(+w, \"v\").concat(+h, \"h\").concat(-w, \"Z\");\n    }\n  }, {\n    key: \"value\",\n    value: function value() {\n      return this._ || null;\n    }\n  }]);\n\n  return Path;\n}();\n\nexport { Path as default };","import _classCallCheck from \"/Users/raphael.benitte/projects/plouc/nivo/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/raphael.benitte/projects/plouc/nivo/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nvar Polygon =\n/*#__PURE__*/\nfunction () {\n  function Polygon() {\n    _classCallCheck(this, Polygon);\n\n    this._ = [];\n  }\n\n  _createClass(Polygon, [{\n    key: \"moveTo\",\n    value: function moveTo(x, y) {\n      this._.push([x, y]);\n    }\n  }, {\n    key: \"closePath\",\n    value: function closePath() {\n      this._.push(this._[0].slice());\n    }\n  }, {\n    key: \"lineTo\",\n    value: function lineTo(x, y) {\n      this._.push([x, y]);\n    }\n  }, {\n    key: \"value\",\n    value: function value() {\n      return this._.length ? this._ : null;\n    }\n  }]);\n\n  return Polygon;\n}();\n\nexport { Polygon as default };","import \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.array.from\";\nimport _regeneratorRuntime from \"/Users/raphael.benitte/projects/plouc/nivo/node_modules/@babel/runtime/regenerator\";\nimport \"regenerator-runtime/runtime\";\nimport \"core-js/modules/es6.typed.float64-array\";\nimport _slicedToArray from \"/Users/raphael.benitte/projects/plouc/nivo/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"/Users/raphael.benitte/projects/plouc/nivo/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/raphael.benitte/projects/plouc/nivo/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport Path from \"./path.js\";\nimport Polygon from \"./polygon.js\";\n\nvar Voronoi =\n/*#__PURE__*/\nfunction () {\n  function Voronoi(delaunay) {\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [0, 0, 960, 500],\n        _ref2 = _slicedToArray(_ref, 4),\n        xmin = _ref2[0],\n        ymin = _ref2[1],\n        xmax = _ref2[2],\n        ymax = _ref2[3];\n\n    _classCallCheck(this, Voronoi);\n\n    if (!((xmax = +xmax) >= (xmin = +xmin)) || !((ymax = +ymax) >= (ymin = +ymin))) throw new Error(\"invalid bounds\");\n    this.delaunay = delaunay;\n    this._circumcenters = new Float64Array(delaunay.points.length * 2);\n    this.vectors = new Float64Array(delaunay.points.length * 2);\n    this.xmax = xmax, this.xmin = xmin;\n    this.ymax = ymax, this.ymin = ymin;\n\n    this._init();\n  }\n\n  _createClass(Voronoi, [{\n    key: \"update\",\n    value: function update() {\n      this.delaunay.update();\n\n      this._init();\n\n      return this;\n    }\n  }, {\n    key: \"_init\",\n    value: function _init() {\n      var _this$delaunay = this.delaunay,\n          points = _this$delaunay.points,\n          hull = _this$delaunay.hull,\n          triangles = _this$delaunay.triangles,\n          vectors = this.vectors; // Compute circumcenters.\n\n      var circumcenters = this.circumcenters = this._circumcenters.subarray(0, triangles.length / 3 * 2);\n\n      for (var i = 0, j = 0, n = triangles.length; i < n; i += 3, j += 2) {\n        var t1 = triangles[i] * 2;\n        var t2 = triangles[i + 1] * 2;\n        var t3 = triangles[i + 2] * 2;\n        var _x = points[t1];\n        var _y = points[t1 + 1];\n        var x2 = points[t2];\n        var y2 = points[t2 + 1];\n        var x3 = points[t3];\n        var y3 = points[t3 + 1];\n        var a2 = _x - x2;\n        var a3 = _x - x3;\n        var b2 = _y - y2;\n        var b3 = _y - y3;\n        var d1 = _x * _x + _y * _y;\n        var d2 = d1 - x2 * x2 - y2 * y2;\n        var d3 = d1 - x3 * x3 - y3 * y3;\n        var ab = (a3 * b2 - a2 * b3) * 2; // degenerate case (2 points)\n\n        if (!ab) {\n          circumcenters[j] = (_x + x3) / 2 + 1e8 * b3;\n          circumcenters[j + 1] = (_y + y3) / 2 - 1e8 * a3;\n        } else {\n          circumcenters[j] = (b2 * d3 - b3 * d2) / ab;\n          circumcenters[j + 1] = (a3 * d2 - a2 * d3) / ab;\n        }\n      } // Compute exterior cell rays.\n\n\n      var h = hull[hull.length - 1];\n      var p0,\n          p1 = h * 4;\n      var x0,\n          x1 = points[2 * h];\n      var y0,\n          y1 = points[2 * h + 1];\n\n      for (var _i = 0; _i < hull.length; ++_i) {\n        h = hull[_i];\n        p0 = p1, x0 = x1, y0 = y1;\n        p1 = h * 4, x1 = points[2 * h], y1 = points[2 * h + 1];\n        vectors[p0 + 2] = vectors[p1] = y0 - y1;\n        vectors[p0 + 3] = vectors[p1 + 1] = x1 - x0;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render(context) {\n      var buffer = context == null ? context = new Path() : undefined;\n      var _this$delaunay2 = this.delaunay,\n          halfedges = _this$delaunay2.halfedges,\n          inedges = _this$delaunay2.inedges,\n          hull = _this$delaunay2.hull,\n          circumcenters = this.circumcenters,\n          vectors = this.vectors;\n      if (hull.length <= 1) return null;\n\n      for (var i = 0, n = halfedges.length; i < n; ++i) {\n        var j = halfedges[i];\n        if (j < i) continue;\n        var ti = Math.floor(i / 3) * 2;\n        var tj = Math.floor(j / 3) * 2;\n        var xi = circumcenters[ti];\n        var yi = circumcenters[ti + 1];\n        var xj = circumcenters[tj];\n        var yj = circumcenters[tj + 1];\n\n        this._renderSegment(xi, yi, xj, yj, context);\n      }\n\n      var h0,\n          h1 = hull[hull.length - 1];\n\n      for (var _i2 = 0; _i2 < hull.length; ++_i2) {\n        h0 = h1, h1 = hull[_i2];\n        var t = Math.floor(inedges[h1] / 3) * 2;\n        var x = circumcenters[t];\n        var y = circumcenters[t + 1];\n        var v = h0 * 4;\n\n        var p = this._project(x, y, vectors[v + 2], vectors[v + 3]);\n\n        if (p) this._renderSegment(x, y, p[0], p[1], context);\n      }\n\n      return buffer && buffer.value();\n    }\n  }, {\n    key: \"renderBounds\",\n    value: function renderBounds(context) {\n      var buffer = context == null ? context = new Path() : undefined;\n      context.rect(this.xmin, this.ymin, this.xmax - this.xmin, this.ymax - this.ymin);\n      return buffer && buffer.value();\n    }\n  }, {\n    key: \"renderCell\",\n    value: function renderCell(i, context) {\n      var buffer = context == null ? context = new Path() : undefined;\n\n      var points = this._clip(i);\n\n      if (points === null) return;\n      context.moveTo(points[0], points[1]);\n\n      for (var _i3 = 2, n = points.length; _i3 < n; _i3 += 2) {\n        context.lineTo(points[_i3], points[_i3 + 1]);\n      }\n\n      context.closePath();\n      return buffer && buffer.value();\n    }\n  }, {\n    key: \"cellPolygons\",\n    value:\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function cellPolygons() {\n      var points, i, n, cell;\n      return _regeneratorRuntime.wrap(function cellPolygons$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              points = this.delaunay.points;\n              i = 0, n = points.length / 2;\n\n            case 2:\n              if (!(i < n)) {\n                _context.next = 10;\n                break;\n              }\n\n              cell = this.cellPolygon(i);\n\n              if (!cell) {\n                _context.next = 7;\n                break;\n              }\n\n              _context.next = 7;\n              return cell;\n\n            case 7:\n              ++i;\n              _context.next = 2;\n              break;\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, cellPolygons, this);\n    })\n  }, {\n    key: \"cellPolygon\",\n    value: function cellPolygon(i) {\n      var polygon = new Polygon();\n      this.renderCell(i, polygon);\n      return polygon.value();\n    }\n  }, {\n    key: \"_renderSegment\",\n    value: function _renderSegment(x0, y0, x1, y1, context) {\n      var S;\n\n      var c0 = this._regioncode(x0, y0);\n\n      var c1 = this._regioncode(x1, y1);\n\n      if (c0 === 0 && c1 === 0) {\n        context.moveTo(x0, y0);\n        context.lineTo(x1, y1);\n      } else if (S = this._clipSegment(x0, y0, x1, y1, c0, c1)) {\n        context.moveTo(S[0], S[1]);\n        context.lineTo(S[2], S[3]);\n      }\n    }\n  }, {\n    key: \"contains\",\n    value: function contains(i, x, y) {\n      if ((x = +x, x !== x) || (y = +y, y !== y)) return false;\n      return this.delaunay._step(i, x, y) === i;\n    }\n  }, {\n    key: \"_cell\",\n    value: function _cell(i) {\n      var circumcenters = this.circumcenters,\n          _this$delaunay3 = this.delaunay,\n          inedges = _this$delaunay3.inedges,\n          halfedges = _this$delaunay3.halfedges,\n          triangles = _this$delaunay3.triangles;\n      var e0 = inedges[i];\n      if (e0 === -1) return null; // coincident point\n\n      var points = [];\n      var e = e0;\n\n      do {\n        var t = Math.floor(e / 3);\n        points.push(circumcenters[t * 2], circumcenters[t * 2 + 1]);\n        e = e % 3 === 2 ? e - 2 : e + 1;\n        if (triangles[e] !== i) break; // bad triangulation\n\n        e = halfedges[e];\n      } while (e !== e0 && e !== -1);\n\n      return points;\n    }\n  }, {\n    key: \"_clip\",\n    value: function _clip(i) {\n      // degenerate case (1 valid point: return the box)\n      if (i === 0 && this.delaunay.hull.length === 1) {\n        return [this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax, this.xmin, this.ymin];\n      }\n\n      var points = this._cell(i);\n\n      if (points === null) return null;\n      var V = this.vectors;\n      var v = i * 4;\n      return V[v] || V[v + 1] ? this._clipInfinite(i, points, V[v], V[v + 1], V[v + 2], V[v + 3]) : this._clipFinite(i, points);\n    }\n  }, {\n    key: \"_clipFinite\",\n    value: function _clipFinite(i, points) {\n      var n = points.length;\n      var P = null;\n      var x0,\n          y0,\n          x1 = points[n - 2],\n          y1 = points[n - 1];\n\n      var c0,\n          c1 = this._regioncode(x1, y1);\n\n      var e0, e1;\n\n      for (var j = 0; j < n; j += 2) {\n        x0 = x1, y0 = y1, x1 = points[j], y1 = points[j + 1];\n        c0 = c1, c1 = this._regioncode(x1, y1);\n\n        if (c0 === 0 && c1 === 0) {\n          e0 = e1, e1 = 0;\n          if (P) P.push(x1, y1);else P = [x1, y1];\n        } else {\n          var S = void 0,\n              sx0 = void 0,\n              sy0 = void 0,\n              sx1 = void 0,\n              sy1 = void 0;\n\n          if (c0 === 0) {\n            if ((S = this._clipSegment(x0, y0, x1, y1, c0, c1)) === null) continue;\n            var _S = S;\n\n            var _S2 = _slicedToArray(_S, 4);\n\n            sx0 = _S2[0];\n            sy0 = _S2[1];\n            sx1 = _S2[2];\n            sy1 = _S2[3];\n          } else {\n            if ((S = this._clipSegment(x1, y1, x0, y0, c1, c0)) === null) continue;\n            var _S3 = S;\n\n            var _S4 = _slicedToArray(_S3, 4);\n\n            sx1 = _S4[0];\n            sy1 = _S4[1];\n            sx0 = _S4[2];\n            sy0 = _S4[3];\n            e0 = e1, e1 = this._edgecode(sx0, sy0);\n            if (e0 && e1) this._edge(i, e0, e1, P, P.length);\n            if (P) P.push(sx0, sy0);else P = [sx0, sy0];\n          }\n\n          e0 = e1, e1 = this._edgecode(sx1, sy1);\n          if (e0 && e1) this._edge(i, e0, e1, P, P.length);\n          if (P) P.push(sx1, sy1);else P = [sx1, sy1];\n        }\n      }\n\n      if (P) {\n        e0 = e1, e1 = this._edgecode(P[0], P[1]);\n        if (e0 && e1) this._edge(i, e0, e1, P, P.length);\n      } else if (this.contains(i, (this.xmin + this.xmax) / 2, (this.ymin + this.ymax) / 2)) {\n        return [this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax, this.xmin, this.ymin];\n      }\n\n      return P;\n    }\n  }, {\n    key: \"_clipSegment\",\n    value: function _clipSegment(x0, y0, x1, y1, c0, c1) {\n      while (true) {\n        if (c0 === 0 && c1 === 0) return [x0, y0, x1, y1];\n        if (c0 & c1) return null;\n        var x = void 0,\n            y = void 0,\n            c = c0 || c1;\n        if (c & 8) x = x0 + (x1 - x0) * (this.ymax - y0) / (y1 - y0), y = this.ymax;else if (c & 4) x = x0 + (x1 - x0) * (this.ymin - y0) / (y1 - y0), y = this.ymin;else if (c & 2) y = y0 + (y1 - y0) * (this.xmax - x0) / (x1 - x0), x = this.xmax;else y = y0 + (y1 - y0) * (this.xmin - x0) / (x1 - x0), x = this.xmin;\n        if (c0) x0 = x, y0 = y, c0 = this._regioncode(x0, y0);else x1 = x, y1 = y, c1 = this._regioncode(x1, y1);\n      }\n    }\n  }, {\n    key: \"_clipInfinite\",\n    value: function _clipInfinite(i, points, vx0, vy0, vxn, vyn) {\n      var P = Array.from(points),\n          p;\n      if (p = this._project(P[0], P[1], vx0, vy0)) P.unshift(p[0], p[1]);\n      if (p = this._project(P[P.length - 2], P[P.length - 1], vxn, vyn)) P.push(p[0], p[1]);\n\n      if (P = this._clipFinite(i, P)) {\n        for (var j = 0, n = P.length, c0, c1 = this._edgecode(P[n - 2], P[n - 1]); j < n; j += 2) {\n          c0 = c1, c1 = this._edgecode(P[j], P[j + 1]);\n          if (c0 && c1) j = this._edge(i, c0, c1, P, j), n = P.length;\n        }\n      } else if (this.contains(i, (this.xmin + this.xmax) / 2, (this.ymin + this.ymax) / 2)) {\n        P = [this.xmin, this.ymin, this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax];\n      }\n\n      return P;\n    }\n  }, {\n    key: \"_edge\",\n    value: function _edge(i, e0, e1, P, j) {\n      while (e0 !== e1) {\n        var x = void 0,\n            y = void 0;\n\n        switch (e0) {\n          case 5:\n            e0 = 4;\n            continue;\n          // top-left\n\n          case 4:\n            e0 = 6, x = this.xmax, y = this.ymin;\n            break;\n          // top\n\n          case 6:\n            e0 = 2;\n            continue;\n          // top-right\n\n          case 2:\n            e0 = 10, x = this.xmax, y = this.ymax;\n            break;\n          // right\n\n          case 10:\n            e0 = 8;\n            continue;\n          // bottom-right\n\n          case 8:\n            e0 = 9, x = this.xmin, y = this.ymax;\n            break;\n          // bottom\n\n          case 9:\n            e0 = 1;\n            continue;\n          // bottom-left\n\n          case 1:\n            e0 = 5, x = this.xmin, y = this.ymin;\n            break;\n          // left\n        }\n\n        if ((P[j] !== x || P[j + 1] !== y) && this.contains(i, x, y)) {\n          P.splice(j, 0, x, y), j += 2;\n        }\n      }\n\n      return j;\n    }\n  }, {\n    key: \"_project\",\n    value: function _project(x0, y0, vx, vy) {\n      var t = Infinity,\n          c,\n          x,\n          y;\n\n      if (vy < 0) {\n        // top\n        if (y0 <= this.ymin) return null;\n        if ((c = (this.ymin - y0) / vy) < t) y = this.ymin, x = x0 + (t = c) * vx;\n      } else if (vy > 0) {\n        // bottom\n        if (y0 >= this.ymax) return null;\n        if ((c = (this.ymax - y0) / vy) < t) y = this.ymax, x = x0 + (t = c) * vx;\n      }\n\n      if (vx > 0) {\n        // right\n        if (x0 >= this.xmax) return null;\n        if ((c = (this.xmax - x0) / vx) < t) x = this.xmax, y = y0 + (t = c) * vy;\n      } else if (vx < 0) {\n        // left\n        if (x0 <= this.xmin) return null;\n        if ((c = (this.xmin - x0) / vx) < t) x = this.xmin, y = y0 + (t = c) * vy;\n      }\n\n      return [x, y];\n    }\n  }, {\n    key: \"_edgecode\",\n    value: function _edgecode(x, y) {\n      return (x === this.xmin ? 1 : x === this.xmax ? 2 : 0) | (y === this.ymin ? 4 : y === this.ymax ? 8 : 0);\n    }\n  }, {\n    key: \"_regioncode\",\n    value: function _regioncode(x, y) {\n      return (x < this.xmin ? 1 : x > this.xmax ? 2 : 0) | (y < this.ymin ? 4 : y > this.ymax ? 8 : 0);\n    }\n  }]);\n\n  return Voronoi;\n}();\n\nexport { Voronoi as default };","import \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.typed.float64-array\";\nimport _regeneratorRuntime from \"/Users/raphael.benitte/projects/plouc/nivo/node_modules/@babel/runtime/regenerator\";\nimport \"core-js/modules/es6.array.index-of\";\nimport \"regenerator-runtime/runtime\";\nimport \"core-js/modules/es6.array.fill\";\nimport \"core-js/modules/es6.array.sort\";\nimport \"core-js/modules/es6.typed.int32-array\";\nimport _classCallCheck from \"/Users/raphael.benitte/projects/plouc/nivo/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/raphael.benitte/projects/plouc/nivo/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nvar _marked =\n/*#__PURE__*/\n_regeneratorRuntime.mark(flatIterable);\n\nimport Delaunator from \"delaunator\";\nimport Path from \"./path.js\";\nimport Polygon from \"./polygon.js\";\nimport Voronoi from \"./voronoi.js\";\nvar tau = 2 * Math.PI;\n\nfunction pointX(p) {\n  return p[0];\n}\n\nfunction pointY(p) {\n  return p[1];\n}\n\nfunction area(hull, points) {\n  var n = hull.length,\n      x0,\n      y0,\n      x1 = points[2 * hull[n - 1]],\n      y1 = points[2 * hull[n - 1] + 1],\n      area = 0;\n\n  for (var i = 0; i < n; i++) {\n    x0 = x1, y0 = y1;\n    x1 = points[2 * hull[i]];\n    y1 = points[2 * hull[i] + 1];\n    area += y0 * x1 - x0 * y1;\n  }\n\n  return area / 2;\n}\n\nfunction jitter(x, y, r) {\n  return [x + Math.sin(x + y) * r, y + Math.cos(x - y) * r];\n}\n\nvar Delaunay =\n/*#__PURE__*/\nfunction () {\n  function Delaunay(points) {\n    _classCallCheck(this, Delaunay);\n\n    this._delaunator = new Delaunator(points);\n    this.inedges = new Int32Array(points.length / 2);\n    this._hullIndex = new Int32Array(points.length / 2);\n    this.points = this._delaunator.coords;\n\n    this._init();\n  }\n\n  _createClass(Delaunay, [{\n    key: \"update\",\n    value: function update() {\n      this._delaunator.update();\n\n      this._init();\n\n      return this;\n    }\n  }, {\n    key: \"_init\",\n    value: function _init() {\n      var d = this._delaunator,\n          points = this.points; // check for collinear\n\n      if (d.hull && d.hull.length > 2 && area(d.hull, points) < 1e-10) {\n        this.collinear = Int32Array.from({\n          length: points.length / 2\n        }, function (_, i) {\n          return i;\n        }).sort(function (i, j) {\n          return points[2 * i] - points[2 * j] || points[2 * i + 1] - points[2 * j + 1];\n        }); // for exact neighbors\n\n        var e = this.collinear[0],\n            f = this.collinear[this.collinear.length - 1],\n            bounds = [points[2 * e], points[2 * e + 1], points[2 * f], points[2 * f + 1]],\n            r = 1e-8 * Math.sqrt(Math.pow(bounds[3] - bounds[1], 2) + Math.pow(bounds[2] - bounds[0], 2));\n\n        for (var i = 0, n = points.length / 2; i < n; ++i) {\n          var p = jitter(points[2 * i], points[2 * i + 1], r);\n          points[2 * i] = p[0];\n          points[2 * i + 1] = p[1];\n        }\n\n        this._delaunator = new Delaunator(points);\n      } else {\n        delete this.collinear;\n      }\n\n      var halfedges = this.halfedges = this._delaunator.halfedges;\n      var hull = this.hull = this._delaunator.hull;\n      var triangles = this.triangles = this._delaunator.triangles;\n      var inedges = this.inedges.fill(-1);\n\n      var hullIndex = this._hullIndex.fill(-1); // Compute an index from each point to an (arbitrary) incoming halfedge\n      // Used to give the first neighbor of each point; for this reason,\n      // on the hull we give priority to exterior halfedges\n\n\n      for (var _e = 0, _n = halfedges.length; _e < _n; ++_e) {\n        var _p = triangles[_e % 3 === 2 ? _e - 2 : _e + 1];\n        if (halfedges[_e] === -1 || inedges[_p] === -1) inedges[_p] = _e;\n      }\n\n      for (var _i = 0, _n2 = hull.length; _i < _n2; ++_i) {\n        hullIndex[hull[_i]] = _i;\n      } // degenerate case: 1 or 2 (distinct) points\n\n\n      if (hull.length <= 2 && hull.length > 0) {\n        this.triangles = new Int32Array(3).fill(-1);\n        this.halfedges = new Int32Array(3).fill(-1);\n        this.triangles[0] = hull[0];\n        this.triangles[1] = hull[1];\n        this.triangles[2] = hull[1];\n        inedges[hull[0]] = 1;\n        if (hull.length === 2) inedges[hull[1]] = 0;\n      }\n    }\n  }, {\n    key: \"voronoi\",\n    value: function voronoi(bounds) {\n      return new Voronoi(this, bounds);\n    }\n  }, {\n    key: \"neighbors\",\n    value:\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function neighbors(i) {\n      var inedges, hull, _hullIndex, halfedges, triangles, l, e0, e, p0, p;\n\n      return _regeneratorRuntime.wrap(function neighbors$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              inedges = this.inedges, hull = this.hull, _hullIndex = this._hullIndex, halfedges = this.halfedges, triangles = this.triangles; // degenerate case with several collinear points\n\n              if (!this.collinear) {\n                _context.next = 10;\n                break;\n              }\n\n              l = this.collinear.indexOf(i);\n\n              if (!(l > 0)) {\n                _context.next = 6;\n                break;\n              }\n\n              _context.next = 6;\n              return this.collinear[l - 1];\n\n            case 6:\n              if (!(l < this.collinear.length - 1)) {\n                _context.next = 9;\n                break;\n              }\n\n              _context.next = 9;\n              return this.collinear[l + 1];\n\n            case 9:\n              return _context.abrupt(\"return\");\n\n            case 10:\n              e0 = inedges[i];\n\n              if (!(e0 === -1)) {\n                _context.next = 13;\n                break;\n              }\n\n              return _context.abrupt(\"return\");\n\n            case 13:\n              // coincident point\n              e = e0, p0 = -1;\n\n            case 14:\n              _context.next = 16;\n              return p0 = triangles[e];\n\n            case 16:\n              e = e % 3 === 2 ? e - 2 : e + 1;\n\n              if (!(triangles[e] !== i)) {\n                _context.next = 19;\n                break;\n              }\n\n              return _context.abrupt(\"return\");\n\n            case 19:\n              // bad triangulation\n              e = halfedges[e];\n\n              if (!(e === -1)) {\n                _context.next = 26;\n                break;\n              }\n\n              p = hull[(_hullIndex[i] + 1) % hull.length];\n\n              if (!(p !== p0)) {\n                _context.next = 25;\n                break;\n              }\n\n              _context.next = 25;\n              return p;\n\n            case 25:\n              return _context.abrupt(\"return\");\n\n            case 26:\n              if (e !== e0) {\n                _context.next = 14;\n                break;\n              }\n\n            case 27:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, neighbors, this);\n    })\n  }, {\n    key: \"find\",\n    value: function find(x, y) {\n      var i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n      if ((x = +x, x !== x) || (y = +y, y !== y)) return -1;\n      var i0 = i;\n      var c;\n\n      while ((c = this._step(i, x, y)) >= 0 && c !== i && c !== i0) {\n        i = c;\n      }\n\n      return c;\n    }\n  }, {\n    key: \"_step\",\n    value: function _step(i, x, y) {\n      var inedges = this.inedges,\n          hull = this.hull,\n          _hullIndex = this._hullIndex,\n          halfedges = this.halfedges,\n          triangles = this.triangles,\n          points = this.points;\n      if (inedges[i] === -1 || !points.length) return (i + 1) % (points.length >> 1);\n      var c = i;\n      var dc = Math.pow(x - points[i * 2], 2) + Math.pow(y - points[i * 2 + 1], 2);\n      var e0 = inedges[i];\n      var e = e0;\n\n      do {\n        var t = triangles[e];\n        var dt = Math.pow(x - points[t * 2], 2) + Math.pow(y - points[t * 2 + 1], 2);\n        if (dt < dc) dc = dt, c = t;\n        e = e % 3 === 2 ? e - 2 : e + 1;\n        if (triangles[e] !== i) break; // bad triangulation\n\n        e = halfedges[e];\n\n        if (e === -1) {\n          e = hull[(_hullIndex[i] + 1) % hull.length];\n\n          if (e !== t) {\n            if (Math.pow(x - points[e * 2], 2) + Math.pow(y - points[e * 2 + 1], 2) < dc) return e;\n          }\n\n          break;\n        }\n      } while (e !== e0);\n\n      return c;\n    }\n  }, {\n    key: \"render\",\n    value: function render(context) {\n      var buffer = context == null ? context = new Path() : undefined;\n      var points = this.points,\n          halfedges = this.halfedges,\n          triangles = this.triangles;\n\n      for (var i = 0, n = halfedges.length; i < n; ++i) {\n        var j = halfedges[i];\n        if (j < i) continue;\n        var ti = triangles[i] * 2;\n        var tj = triangles[j] * 2;\n        context.moveTo(points[ti], points[ti + 1]);\n        context.lineTo(points[tj], points[tj + 1]);\n      }\n\n      this.renderHull(context);\n      return buffer && buffer.value();\n    }\n  }, {\n    key: \"renderPoints\",\n    value: function renderPoints(context) {\n      var r = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;\n      var buffer = context == null ? context = new Path() : undefined;\n      var points = this.points;\n\n      for (var i = 0, n = points.length; i < n; i += 2) {\n        var x = points[i],\n            y = points[i + 1];\n        context.moveTo(x + r, y);\n        context.arc(x, y, r, 0, tau);\n      }\n\n      return buffer && buffer.value();\n    }\n  }, {\n    key: \"renderHull\",\n    value: function renderHull(context) {\n      var buffer = context == null ? context = new Path() : undefined;\n      var hull = this.hull,\n          points = this.points;\n      var h = hull[0] * 2,\n          n = hull.length;\n      context.moveTo(points[h], points[h + 1]);\n\n      for (var i = 1; i < n; ++i) {\n        var _h = 2 * hull[i];\n\n        context.lineTo(points[_h], points[_h + 1]);\n      }\n\n      context.closePath();\n      return buffer && buffer.value();\n    }\n  }, {\n    key: \"hullPolygon\",\n    value: function hullPolygon() {\n      var polygon = new Polygon();\n      this.renderHull(polygon);\n      return polygon.value();\n    }\n  }, {\n    key: \"renderTriangle\",\n    value: function renderTriangle(i, context) {\n      var buffer = context == null ? context = new Path() : undefined;\n      var points = this.points,\n          triangles = this.triangles;\n      var t0 = triangles[i *= 3] * 2;\n      var t1 = triangles[i + 1] * 2;\n      var t2 = triangles[i + 2] * 2;\n      context.moveTo(points[t0], points[t0 + 1]);\n      context.lineTo(points[t1], points[t1 + 1]);\n      context.lineTo(points[t2], points[t2 + 1]);\n      context.closePath();\n      return buffer && buffer.value();\n    }\n  }, {\n    key: \"trianglePolygons\",\n    value:\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function trianglePolygons() {\n      var triangles, i, n;\n      return _regeneratorRuntime.wrap(function trianglePolygons$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              triangles = this.triangles;\n              i = 0, n = triangles.length / 3;\n\n            case 2:\n              if (!(i < n)) {\n                _context2.next = 8;\n                break;\n              }\n\n              _context2.next = 5;\n              return this.trianglePolygon(i);\n\n            case 5:\n              ++i;\n              _context2.next = 2;\n              break;\n\n            case 8:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, trianglePolygons, this);\n    })\n  }, {\n    key: \"trianglePolygon\",\n    value: function trianglePolygon(i) {\n      var polygon = new Polygon();\n      this.renderTriangle(i, polygon);\n      return polygon.value();\n    }\n  }]);\n\n  return Delaunay;\n}();\n\nexport { Delaunay as default };\n\nDelaunay.from = function (points) {\n  var fx = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : pointX;\n  var fy = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : pointY;\n  var that = arguments.length > 3 ? arguments[3] : undefined;\n  return new Delaunay(\"length\" in points ? flatArray(points, fx, fy, that) : Float64Array.from(flatIterable(points, fx, fy, that)));\n};\n\nfunction flatArray(points, fx, fy, that) {\n  var n = points.length;\n  var array = new Float64Array(n * 2);\n\n  for (var i = 0; i < n; ++i) {\n    var p = points[i];\n    array[i * 2] = fx.call(that, p, i, points);\n    array[i * 2 + 1] = fy.call(that, p, i, points);\n  }\n\n  return array;\n}\n\nfunction flatIterable(points, fx, fy, that) {\n  var i, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step2, p;\n\n  return _regeneratorRuntime.wrap(function flatIterable$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          i = 0;\n          _iteratorNormalCompletion = true;\n          _didIteratorError = false;\n          _iteratorError = undefined;\n          _context3.prev = 4;\n          _iterator = points[Symbol.iterator]();\n\n        case 6:\n          if (_iteratorNormalCompletion = (_step2 = _iterator.next()).done) {\n            _context3.next = 16;\n            break;\n          }\n\n          p = _step2.value;\n          _context3.next = 10;\n          return fx.call(that, p, i, points);\n\n        case 10:\n          _context3.next = 12;\n          return fy.call(that, p, i, points);\n\n        case 12:\n          ++i;\n\n        case 13:\n          _iteratorNormalCompletion = true;\n          _context3.next = 6;\n          break;\n\n        case 16:\n          _context3.next = 22;\n          break;\n\n        case 18:\n          _context3.prev = 18;\n          _context3.t0 = _context3[\"catch\"](4);\n          _didIteratorError = true;\n          _iteratorError = _context3.t0;\n\n        case 22:\n          _context3.prev = 22;\n          _context3.prev = 23;\n\n          if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n            _iterator[\"return\"]();\n          }\n\n        case 25:\n          _context3.prev = 25;\n\n          if (!_didIteratorError) {\n            _context3.next = 28;\n            break;\n          }\n\n          throw _iteratorError;\n\n        case 28:\n          return _context3.finish(25);\n\n        case 29:\n          return _context3.finish(22);\n\n        case 30:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, _marked, null, [[4, 18, 22, 30], [23,, 25, 29]]);\n}","import React, { Fragment, useMemo, useRef, useState, useCallback } from 'react';\nimport { withTheme, withDimensions, Container, SvgWrapper, ResponsiveWrapper, getRelativeCursor } from '@nivo/core';\nimport { scaleLinear } from 'd3-scale';\nimport { Delaunay } from 'd3-delaunay';\nimport compose from 'recompose/compose';\nimport defaultProps from 'recompose/defaultProps';\nimport withPropsOnChange from 'recompose/withPropsOnChange';\nimport pure from 'recompose/pure';\nimport PropTypes from 'prop-types';\n\nvar VoronoiPropTypes = {\n  data: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n    x: PropTypes.number.isRequired,\n    y: PropTypes.number.isRequired\n  })).isRequired,\n  xDomain: PropTypes.arrayOf(PropTypes.number).isRequired,\n  yDomain: PropTypes.arrayOf(PropTypes.number).isRequired,\n  layers: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.oneOf(['links', 'cells', 'points', 'bounds']), PropTypes.func])).isRequired,\n  enableLinks: PropTypes.bool.isRequired,\n  linkLineWidth: PropTypes.number.isRequired,\n  linkLineColor: PropTypes.string.isRequired,\n  enableCells: PropTypes.bool.isRequired,\n  cellLineWidth: PropTypes.number.isRequired,\n  cellLineColor: PropTypes.string.isRequired,\n  enablePoints: PropTypes.bool.isRequired,\n  pointSize: PropTypes.number.isRequired,\n  pointColor: PropTypes.string.isRequired,\n  delaunay: PropTypes.object.isRequired,\n  voronoi: PropTypes.object.isRequired\n};\nvar VoronoiDefaultProps = {\n  xDomain: [0, 1],\n  yDomain: [0, 1],\n  layers: ['links', 'cells', 'points', 'bounds'],\n  enableLinks: false,\n  linkLineWidth: 1,\n  linkLineColor: '#bbb',\n  enableCells: true,\n  cellLineWidth: 2,\n  cellLineColor: '#000',\n  enablePoints: true,\n  pointSize: 4,\n  pointColor: '#666'\n};\n\nvar enhance = (function (Component) {\n  return compose(defaultProps(VoronoiDefaultProps), withTheme(), withDimensions(), withPropsOnChange(['xDomain', 'yDomain', 'width', 'height'], function (_ref) {\n    var xDomain = _ref.xDomain,\n        yDomain = _ref.yDomain,\n        width = _ref.width,\n        height = _ref.height;\n    return {\n      xScale: scaleLinear().domain(xDomain).range([0, width]),\n      yScale: scaleLinear().domain(yDomain).range([0, height])\n    };\n  }), withPropsOnChange(['data', 'xScale', 'yScale'], function (_ref2) {\n    var data = _ref2.data,\n        xScale = _ref2.xScale,\n        yScale = _ref2.yScale;\n    return {\n      scaledPoints: data.map(function (d) {\n        return {\n          data: d,\n          x: xScale(d.x),\n          y: yScale(d.y)\n        };\n      })\n    };\n  }), withPropsOnChange(['scaledPoints', 'width', 'height'], function (_ref3) {\n    var scaledPoints = _ref3.scaledPoints,\n        width = _ref3.width,\n        height = _ref3.height;\n    var delaunay = Delaunay.from(scaledPoints.map(function (p) {\n      return [p.x, p.y];\n    }));\n    var voronoi = delaunay.voronoi([0, 0, width, height]);\n    return {\n      delaunay: delaunay,\n      voronoi: voronoi\n    };\n  }), pure)(Component);\n});\n\nvar Voronoi = function Voronoi(_ref) {\n  var delaunay = _ref.delaunay,\n      voronoi = _ref.voronoi,\n      data = _ref.data,\n      layers = _ref.layers,\n      margin = _ref.margin,\n      width = _ref.width,\n      height = _ref.height,\n      outerWidth = _ref.outerWidth,\n      outerHeight = _ref.outerHeight,\n      enableLinks = _ref.enableLinks,\n      linkLineWidth = _ref.linkLineWidth,\n      linkLineColor = _ref.linkLineColor,\n      enableCells = _ref.enableCells,\n      cellLineWidth = _ref.cellLineWidth,\n      cellLineColor = _ref.cellLineColor,\n      enablePoints = _ref.enablePoints,\n      pointSize = _ref.pointSize,\n      pointColor = _ref.pointColor,\n      theme = _ref.theme;\n  var context = {\n    width: width,\n    height: height,\n    data: data,\n    delaunay: delaunay,\n    voronoi: voronoi\n  };\n  var layerById = {\n    bounds: React.createElement(\"path\", {\n      key: \"bounds\",\n      fill: \"none\",\n      stroke: cellLineColor,\n      strokeWidth: cellLineWidth,\n      d: voronoi.renderBounds()\n    })\n  };\n  if (enableLinks === true) {\n    layerById.links = React.createElement(\"path\", {\n      key: \"links\",\n      stroke: linkLineColor,\n      strokeWidth: linkLineWidth,\n      fill: \"none\",\n      d: delaunay.render()\n    });\n  }\n  if (enableCells === true) {\n    layerById.cells = React.createElement(\"path\", {\n      key: \"cells\",\n      d: voronoi.render(),\n      fill: \"none\",\n      stroke: cellLineColor,\n      strokeWidth: cellLineWidth\n    });\n  }\n  if (enablePoints === true) {\n    layerById.points = React.createElement(\"path\", {\n      key: \"points\",\n      stroke: \"none\",\n      fill: pointColor,\n      d: delaunay.renderPoints(undefined, pointSize / 2)\n    });\n  }\n  return React.createElement(Container, {\n    isInteractive: false,\n    theme: theme,\n    animate: false\n  }, function () {\n    return (\n      React.createElement(SvgWrapper, {\n        width: outerWidth,\n        height: outerHeight,\n        margin: margin,\n        theme: theme\n      }, layers.map(function (layer, i) {\n        if (typeof layer === 'function') {\n          return React.createElement(Fragment, {\n            key: i\n          }, layer(context));\n        }\n        return layerById[layer];\n      }))\n    );\n  });\n};\nVoronoi.propTypes = VoronoiPropTypes;\nvar Voronoi$1 = enhance(Voronoi);\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nvar ResponsiveVoronoi = function ResponsiveVoronoi(props) {\n  return React.createElement(ResponsiveWrapper, null, function (_ref) {\n    var width = _ref.width,\n        height = _ref.height;\n    return React.createElement(Voronoi$1, _extends({\n      width: width,\n      height: height\n    }, props));\n  });\n};\n\nvar getAccessor = function getAccessor(directive) {\n  return typeof directive === 'function' ? directive : function (d) {\n    return d[directive];\n  };\n};\nvar computeMeshPoints = function computeMeshPoints(_ref) {\n  var points = _ref.points,\n      _ref$x = _ref.x,\n      x = _ref$x === void 0 ? 'x' : _ref$x,\n      _ref$y = _ref.y,\n      y = _ref$y === void 0 ? 'y' : _ref$y;\n  var getX = getAccessor(x);\n  var getY = getAccessor(y);\n  return points.map(function (p) {\n    return [getX(p), getY(p)];\n  });\n};\nvar computeMesh = function computeMesh(_ref2) {\n  var points = _ref2.points,\n      width = _ref2.width,\n      height = _ref2.height,\n      debug = _ref2.debug;\n  var delaunay = Delaunay.from(points);\n  var voronoi = debug === true ? delaunay.voronoi([0, 0, width, height]) : undefined;\n  return {\n    delaunay: delaunay,\n    voronoi: voronoi\n  };\n};\n\nvar useVoronoiMesh = function useVoronoiMesh(_ref) {\n  var points = _ref.points,\n      x = _ref.x,\n      y = _ref.y,\n      width = _ref.width,\n      height = _ref.height,\n      debug = _ref.debug;\n  var points2d = useMemo(function () {\n    return computeMeshPoints({\n      points: points,\n      x: x,\n      y: y\n    });\n  }, [points, x, y]);\n  return useMemo(function () {\n    return computeMesh({\n      points: points2d,\n      width: width,\n      height: height,\n      debug: debug\n    });\n  }, [points2d, width, height, debug]);\n};\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nvar Mesh = function Mesh(_ref) {\n  var nodes = _ref.nodes,\n      width = _ref.width,\n      height = _ref.height,\n      x = _ref.x,\n      y = _ref.y,\n      debug = _ref.debug,\n      onMouseEnter = _ref.onMouseEnter,\n      onMouseMove = _ref.onMouseMove,\n      onMouseLeave = _ref.onMouseLeave,\n      onClick = _ref.onClick;\n  var elementRef = useRef(null);\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      currentIndex = _useState2[0],\n      setCurrentIndex = _useState2[1];\n  var _useVoronoiMesh = useVoronoiMesh({\n    points: nodes,\n    x: x,\n    y: y,\n    width: width,\n    height: height,\n    debug: debug\n  }),\n      delaunay = _useVoronoiMesh.delaunay,\n      voronoi = _useVoronoiMesh.voronoi;\n  var voronoiPath = useMemo(function () {\n    return debug ? voronoi.render() : undefined;\n  });\n  var getIndexAndNodeFromEvent = useCallback(function (event) {\n    var _getRelativeCursor = getRelativeCursor(elementRef.current, event),\n        _getRelativeCursor2 = _slicedToArray(_getRelativeCursor, 2),\n        x = _getRelativeCursor2[0],\n        y = _getRelativeCursor2[1];\n    var index = delaunay.find(x, y);\n    return [index, index !== undefined ? nodes[index] : null];\n  }, [delaunay]);\n  var handleMouseEnter = useCallback(function (event) {\n    var _getIndexAndNodeFromE = getIndexAndNodeFromEvent(event),\n        _getIndexAndNodeFromE2 = _slicedToArray(_getIndexAndNodeFromE, 2),\n        index = _getIndexAndNodeFromE2[0],\n        node = _getIndexAndNodeFromE2[1];\n    if (currentIndex !== index) setCurrentIndex(index);\n    node && onMouseEnter && onMouseEnter(node, event);\n  }, [getIndexAndNodeFromEvent, setCurrentIndex]);\n  var handleMouseMove = useCallback(function (event) {\n    var _getIndexAndNodeFromE3 = getIndexAndNodeFromEvent(event),\n        _getIndexAndNodeFromE4 = _slicedToArray(_getIndexAndNodeFromE3, 2),\n        index = _getIndexAndNodeFromE4[0],\n        node = _getIndexAndNodeFromE4[1];\n    if (currentIndex !== index) setCurrentIndex(index);\n    node && onMouseMove && onMouseMove(node, event);\n  }, [getIndexAndNodeFromEvent, setCurrentIndex]);\n  var handleMouseLeave = useCallback(function (event) {\n    setCurrentIndex(null);\n    if (onMouseLeave) {\n      var previousNode;\n      if (currentIndex !== undefined && currentIndex !== null) {\n        previousNode = nodes[currentIndex];\n      }\n      previousNode && onMouseLeave(previousNode, event);\n    }\n  }, [setCurrentIndex, currentIndex, nodes]);\n  var handleClick = useCallback(function (event) {\n    var _getIndexAndNodeFromE5 = getIndexAndNodeFromEvent(event),\n        _getIndexAndNodeFromE6 = _slicedToArray(_getIndexAndNodeFromE5, 2),\n        index = _getIndexAndNodeFromE6[0],\n        node = _getIndexAndNodeFromE6[1];\n    if (currentIndex !== index) setCurrentIndex(index);\n    onClick && onClick(node, event);\n  }, [getIndexAndNodeFromEvent, setCurrentIndex]);\n  return React.createElement(\"g\", {\n    ref: elementRef\n  }, debug && React.createElement(\"path\", {\n    d: voronoiPath,\n    stroke: \"red\",\n    strokeWidth: 1,\n    opacity: 0.75\n  }), currentIndex !== null && debug && React.createElement(\"path\", {\n    fill: \"red\",\n    opacity: 0.35,\n    d: voronoi.renderCell(currentIndex)\n  }), React.createElement(\"rect\", {\n    width: width,\n    height: height,\n    fill: \"red\",\n    opacity: 0,\n    style: {\n      cursor: 'auto'\n    },\n    onMouseEnter: handleMouseEnter,\n    onMouseMove: handleMouseMove,\n    onMouseLeave: handleMouseLeave,\n    onClick: handleClick\n  }));\n};\nMesh.propTypes = {\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired,\n  nodes: PropTypes.array.isRequired,\n  x: PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.func]).isRequired,\n  y: PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.func]).isRequired,\n  onMouseEnter: PropTypes.func,\n  onMouseMove: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  onClick: PropTypes.func,\n  debug: PropTypes.bool.isRequired\n};\nMesh.defaultProps = {\n  x: 'x',\n  y: 'y',\n  debug: false\n};\n\nvar renderVoronoiToCanvas = function renderVoronoiToCanvas(ctx, voronoi) {\n  ctx.save();\n  ctx.globalAlpha = 0.75;\n  ctx.beginPath();\n  voronoi.render(ctx);\n  ctx.strokeStyle = 'red';\n  ctx.lineWidth = 1;\n  ctx.stroke();\n  ctx.restore();\n};\nvar renderVoronoiCellToCanvas = function renderVoronoiCellToCanvas(ctx, voronoi, index) {\n  ctx.save();\n  ctx.globalAlpha = 0.35;\n  ctx.beginPath();\n  voronoi.renderCell(index, ctx);\n  ctx.fillStyle = 'red';\n  ctx.fill();\n  ctx.restore();\n};\n\nexport { Mesh, ResponsiveVoronoi, Voronoi$1 as Voronoi, VoronoiDefaultProps, VoronoiPropTypes, computeMesh, computeMeshPoints, renderVoronoiCellToCanvas, renderVoronoiToCanvas, useVoronoiMesh };\n","var isSymbol = require('./isSymbol');\n/**\n * The base implementation of methods like `_.max` and `_.min` which accepts a\n * `comparator` to determine the extremum value.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The iteratee invoked per iteration.\n * @param {Function} comparator The comparator used to compare values.\n * @returns {*} Returns the extremum value.\n */\n\n\nfunction baseExtremum(array, iteratee, comparator) {\n  var index = -1,\n      length = array.length;\n\n  while (++index < length) {\n    var value = array[index],\n        current = iteratee(value);\n\n    if (current != null && (computed === undefined ? current === current && !isSymbol(current) : comparator(current, computed))) {\n      var computed = current,\n          result = value;\n    }\n  }\n\n  return result;\n}\n\nmodule.exports = baseExtremum;"],"sourceRoot":""}