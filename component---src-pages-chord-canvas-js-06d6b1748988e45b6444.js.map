{"version":3,"sources":["webpack:///../node_modules/d3-array/src/ascending.js","webpack:///../node_modules/d3-array/src/bisect.js","webpack:///../node_modules/d3-array/src/bisector.js","webpack:///../node_modules/d3-array/src/cross.js","webpack:///../node_modules/d3-array/src/array.js","webpack:///../node_modules/d3-array/src/range.js","webpack:///../node_modules/d3-array/src/ticks.js","webpack:///../node_modules/d3-array/src/threshold/sturges.js","webpack:///../node_modules/d3-array/src/merge.js","webpack:///../node_modules/d3-array/src/index.js","webpack:///./src/data/components/chord/props.js","webpack:///../node_modules/d3-chord/src/math.js","webpack:///../node_modules/d3-chord/src/chord.js","webpack:///../node_modules/d3-chord/src/array.js","webpack:///../node_modules/d3-chord/src/constant.js","webpack:///../node_modules/d3-chord/src/ribbon.js","webpack:///../node_modules/d3-chord/src/index.js","webpack:///./src/data/components/chord/mapper.js","webpack:///./src/pages/chord/canvas.js","webpack:///../node_modules/lodash/mapValues.js","webpack:///../packages/chord/dist/nivo-chord.esm.js"],"names":["a","b","NaN","f","ascending","length","compare","d","x","Array","prototype","slice","map","start","stop","step","n","arguments","i","Math","max","ceil","range","sqrt","m","merged","array","arrays","j","props","key","group","help","description","required","type","enableControlForFlavors","controlType","controlOptions","unit","min","flavors","defaultValue","defaults","padAngle","innerRadiusRatio","innerRadiusOffset","colors","arcOpacity","arcBorderWidth","arcBorderColor","ribbonOpacity","ribbonBorderWidth","ribbonBorderColor","enableLabel","label","choices","choice","value","labelOffset","labelRotation","labelTextColor","layers","isInteractive","arcHoverOpacity","arcHoverOthersOpacity","ribbonHoverOpacity","ribbonHoverOthersOpacity","getLegendsProps","shouldCreate","addLabel","shouldRemove","getItemTitle","index","legend","anchor","direction","dataFrom","justify","translateX","translateY","itemWidth","itemHeight","itemsSpacing","symbolSize","itemDirection","onClick","data","alert","JSON","stringify","motionProperties","groups","groupProperties","cos","sin","pi","PI","halfPi","tau","compareValue","source","target","sortGroups","sortSubgroups","sortChords","chord","matrix","k","x0","dx","groupSums","groupIndex","subgroupIndex","chords","subgroups","push","sort","forEach","di","dj","v","a0","a1","subindex","startAngle","endAngle","_","defaultSource","defaultTarget","defaultRadius","radius","defaultStartAngle","defaultEndAngle","context","ribbon","buffer","argv","call","s","apply","this","t","sr","sa0","sa1","sx0","sy0","tr","ta0","ta1","moveTo","arc","quadraticCurveTo","closePath","constant","settingsMapper","id","initialProperties","margin","top","right","bottom","left","valueFormat","pixelRatio","window","devicePixelRatio","from","modifiers","scheme","legends","itemTextColor","effects","on","style","generateData","generateChordData","size","ChordCanvas","name","meta","icon","currentFlavor","properties","propertiesMapper","mapper","codePropertiesMapper","keys","dataKey","getDataSize","MATRIX_SIZE","getTabData","theme","logAction","onArcClick","color","baseAssignValue","baseForOwn","baseIteratee","module","exports","object","iteratee","result","ChordArcTooltip","memo","_ref","React","createElement","BasicTooltip","formattedValue","enableChip","displayName","ChordRibbonTooltip","useTheme","TableTooltip","rows","Chip","_objectSpread","ownKeys","Object","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","enumerable","_defineProperty","obj","defineProperty","configurable","writable","commonPropTypes","PropTypes","arrayOf","string","isRequired","number","oneOfType","func","oneOf","inheritedColorPropType","onArcMouseEnter","onArcMouseMove","onArcMouseLeave","arcTooltip","ribbonBlendMode","blendModePropType","onRibbonMouseEnter","onRibbonMouseMove","onRibbonMouseLeave","onRibbonClick","ribbonTooltip","bool","ordinalColorsPropType","shape","LegendPropShape","commonDefaultProps","motionPropTypes","ChordDefaultProps","animate","motionStiffness","motionDamping","ChordCanvasDefaultProps","global","_defineProperty$1","_slicedToArray","arr","isArray","_arrayWithHoles","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","next","done","err","_iterableToArrayLimit","TypeError","_nonIterableRest","useChordLayout","useMemo","computeChordLayout","useChordGenerators","_ref2","width","height","center","innerRadius","ribbonRadius","arcGenerator","outerRadius","ribbonGenerator","computeChordGenerators","useChord","_ref4","_useChordGenerators","getLabel","getLabelGenerator","formatValue","useValueFormatter","getColor","useOrdinalColorScale","_useChordArcsAndRibbo","_ref3","ribbons","arcs","join","computeChordArcsAndRibbons","useChordArcsAndRibbons","useChordSelection","_ref5","_useState2","useState","currentArc","setCurrentArc","_useState4","currentRibbon","setCurrentRibbon","selection","selectedArcIds","selectedRibbonIds","hasSelection","getArcOpacity","includes","getRibbonOpacity","_objectSpread$1","useChordLayerContext","_ref6","_objectSpread$2","_defineProperty$2","ChordRibbon","sourceStartAngle","sourceEndAngle","targetStartAngle","targetEndAngle","opacity","borderWidth","getBorderColor","blendMode","setCurrent","onMouseEnter","onMouseMove","onMouseLeave","tooltip","_useTooltip","useTooltip","showTooltipFromEvent","hideTooltip","handleMouseEnter","event","handleMouseMove","handleMouseLeave","handleClick","fill","fillOpacity","strokeWidth","stroke","strokeOpacity","mixBlendMode","_objectSpread$3","_defineProperty$3","getRibbonAngles","useMiddleAngle","springConfig","firstArc","secondArc","angles","firstMiddleAngle","midAngle","secondMiddleAngle","mapValues","angle","spring","ribbonWillEnter","interpolateColor","ribbonWillLeave","ChordRibbons","getOpacity","_useMotionConfig","useMotionConfig","_springConfig","precision","TransitionMotion","willEnter","willLeave","styles","interpolatedStyles","Fragment","getInterpolatedColor","ChordArc","_objectSpread$4","_defineProperty$4","ChordArcs","_objectSpread$5","_defineProperty$5","ChordLabels","rotation","textProps","getPolarLabelProps","transform","y","rotate","labels","text","pointerEvents","textAnchor","align","dominantBaseline","baseline","_extends","assign","hasOwnProperty","Chord","partialMargin","_useDimensions","useDimensions","innerWidth","innerHeight","outerWidth","outerHeight","_useChord","_useChordSelection","getLabelTextColor","useInheritedColor","getArcBorderColor","getRibbonBorderColor","layerContext","legendData","layerById","BoxLegendSvg","containerWidth","containerHeight","SvgWrapper","layer","defaultProps","Chord$1","withContainer","_objectSpread$6","_defineProperty$6","_slicedToArray$1","_arrayWithHoles$1","_iterableToArrayLimit$1","_nonIterableRest$1","getArcFromMouseEvent","canvasEl","_getRelativeCursor2","getRelativeCursor","centerX","centerY","getHoveredArc","useRef","useEffect","current","ctx","getContext","scale","fillStyle","background","fillRect","save","translate","globalAlpha","beginPath","strokeStyle","lineWidth","restore","font","fontSize","fontFamily","degreesToRadians","textAlign","textBaseline","fillText","renderLegendToCanvas","handleMouseHover","useCallback","ref","cursor","ChordCanvas$1","_extends$1","ResponsiveChord","ResponsiveWrapper","_extends$2","ResponsiveChordCanvas"],"mappings":"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","file":"component---src-pages-chord-canvas-js-06d6b1748988e45b6444.js","sourcesContent":["export default function (a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}","import ascending from \"./ascending\";\nimport bisector from \"./bisector\";\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;","import ascending from \"./ascending\";\nexport default function (compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function left(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;else hi = mid;\n      }\n\n      return lo;\n    },\n    right: function right(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;else lo = mid + 1;\n      }\n\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function (d, x) {\n    return ascending(f(d), x);\n  };\n}","import { pair } from \"./pairs\";\nexport default function (values0, values1, reduce) {\n  var n0 = values0.length,\n      n1 = values1.length,\n      values = new Array(n0 * n1),\n      i0,\n      i1,\n      i,\n      value0;\n  if (reduce == null) reduce = pair;\n\n  for (i0 = i = 0; i0 < n0; ++i0) {\n    for (value0 = values0[i0], i1 = 0; i1 < n1; ++i1, ++i) {\n      values[i] = reduce(value0, values1[i1]);\n    }\n  }\n\n  return values;\n}","import \"core-js/modules/es6.array.map\";\nvar array = Array.prototype;\nexport var slice = array.slice;\nexport var map = array.map;","export default function (start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\nexport default function (start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n\n    while (++i < n) {\n      ticks[i] = (start + i) * step;\n    }\n  } else {\n    start = Math.floor(start * step);\n    stop = Math.ceil(stop * step);\n    ticks = new Array(n = Math.ceil(start - stop + 1));\n\n    while (++i < n) {\n      ticks[i] = (start - i) / step;\n    }\n  }\n\n  if (reverse) ticks.reverse();\n  return ticks;\n}\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0 ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power) : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;else if (error >= e5) step1 *= 5;else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}","export default function (values) {\n  return Math.ceil(Math.log(values.length) / Math.LN2) + 1;\n}","export default function (arrays) {\n  var n = arrays.length,\n      m,\n      i = -1,\n      j = 0,\n      merged,\n      array;\n\n  while (++i < n) {\n    j += arrays[i].length;\n  }\n\n  merged = new Array(j);\n\n  while (--n >= 0) {\n    array = arrays[n];\n    m = array.length;\n\n    while (--m >= 0) {\n      merged[--j] = array[m];\n    }\n  }\n\n  return merged;\n}","export { default as bisect, bisectRight, bisectLeft } from \"./bisect\";\nexport { default as ascending } from \"./ascending\";\nexport { default as bisector } from \"./bisector\";\nexport { default as cross } from \"./cross\";\nexport { default as descending } from \"./descending\";\nexport { default as deviation } from \"./deviation\";\nexport { default as extent } from \"./extent\";\nexport { default as histogram } from \"./histogram\";\nexport { default as thresholdFreedmanDiaconis } from \"./threshold/freedmanDiaconis\";\nexport { default as thresholdScott } from \"./threshold/scott\";\nexport { default as thresholdSturges } from \"./threshold/sturges\";\nexport { default as max } from \"./max\";\nexport { default as mean } from \"./mean\";\nexport { default as median } from \"./median\";\nexport { default as merge } from \"./merge\";\nexport { default as min } from \"./min\";\nexport { default as pairs } from \"./pairs\";\nexport { default as permute } from \"./permute\";\nexport { default as quantile } from \"./quantile\";\nexport { default as range } from \"./range\";\nexport { default as scan } from \"./scan\";\nexport { default as shuffle } from \"./shuffle\";\nexport { default as sum } from \"./sum\";\nexport { default as ticks, tickIncrement, tickStep } from \"./ticks\";\nexport { default as transpose } from \"./transpose\";\nexport { default as variance } from \"./variance\";\nexport { default as zip } from \"./zip\";","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphal Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { ChordDefaultProps as defaults } from '@nivo/chord'\nimport {\n    motionProperties,\n    groupProperties,\n    getLegendsProps,\n} from '../../../lib/componentProperties'\n\nconst props = [\n    {\n        key: 'keys',\n        group: 'Base',\n        help: 'Keys used to identify each cell in the matrix.',\n        description: `\n            Keys used to identify each cell in the matrix,\n            for example given this matrix:\n            \\`\\`\\`\n            [ [123, 37,  99 ],\n              [75,  103, 82 ],\n              [37,  65,  109] ]\n            \\`\\`\\`\n            and those keys:\n            \\`\\`\\`\n            ['John', 'Jane', 'Raoul']\n            \\`\\`\\`\n            it will result in the following mapping:\n            \\`\\`\\`\n            [ [null,    'John', 'Jane',  'Raoul']\n              ['John',   123,    37,      99    ],\n              ['Jane',   75,     103,     82    ],\n              ['Raoul',  37,     65,      109   ] ]\n            \\`\\`\\`\n        `,\n        required: true,\n        type: 'string[]',\n    },\n    {\n        key: 'matrix',\n        group: 'Base',\n        help: 'The matrix used to compute the chord diagram.',\n        description: `\n            The matrix used to compute the chord diagram,\n            it must be a square matrix, meaning each row length\n            must equal the row count.\n        `,\n        required: true,\n        type: 'Array<number[]>',\n    },\n    {\n        key: 'valueFormat',\n        group: 'Base',\n        type: 'string | Function',\n        required: false,\n        help: `Optional value formatter.`,\n    },\n    {\n        key: 'width',\n        enableControlForFlavors: ['api'],\n        help: 'Chart width.',\n        description: `\n            not required if using\n            \\`<ResponsiveChord/>\\`.\n            Also note that width does not include labels,\n            so you should add enough margin to display them.\n        `,\n        type: 'number',\n        required: true,\n        controlType: 'range',\n        group: 'Base',\n        controlOptions: {\n            unit: 'px',\n            min: 100,\n            max: 1000,\n            step: 5,\n        },\n    },\n    {\n        key: 'height',\n        enableControlForFlavors: ['api'],\n        help: 'Chart height.',\n        description: `\n            not required if using\n            \\`<ResponsiveChord/>\\`.\n            Also note that width does not include labels,\n            so you should add enough margin to display them.\n        `,\n        type: 'number',\n        required: true,\n        controlType: 'range',\n        group: 'Base',\n        controlOptions: {\n            unit: 'px',\n            min: 100,\n            max: 1000,\n            step: 5,\n        },\n    },\n    {\n        key: 'pixelRatio',\n        flavors: ['canvas'],\n        help: `Adjust pixel ratio, useful for HiDPI screens.`,\n        required: false,\n        defaultValue: 'Depends on device',\n        type: `number`,\n        controlType: 'range',\n        group: 'Base',\n        controlOptions: {\n            min: 1,\n            max: 2,\n        },\n    },\n    {\n        key: 'margin',\n        help: 'Chart margin.',\n        type: 'object',\n        required: false,\n        controlType: 'margin',\n        group: 'Base',\n    },\n    {\n        key: 'padAngle',\n        help: 'Padding angle.',\n        required: false,\n        defaultValue: defaults.padAngle,\n        type: 'number',\n        controlType: 'range',\n        group: 'Base',\n        controlOptions: {\n            min: 0,\n            max: 1,\n            step: 0.01,\n        },\n    },\n    {\n        key: 'innerRadiusRatio',\n        help: 'Inner radius ratio.',\n        required: false,\n        defaultValue: defaults.innerRadiusRatio,\n        type: 'number',\n        controlType: 'range',\n        group: 'Base',\n        controlOptions: {\n            min: 0,\n            max: 1,\n            step: 0.01,\n        },\n    },\n    {\n        key: 'innerRadiusOffset',\n        help: 'Inner radius offset (minus innerRadiusRatio).',\n        required: false,\n        defaultValue: defaults.innerRadiusOffset,\n        type: 'number',\n        controlType: 'range',\n        group: 'Base',\n        controlOptions: {\n            min: 0,\n            max: 1,\n            step: 0.01,\n        },\n    },\n    {\n        key: 'colors',\n        help: 'Defines how to compute arc/ribbon color.',\n        type: 'string | Function | string[]',\n        required: false,\n        defaultValue: defaults.colors,\n        controlType: 'ordinalColors',\n        group: 'Style',\n    },\n    {\n        key: 'arcOpacity',\n        help: 'Arcs opacity.',\n        required: false,\n        defaultValue: defaults.arcOpacity,\n        type: 'number',\n        controlType: 'opacity',\n        group: 'Style',\n    },\n    {\n        key: 'arcBorderWidth',\n        help: 'Arcs border width.',\n        required: false,\n        defaultValue: defaults.arcBorderWidth,\n        type: 'number',\n        controlType: 'lineWidth',\n        group: 'Style',\n    },\n    {\n        key: 'arcBorderColor',\n        help: 'Arcs border color.',\n        required: false,\n        defaultValue: defaults.arcBorderColor,\n        type: 'string | object | Function',\n        controlType: 'inheritedColor',\n        group: 'Style',\n    },\n    {\n        key: 'ribbonOpacity',\n        help: 'Ribbons opacity.',\n        required: false,\n        defaultValue: defaults.ribbonOpacity,\n        type: 'number',\n        controlType: 'opacity',\n        group: 'Style',\n    },\n    {\n        key: 'ribbonBorderWidth',\n        help: 'Ribbons border width.',\n        required: false,\n        defaultValue: defaults.ribbonBorderWidth,\n        type: 'number',\n        controlType: 'lineWidth',\n        group: 'Style',\n    },\n    {\n        key: 'ribbonBorderColor',\n        help: 'Ribbons border color.',\n        required: false,\n        defaultValue: defaults.ribbonBorderColor,\n        type: 'string | object | Function',\n        controlType: 'inheritedColor',\n        group: 'Style',\n    },\n    {\n        key: 'enableLabel',\n        help: 'Enable/disable labels.',\n        type: 'boolean',\n        required: false,\n        defaultValue: defaults.enableLabel,\n        controlType: 'switch',\n        group: 'Labels',\n    },\n    {\n        key: 'label',\n        help:\n            'Defines how to get label text, can be a string (used to access current arc data property) or a function which will receive the actual arc data.',\n        type: 'string | Function',\n        required: false,\n        defaultValue: defaults.label,\n        controlType: 'choices',\n        group: 'Labels',\n        controlOptions: {\n            choices: ['id', 'value', `d => \\`\\${d.id} [\\${d.value}]\\``].map(choice => ({\n                label: choice,\n                value: choice,\n            })),\n        },\n    },\n    {\n        key: 'labelOffset',\n        help: 'Label offset from arc.',\n        required: false,\n        defaultValue: defaults.labelOffset,\n        type: 'number',\n        controlType: 'range',\n        group: 'Labels',\n        controlOptions: {\n            unit: 'px',\n            min: -80,\n            max: 80,\n        },\n    },\n    {\n        key: 'labelRotation',\n        help: 'Label rotation.',\n        required: false,\n        defaultValue: defaults.labelRotation,\n        type: 'number',\n        controlType: 'angle',\n        group: 'Labels',\n        controlOptions: {\n            min: -180,\n            max: 180,\n            step: 5,\n        },\n    },\n    {\n        key: 'labelTextColor',\n        help: 'Labels color.',\n        description: `\n            How to compute label text color,\n            [see dedicated documentation](self:/guides/colors).\n        `,\n        help: 'Method to compute label text color.',\n        type: 'string | object | Function',\n        required: false,\n        defaultValue: defaults.labelTextColor,\n        controlType: 'inheritedColor',\n        group: 'Labels',\n    },\n    {\n        key: 'layers',\n        group: 'Customization',\n        help: 'Defines the order of layers and add custom layers.',\n        description: `\n            You can also use this to insert extra layers\n            to the chart, the extra layer must be a function.\n            \n            The layer function which will receive the chart's\n            context & computed data and must return a valid SVG element\n            for the \\`Chord\\` component.\n\n            When using the canvas implementation, the function\n            will receive the canvas 2d context as first argument\n            and the chart's context and computed data as second.\n\n            Please make sure to use \\`context.save()\\` and\n            \\`context.restore()\\` if you make some global\n            modifications to the 2d context inside this function\n            to avoid side effects.\n        `,\n        required: false,\n        type: 'Array<string | Function>',\n        defaultValue: defaults.layers,\n    },\n    {\n        key: 'isInteractive',\n        flavors: ['svg', 'canvas'],\n        help: 'Enable/disable interactivity.',\n        type: 'boolean',\n        required: false,\n        defaultValue: defaults.isInteractive,\n        controlType: 'switch',\n        group: 'Interactivity',\n    },\n    {\n        key: 'arcHoverOpacity',\n        flavors: ['svg', 'canvas'],\n        help: 'Arc opacity when hover (0~1).',\n        required: false,\n        defaultValue: defaults.arcHoverOpacity,\n        type: 'number',\n        controlType: 'opacity',\n        group: 'Interactivity',\n    },\n    {\n        key: 'arcHoverOthersOpacity',\n        flavors: ['svg', 'canvas'],\n        help: 'Arc opacity when not hover (0~1).',\n        required: false,\n        defaultValue: defaults.arcHoverOthersOpacity,\n        type: 'number',\n        controlType: 'opacity',\n        group: 'Interactivity',\n    },\n    {\n        key: 'ribbonHoverOpacity',\n        flavors: ['svg', 'canvas'],\n        help: 'Ribbon opacity when hover (0~1).',\n        required: false,\n        defaultValue: defaults.ribbonHoverOpacity,\n        type: 'number',\n        controlType: 'opacity',\n        group: 'Interactivity',\n    },\n    {\n        key: 'ribbonHoverOthersOpacity',\n        flavors: ['svg', 'canvas'],\n        help: 'Ribbon opacity when not hover (0~1).',\n        required: false,\n        defaultValue: defaults.ribbonHoverOthersOpacity,\n        type: 'number',\n        controlType: 'opacity',\n        group: 'Interactivity',\n    },\n    {\n        key: 'onArcMouseEnter',\n        flavors: ['svg', 'canvas'],\n        group: 'Interactivity',\n        help: 'onMouseEnter handler for arcs.',\n        type: '(arc, event) => void',\n        required: false,\n    },\n    {\n        key: 'onArcMouseMove',\n        flavors: ['svg', 'canvas'],\n        group: 'Interactivity',\n        help: 'onMouseMove handler for arcs.',\n        type: '(arc, event) => void',\n        required: false,\n    },\n    {\n        key: 'onArcMouseLeave',\n        flavors: ['svg', 'canvas'],\n        group: 'Interactivity',\n        help: 'onMouseLeave handler for arcs.',\n        type: '(arc, event) => void',\n        required: false,\n    },\n    {\n        key: 'onArcClick',\n        flavors: ['svg', 'canvas'],\n        group: 'Interactivity',\n        help: 'onClick handler for arcs.',\n        type: '(arc, event) => void',\n        required: false,\n    },\n    {\n        key: 'arcTooltip',\n        flavors: ['svg', 'canvas'],\n        group: 'Interactivity',\n        type: 'Function',\n        required: false,\n        help: 'Custom arc tooltip component.',\n        description: `\n            A function allowing complete arc tooltip customisation,\n            it must return a valid HTML\n            element and will receive the arcs's data.\n        `,\n    },\n    {\n        key: 'onRibbonMouseEnter',\n        flavors: ['svg'],\n        group: 'Interactivity',\n        help: 'onMouseEnter handler for ribbons.',\n        type: '(ribbon, event) => void',\n        required: false,\n    },\n    {\n        key: 'onRibbonMouseMove',\n        flavors: ['svg'],\n        group: 'Interactivity',\n        help: 'onMouseMove handler for ribbons.',\n        type: '(ribbon, event) => void',\n        required: false,\n    },\n    {\n        key: 'onRibbonMouseLeave',\n        flavors: ['svg'],\n        group: 'Interactivity',\n        help: 'onMouseLeave handler for ribbons.',\n        type: '(ribbon, event) => void',\n        required: false,\n    },\n    {\n        key: 'onRibbonClick',\n        flavors: ['svg'],\n        group: 'Interactivity',\n        help: 'onClick handler for ribbons.',\n        type: '(ribbon, event) => void',\n        required: false,\n    },\n    {\n        key: 'ribbonTooltip',\n        flavors: ['svg'],\n        group: 'Interactivity',\n        type: 'Function',\n        required: false,\n        help: 'Custom ribbon tooltip component.',\n        description: `\n            A function allowing complete ribbon tooltip customisation,\n            it must return a valid HTML\n            element and will receive the ribbon's data.\n        `,\n    },\n    {\n        key: 'legends',\n        flavors: ['svg', 'canvas'],\n        type: 'object[]',\n        help: `Optional chart's legends.`,\n        group: 'Legends',\n        controlType: 'array',\n        controlOptions: {\n            props: getLegendsProps(['svg', 'canvas']),\n            shouldCreate: true,\n            addLabel: 'add legend',\n            shouldRemove: true,\n            getItemTitle: (index, legend) =>\n                `legend[${index}]: ${legend.anchor}, ${legend.direction}`,\n            defaults: {\n                dataFrom: 'keys',\n                anchor: 'top-left',\n                direction: 'column',\n                justify: false,\n                translateX: 0,\n                translateY: 0,\n                itemWidth: 100,\n                itemHeight: 20,\n                itemsSpacing: 0,\n                symbolSize: 20,\n                itemDirection: 'left-to-right',\n                onClick: data => {\n                    alert(JSON.stringify(data, null, '    '))\n                },\n            },\n        },\n    },\n    ...motionProperties(['svg'], defaults),\n]\n\nexport const groups = groupProperties(props)\n","export var cos = Math.cos;\nexport var sin = Math.sin;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var tau = pi * 2;\nexport var max = Math.max;","import \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.array.sort\";\nimport { range } from \"d3-array\";\nimport { max, tau } from \"./math\";\n\nfunction compareValue(compare) {\n  return function (a, b) {\n    return compare(a.source.value + a.target.value, b.source.value + b.target.value);\n  };\n}\n\nexport default function () {\n  var padAngle = 0,\n      sortGroups = null,\n      sortSubgroups = null,\n      sortChords = null;\n\n  function chord(matrix) {\n    var n = matrix.length,\n        groupSums = [],\n        groupIndex = range(n),\n        subgroupIndex = [],\n        chords = [],\n        groups = chords.groups = new Array(n),\n        subgroups = new Array(n * n),\n        k,\n        x,\n        x0,\n        dx,\n        i,\n        j; // Compute the sum.\n\n    k = 0, i = -1;\n\n    while (++i < n) {\n      x = 0, j = -1;\n\n      while (++j < n) {\n        x += matrix[i][j];\n      }\n\n      groupSums.push(x);\n      subgroupIndex.push(range(n));\n      k += x;\n    } // Sort groups\n\n\n    if (sortGroups) groupIndex.sort(function (a, b) {\n      return sortGroups(groupSums[a], groupSums[b]);\n    }); // Sort subgroups\n\n    if (sortSubgroups) subgroupIndex.forEach(function (d, i) {\n      d.sort(function (a, b) {\n        return sortSubgroups(matrix[i][a], matrix[i][b]);\n      });\n    }); // Convert the sum to scaling factor for [0, 2pi].\n    // TODO Allow start and end angle to be specified?\n    // TODO Allow padding to be specified as percentage?\n\n    k = max(0, tau - padAngle * n) / k;\n    dx = k ? padAngle : tau / n; // Compute the start and end angle for each group and subgroup.\n    // Note: Opera has a bug reordering object literal properties!\n\n    x = 0, i = -1;\n\n    while (++i < n) {\n      x0 = x, j = -1;\n\n      while (++j < n) {\n        var di = groupIndex[i],\n            dj = subgroupIndex[di][j],\n            v = matrix[di][dj],\n            a0 = x,\n            a1 = x += v * k;\n        subgroups[dj * n + di] = {\n          index: di,\n          subindex: dj,\n          startAngle: a0,\n          endAngle: a1,\n          value: v\n        };\n      }\n\n      groups[di] = {\n        index: di,\n        startAngle: x0,\n        endAngle: x,\n        value: groupSums[di]\n      };\n      x += dx;\n    } // Generate chords for each (non-empty) subgroup-subgroup link.\n\n\n    i = -1;\n\n    while (++i < n) {\n      j = i - 1;\n\n      while (++j < n) {\n        var source = subgroups[j * n + i],\n            target = subgroups[i * n + j];\n\n        if (source.value || target.value) {\n          chords.push(source.value < target.value ? {\n            source: target,\n            target: source\n          } : {\n            source: source,\n            target: target\n          });\n        }\n      }\n    }\n\n    return sortChords ? chords.sort(sortChords) : chords;\n  }\n\n  chord.padAngle = function (_) {\n    return arguments.length ? (padAngle = max(0, _), chord) : padAngle;\n  };\n\n  chord.sortGroups = function (_) {\n    return arguments.length ? (sortGroups = _, chord) : sortGroups;\n  };\n\n  chord.sortSubgroups = function (_) {\n    return arguments.length ? (sortSubgroups = _, chord) : sortSubgroups;\n  };\n\n  chord.sortChords = function (_) {\n    return arguments.length ? (_ == null ? sortChords = null : (sortChords = compareValue(_))._ = _, chord) : sortChords && sortChords._;\n  };\n\n  return chord;\n}","export var slice = Array.prototype.slice;","export default function (x) {\n  return function () {\n    return x;\n  };\n}","import { slice } from \"./array\";\nimport constant from \"./constant\";\nimport { cos, halfPi, sin } from \"./math\";\nimport { path } from \"d3-path\";\n\nfunction defaultSource(d) {\n  return d.source;\n}\n\nfunction defaultTarget(d) {\n  return d.target;\n}\n\nfunction defaultRadius(d) {\n  return d.radius;\n}\n\nfunction defaultStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction defaultEndAngle(d) {\n  return d.endAngle;\n}\n\nexport default function () {\n  var source = defaultSource,\n      target = defaultTarget,\n      radius = defaultRadius,\n      startAngle = defaultStartAngle,\n      endAngle = defaultEndAngle,\n      context = null;\n\n  function ribbon() {\n    var buffer,\n        argv = slice.call(arguments),\n        s = source.apply(this, argv),\n        t = target.apply(this, argv),\n        sr = +radius.apply(this, (argv[0] = s, argv)),\n        sa0 = startAngle.apply(this, argv) - halfPi,\n        sa1 = endAngle.apply(this, argv) - halfPi,\n        sx0 = sr * cos(sa0),\n        sy0 = sr * sin(sa0),\n        tr = +radius.apply(this, (argv[0] = t, argv)),\n        ta0 = startAngle.apply(this, argv) - halfPi,\n        ta1 = endAngle.apply(this, argv) - halfPi;\n    if (!context) context = buffer = path();\n    context.moveTo(sx0, sy0);\n    context.arc(0, 0, sr, sa0, sa1);\n\n    if (sa0 !== ta0 || sa1 !== ta1) {\n      // TODO sr !== tr?\n      context.quadraticCurveTo(0, 0, tr * cos(ta0), tr * sin(ta0));\n      context.arc(0, 0, tr, ta0, ta1);\n    }\n\n    context.quadraticCurveTo(0, 0, sx0, sy0);\n    context.closePath();\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  ribbon.radius = function (_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), ribbon) : radius;\n  };\n\n  ribbon.startAngle = function (_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), ribbon) : startAngle;\n  };\n\n  ribbon.endAngle = function (_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), ribbon) : endAngle;\n  };\n\n  ribbon.source = function (_) {\n    return arguments.length ? (source = _, ribbon) : source;\n  };\n\n  ribbon.target = function (_) {\n    return arguments.length ? (target = _, ribbon) : target;\n  };\n\n  ribbon.context = function (_) {\n    return arguments.length ? (context = _ == null ? null : _, ribbon) : context;\n  };\n\n  return ribbon;\n}","export { default as chord } from \"./chord\";\nexport { default as ribbon } from \"./ribbon\";","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphal Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { settingsMapper } from '../../../lib/settings'\n\nexport default settingsMapper({\n    label: value => {\n        if (value === `d => \\`\\${d.id} [\\${d.value}]\\``) return d => `${d.id} [${d.value}]`\n        return value\n    },\n})\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphal Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React from 'react'\nimport { generateChordData } from '@nivo/generators'\nimport { ResponsiveChordCanvas } from '@nivo/chord'\nimport ComponentTemplate from '../../components/components/ComponentTemplate'\nimport meta from '../../data/components/chord/meta.yml'\nimport mapper from '../../data/components/chord/mapper'\nimport { groups } from '../../data/components/chord/props'\n\nconst MATRIX_SIZE = 38\n\nconst initialProperties = {\n    margin: {\n        top: 60,\n        right: 200,\n        bottom: 60,\n        left: 60,\n    },\n\n    valueFormat: '.2f',\n\n    pixelRatio:\n        typeof window !== 'undefined' && window.devicePixelRatio ? window.devicePixelRatio : 1,\n\n    padAngle: 0.006,\n    innerRadiusRatio: 0.86,\n    innerRadiusOffset: 0,\n\n    arcOpacity: 1,\n    arcBorderWidth: 0,\n    arcBorderColor: {\n        from: 'color',\n        modifiers: [['darker', 0.4]],\n    },\n\n    ribbonOpacity: 0.5,\n    ribbonBorderWidth: 0,\n    ribbonBorderColor: {\n        from: 'color',\n        modifiers: [['darker', 0.4]],\n    },\n\n    enableLabel: true,\n    label: 'id',\n    labelOffset: 9,\n    labelRotation: -90,\n    labelTextColor: {\n        from: 'color',\n        modifiers: [['darker', 1]],\n    },\n\n    colors: { scheme: 'paired' },\n\n    isInteractive: true,\n    arcHoverOpacity: 1,\n    arcHoverOthersOpacity: 0.4,\n    ribbonHoverOpacity: 0.75,\n    ribbonHoverOthersOpacity: 0,\n\n    legends: [\n        {\n            anchor: 'right',\n            direction: 'column',\n            justify: false,\n            translateX: 120,\n            translateY: 0,\n            itemWidth: 80,\n            itemHeight: 11,\n            itemsSpacing: 0,\n            itemTextColor: '#999',\n            itemDirection: 'left-to-right',\n            symbolSize: 12,\n            onClick: d => {\n                alert(JSON.stringify(d, null, '    '))\n            },\n            effects: [\n                {\n                    on: 'hover',\n                    style: {\n                        itemTextColor: '#000',\n                    },\n                },\n            ],\n        },\n    ],\n}\n\nconst generateData = () => generateChordData({ size: MATRIX_SIZE })\n\nconst ChordCanvas = () => {\n    return (\n        <ComponentTemplate\n            name=\"ChordCanvas\"\n            meta={meta.ChordCanvas}\n            icon=\"chord\"\n            flavors={meta.flavors}\n            currentFlavor=\"canvas\"\n            properties={groups}\n            initialProperties={initialProperties}\n            propertiesMapper={mapper}\n            codePropertiesMapper={(properties, data) => ({\n                keys: data.keys,\n                ...properties,\n            })}\n            generateData={generateData}\n            dataKey=\"matrix\"\n            getDataSize={() => MATRIX_SIZE * MATRIX_SIZE + MATRIX_SIZE}\n            getTabData={data => data.matrix}\n        >\n            {(properties, data, theme, logAction) => {\n                return (\n                    <ResponsiveChordCanvas\n                        matrix={data.matrix}\n                        keys={data.keys}\n                        {...properties}\n                        theme={theme}\n                        onArcClick={arc => {\n                            logAction({\n                                type: 'click',\n                                label: `[arc] ${arc.label}`,\n                                color: arc.color,\n                                data: arc,\n                            })\n                        }}\n                    />\n                )\n            }}\n        </ComponentTemplate>\n    )\n}\n\nexport default ChordCanvas\n","var baseAssignValue = require('./_baseAssignValue'),\n    baseForOwn = require('./_baseForOwn'),\n    baseIteratee = require('./_baseIteratee');\n/**\n * Creates an object with the same keys as `object` and values generated\n * by running each own enumerable string keyed property of `object` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, key, object).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Object\n * @param {Object} object The object to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Object} Returns the new mapped object.\n * @see _.mapKeys\n * @example\n *\n * var users = {\n *   'fred':    { 'user': 'fred',    'age': 40 },\n *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n * };\n *\n * _.mapValues(users, function(o) { return o.age; });\n * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n *\n * // The `_.property` iteratee shorthand.\n * _.mapValues(users, 'age');\n * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n */\n\n\nfunction mapValues(object, iteratee) {\n  var result = {};\n  iteratee = baseIteratee(iteratee, 3);\n  baseForOwn(object, function (value, key, object) {\n    baseAssignValue(result, key, iteratee(value, key, object));\n  });\n  return result;\n}\n\nmodule.exports = mapValues;","import React, { memo, useMemo, useState, Fragment, useRef, useEffect, useCallback } from 'react';\nimport { useTheme, blendModePropType, motionPropTypes, getLabelGenerator, useValueFormatter, useMotionConfig, midAngle, getPolarLabelProps, withContainer, useDimensions, SvgWrapper, degreesToRadians, getHoveredArc, getRelativeCursor, ResponsiveWrapper } from '@nivo/core';\nimport { inheritedColorPropType, ordinalColorsPropType, useOrdinalColorScale, interpolateColor, getInterpolatedColor, useInheritedColor } from '@nivo/colors';\nimport { LegendPropShape, BoxLegendSvg, renderLegendToCanvas } from '@nivo/legends';\nimport PropTypes from 'prop-types';\nimport { BasicTooltip, TableTooltip, Chip, useTooltip } from '@nivo/tooltip';\nimport { arc } from 'd3-shape';\nimport { chord, ribbon } from 'd3-chord';\nimport mapValues from 'lodash/mapValues';\nimport { TransitionMotion, spring } from 'react-motion';\n\nvar ChordArcTooltip = memo(function (_ref) {\n  var arc = _ref.arc;\n  return React.createElement(BasicTooltip, {\n    id: arc.label,\n    value: arc.formattedValue,\n    color: arc.color,\n    enableChip: true\n  });\n});\nChordArcTooltip.displayName = 'ChordArcTooltip';\nChordArcTooltip.propTypes = {\n  arc: PropTypes.object.isRequired\n};\n\nvar ChordRibbonTooltip = memo(function (_ref) {\n  var ribbon = _ref.ribbon;\n  var theme = useTheme();\n  return React.createElement(TableTooltip, {\n    theme: theme,\n    rows: [[React.createElement(Chip, {\n      key: \"chip\",\n      color: ribbon.source.color\n    }), React.createElement(\"strong\", {\n      key: \"id\"\n    }, ribbon.source.label), ribbon.source.formattedValue], [React.createElement(Chip, {\n      key: \"chip\",\n      color: ribbon.target.color\n    }), React.createElement(\"strong\", {\n      key: \"id\"\n    }, ribbon.target.label), ribbon.target.formattedValue]]\n  });\n});\nChordRibbonTooltip.displayName = 'ChordRibbonTooltip';\nChordRibbonTooltip.propTypes = {\n  ribbon: PropTypes.object.isRequired\n};\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar commonPropTypes = {\n  keys: PropTypes.arrayOf(PropTypes.string).isRequired,\n  matrix: PropTypes.arrayOf(PropTypes.arrayOf(PropTypes.number)).isRequired,\n  valueFormat: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  padAngle: PropTypes.number.isRequired,\n  innerRadiusRatio: PropTypes.number.isRequired,\n  innerRadiusOffset: PropTypes.number.isRequired,\n  layers: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.oneOf(['ribbons', 'arcs', 'labels', 'legends']), PropTypes.func])).isRequired,\n  arcOpacity: PropTypes.number.isRequired,\n  arcHoverOpacity: PropTypes.number.isRequired,\n  arcHoverOthersOpacity: PropTypes.number.isRequired,\n  arcBorderWidth: PropTypes.number.isRequired,\n  arcBorderColor: inheritedColorPropType.isRequired,\n  onArcMouseEnter: PropTypes.func,\n  onArcMouseMove: PropTypes.func,\n  onArcMouseLeave: PropTypes.func,\n  onArcClick: PropTypes.func,\n  arcTooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n  ribbonOpacity: PropTypes.number.isRequired,\n  ribbonHoverOpacity: PropTypes.number.isRequired,\n  ribbonHoverOthersOpacity: PropTypes.number.isRequired,\n  ribbonBorderWidth: PropTypes.number.isRequired,\n  ribbonBorderColor: inheritedColorPropType.isRequired,\n  ribbonBlendMode: blendModePropType.isRequired,\n  onRibbonMouseEnter: PropTypes.func,\n  onRibbonMouseMove: PropTypes.func,\n  onRibbonMouseLeave: PropTypes.func,\n  onRibbonClick: PropTypes.func,\n  ribbonTooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n  enableLabel: PropTypes.bool.isRequired,\n  label: PropTypes.oneOfType([PropTypes.string, PropTypes.func]).isRequired,\n  labelOffset: PropTypes.number.isRequired,\n  labelRotation: PropTypes.number.isRequired,\n  labelTextColor: inheritedColorPropType.isRequired,\n  colors: ordinalColorsPropType.isRequired,\n  isInteractive: PropTypes.bool.isRequired,\n  legends: PropTypes.arrayOf(PropTypes.shape(LegendPropShape)).isRequired\n};\nvar ChordPropTypes = _objectSpread({}, commonPropTypes, motionPropTypes);\nvar ChordCanvasPropTypes = _objectSpread({\n  pixelRatio: PropTypes.number.isRequired\n}, commonPropTypes);\nvar commonDefaultProps = {\n  padAngle: 0,\n  innerRadiusRatio: 0.9,\n  innerRadiusOffset: 0,\n  layers: ['ribbons', 'arcs', 'labels', 'legends'],\n  arcOpacity: 1,\n  arcHoverOpacity: 1,\n  arcHoverOthersOpacity: 0.15,\n  arcBorderWidth: 1,\n  arcBorderColor: {\n    from: 'color',\n    modifiers: [['darker', 0.4]]\n  },\n  arcTooltip: ChordArcTooltip,\n  ribbonOpacity: 0.5,\n  ribbonHoverOpacity: 0.85,\n  ribbonHoverOthersOpacity: 0.15,\n  ribbonBorderWidth: 1,\n  ribbonBorderColor: {\n    from: 'color',\n    modifiers: [['darker', 0.4]]\n  },\n  ribbonBlendMode: 'normal',\n  ribbonTooltip: ChordRibbonTooltip,\n  enableLabel: true,\n  label: 'id',\n  labelOffset: 12,\n  labelRotation: 0,\n  labelTextColor: {\n    from: 'color',\n    modifiers: [['darker', 1]]\n  },\n  colors: {\n    scheme: 'nivo'\n  },\n  legends: [],\n  isInteractive: true\n};\nvar ChordDefaultProps = _objectSpread({}, commonDefaultProps, {\n  animate: true,\n  motionStiffness: 90,\n  motionDamping: 15\n});\nvar ChordCanvasDefaultProps = _objectSpread({}, commonDefaultProps, {\n  pixelRatio: global.window && global.window.devicePixelRatio ? global.window.devicePixelRatio : 1\n});\n\nvar computeChordLayout = function computeChordLayout(_ref) {\n  var padAngle = _ref.padAngle;\n  return chord().padAngle(padAngle);\n};\nvar computeChordGenerators = function computeChordGenerators(_ref2) {\n  var width = _ref2.width,\n      height = _ref2.height,\n      innerRadiusRatio = _ref2.innerRadiusRatio,\n      innerRadiusOffset = _ref2.innerRadiusOffset;\n  var center = [width / 2, height / 2];\n  var radius = Math.min(width, height) / 2;\n  var innerRadius = radius * innerRadiusRatio;\n  var ribbonRadius = radius * (innerRadiusRatio - innerRadiusOffset);\n  var arcGenerator = arc().outerRadius(radius).innerRadius(innerRadius);\n  var ribbonGenerator = ribbon().radius(ribbonRadius);\n  return {\n    center: center,\n    radius: radius,\n    innerRadius: innerRadius,\n    arcGenerator: arcGenerator,\n    ribbonGenerator: ribbonGenerator\n  };\n};\nvar computeChordArcsAndRibbons = function computeChordArcsAndRibbons(_ref3) {\n  var chord = _ref3.chord,\n      getColor = _ref3.getColor,\n      keys = _ref3.keys,\n      matrix = _ref3.matrix,\n      getLabel = _ref3.getLabel,\n      formatValue = _ref3.formatValue;\n  var ribbons = chord(matrix);\n  var arcs = ribbons.groups.map(function (arc) {\n    arc.id = keys[arc.index];\n    arc.color = getColor(arc);\n    arc.formattedValue = formatValue(arc.value);\n    arc.label = getLabel(arc);\n    return arc;\n  });\n  ribbons.forEach(function (ribbon) {\n    ribbon.source.id = keys[ribbon.source.index];\n    ribbon.source.color = getColor(ribbon.source);\n    ribbon.source.formattedValue = formatValue(ribbon.source.value);\n    ribbon.source.label = getLabel(ribbon.source);\n    ribbon.target.id = keys[ribbon.target.index];\n    ribbon.target.color = getColor(ribbon.target);\n    ribbon.target.formattedValue = formatValue(ribbon.target.value);\n    ribbon.target.label = getLabel(ribbon.target);\n    ribbon.id = [ribbon.source.id, ribbon.target.id].sort().join('.');\n  });\n  return {\n    arcs: arcs,\n    ribbons: ribbons\n  };\n};\n\nfunction _objectSpread$1(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$1(target, key, source[key]); }); } return target; }\nfunction _defineProperty$1(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\nfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nvar useChordLayout = function useChordLayout(_ref) {\n  var padAngle = _ref.padAngle;\n  return useMemo(function () {\n    return computeChordLayout({\n      padAngle: padAngle\n    });\n  }, [padAngle]);\n};\nvar useChordGenerators = function useChordGenerators(_ref2) {\n  var width = _ref2.width,\n      height = _ref2.height,\n      innerRadiusRatio = _ref2.innerRadiusRatio,\n      innerRadiusOffset = _ref2.innerRadiusOffset;\n  return useMemo(function () {\n    return computeChordGenerators({\n      width: width,\n      height: height,\n      innerRadiusRatio: innerRadiusRatio,\n      innerRadiusOffset: innerRadiusOffset\n    });\n  }, [width, height, innerRadiusRatio, innerRadiusOffset]);\n};\nvar useChordArcsAndRibbons = function useChordArcsAndRibbons(_ref3) {\n  var chord = _ref3.chord,\n      getColor = _ref3.getColor,\n      keys = _ref3.keys,\n      matrix = _ref3.matrix,\n      getLabel = _ref3.getLabel,\n      formatValue = _ref3.formatValue;\n  return useMemo(function () {\n    return computeChordArcsAndRibbons({\n      chord: chord,\n      getColor: getColor,\n      keys: keys,\n      matrix: matrix,\n      getLabel: getLabel,\n      formatValue: formatValue\n    });\n  }, [chord, getColor, keys, matrix, getLabel, formatValue]);\n};\nvar useChord = function useChord(_ref4) {\n  var keys = _ref4.keys,\n      matrix = _ref4.matrix,\n      label = _ref4.label,\n      valueFormat = _ref4.valueFormat,\n      width = _ref4.width,\n      height = _ref4.height,\n      innerRadiusRatio = _ref4.innerRadiusRatio,\n      innerRadiusOffset = _ref4.innerRadiusOffset,\n      padAngle = _ref4.padAngle,\n      colors = _ref4.colors;\n  var chord = useChordLayout({\n    padAngle: padAngle\n  });\n  var _useChordGenerators = useChordGenerators({\n    width: width,\n    height: height,\n    innerRadiusRatio: innerRadiusRatio,\n    innerRadiusOffset: innerRadiusOffset\n  }),\n      center = _useChordGenerators.center,\n      radius = _useChordGenerators.radius,\n      innerRadius = _useChordGenerators.innerRadius,\n      arcGenerator = _useChordGenerators.arcGenerator,\n      ribbonGenerator = _useChordGenerators.ribbonGenerator;\n  var getLabel = useMemo(function () {\n    return getLabelGenerator(label);\n  }, [label]);\n  var formatValue = useValueFormatter(valueFormat);\n  var getColor = useOrdinalColorScale(colors, 'id');\n  var _useChordArcsAndRibbo = useChordArcsAndRibbons({\n    chord: chord,\n    getColor: getColor,\n    keys: keys,\n    matrix: matrix,\n    getLabel: getLabel,\n    formatValue: formatValue\n  }),\n      arcs = _useChordArcsAndRibbo.arcs,\n      ribbons = _useChordArcsAndRibbo.ribbons;\n  return {\n    center: center,\n    chord: chord,\n    radius: radius,\n    innerRadius: innerRadius,\n    arcGenerator: arcGenerator,\n    ribbonGenerator: ribbonGenerator,\n    getColor: getColor,\n    arcs: arcs,\n    ribbons: ribbons\n  };\n};\nvar useChordSelection = function useChordSelection(_ref5) {\n  var arcs = _ref5.arcs,\n      arcOpacity = _ref5.arcOpacity,\n      arcHoverOpacity = _ref5.arcHoverOpacity,\n      arcHoverOthersOpacity = _ref5.arcHoverOthersOpacity,\n      ribbons = _ref5.ribbons,\n      ribbonOpacity = _ref5.ribbonOpacity,\n      ribbonHoverOpacity = _ref5.ribbonHoverOpacity,\n      ribbonHoverOthersOpacity = _ref5.ribbonHoverOthersOpacity;\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      currentArc = _useState2[0],\n      setCurrentArc = _useState2[1];\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      currentRibbon = _useState4[0],\n      setCurrentRibbon = _useState4[1];\n  var selection = useMemo(function () {\n    var selectedArcIds = [];\n    var selectedRibbonIds = [];\n    if (currentArc) {\n      selectedArcIds.push(currentArc.id);\n      ribbons.filter(function (ribbon) {\n        return ribbon.source.id === currentArc.id || ribbon.target.id === currentArc.id;\n      }).forEach(function (ribbon) {\n        selectedRibbonIds.push(ribbon.id);\n      });\n    }\n    if (currentRibbon) {\n      selectedArcIds.push(currentRibbon.source.id);\n      selectedArcIds.push(currentRibbon.target.id);\n      selectedRibbonIds.push(currentRibbon.id);\n    }\n    return {\n      selectedArcIds: selectedArcIds,\n      selectedRibbonIds: selectedRibbonIds\n    };\n  }, [currentArc, currentRibbon, arcs, ribbons]);\n  var hasSelection = selection.selectedArcIds.length > 1 || selection.selectedRibbonIds.length > 0;\n  var getArcOpacity = useMemo(function () {\n    return function (arc) {\n      if (!hasSelection) return arcOpacity;\n      return selection.selectedArcIds.includes(arc.id) ? arcHoverOpacity : arcHoverOthersOpacity;\n    };\n  }, [selection.selectedArcIds, arcOpacity, arcHoverOpacity, arcHoverOthersOpacity]);\n  var getRibbonOpacity = useMemo(function () {\n    return function (ribbon) {\n      if (!hasSelection) return ribbonOpacity;\n      return selection.selectedRibbonIds.includes(ribbon.id) ? ribbonHoverOpacity : ribbonHoverOthersOpacity;\n    };\n  }, [selection.selectedRibbonIds, ribbonOpacity, ribbonHoverOpacity, ribbonHoverOthersOpacity]);\n  return _objectSpread$1({\n    currentArc: currentArc,\n    setCurrentArc: setCurrentArc,\n    currentRibbon: currentRibbon,\n    setCurrentRibbon: setCurrentRibbon,\n    hasSelection: hasSelection\n  }, selection, {\n    getArcOpacity: getArcOpacity,\n    getRibbonOpacity: getRibbonOpacity\n  });\n};\nvar useChordLayerContext = function useChordLayerContext(_ref6) {\n  var center = _ref6.center,\n      radius = _ref6.radius,\n      arcs = _ref6.arcs,\n      arcGenerator = _ref6.arcGenerator,\n      ribbons = _ref6.ribbons,\n      ribbonGenerator = _ref6.ribbonGenerator;\n  return useMemo(function () {\n    return {\n      center: center,\n      radius: radius,\n      arcs: arcs,\n      arcGenerator: arcGenerator,\n      ribbons: ribbons,\n      ribbonGenerator: ribbonGenerator\n    };\n  }, [center, radius, arcs, arcGenerator, ribbons, ribbonGenerator]);\n};\n\nfunction _objectSpread$2(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$2(target, key, source[key]); }); } return target; }\nfunction _defineProperty$2(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar ChordRibbon = memo(function (_ref) {\n  var ribbon = _ref.ribbon,\n      ribbonGenerator = _ref.ribbonGenerator,\n      sourceStartAngle = _ref.sourceStartAngle,\n      sourceEndAngle = _ref.sourceEndAngle,\n      targetStartAngle = _ref.targetStartAngle,\n      targetEndAngle = _ref.targetEndAngle,\n      color = _ref.color,\n      opacity = _ref.opacity,\n      borderWidth = _ref.borderWidth,\n      getBorderColor = _ref.getBorderColor,\n      blendMode = _ref.blendMode,\n      isInteractive = _ref.isInteractive,\n      setCurrent = _ref.setCurrent,\n      onMouseEnter = _ref.onMouseEnter,\n      onMouseMove = _ref.onMouseMove,\n      onMouseLeave = _ref.onMouseLeave,\n      onClick = _ref.onClick,\n      tooltip = _ref.tooltip;\n  var _useTooltip = useTooltip(),\n      showTooltipFromEvent = _useTooltip.showTooltipFromEvent,\n      hideTooltip = _useTooltip.hideTooltip;\n  var handleMouseEnter = useMemo(function () {\n    if (!isInteractive) return undefined;\n    return function (event) {\n      setCurrent(ribbon);\n      showTooltipFromEvent(React.createElement(tooltip, {\n        ribbon: ribbon\n      }), event);\n      onMouseEnter && onMouseEnter(ribbon, event);\n    };\n  }, [isInteractive, showTooltipFromEvent, tooltip, ribbon, onMouseEnter]);\n  var handleMouseMove = useMemo(function () {\n    if (!isInteractive) return undefined;\n    return function (event) {\n      showTooltipFromEvent(React.createElement(tooltip, {\n        ribbon: ribbon\n      }), event);\n      onMouseMove && onMouseMove(ribbon, event);\n    };\n  }, [isInteractive, showTooltipFromEvent, tooltip, ribbon, onMouseMove]);\n  var handleMouseLeave = useMemo(function () {\n    if (!isInteractive) return undefined;\n    return function (event) {\n      setCurrent(null);\n      hideTooltip();\n      onMouseLeave && onMouseLeave(ribbon, event);\n    };\n  }, [isInteractive, hideTooltip, ribbon, onMouseLeave]);\n  var handleClick = useMemo(function () {\n    if (!isInteractive || !onClick) return undefined;\n    return function (event) {\n      return onClick(ribbon, event);\n    };\n  }, [isInteractive, ribbon, onClick]);\n  return React.createElement(\"path\", {\n    d: ribbonGenerator({\n      source: {\n        startAngle: sourceStartAngle,\n        endAngle: sourceEndAngle\n      },\n      target: {\n        startAngle: targetStartAngle,\n        endAngle: targetEndAngle\n      }\n    }),\n    fill: color,\n    fillOpacity: opacity,\n    strokeWidth: borderWidth,\n    stroke: getBorderColor(_objectSpread$2({}, ribbon, {\n      color: color\n    })),\n    strokeOpacity: opacity,\n    style: {\n      mixBlendMode: blendMode\n    },\n    onMouseEnter: handleMouseEnter,\n    onMouseMove: handleMouseMove,\n    onMouseLeave: handleMouseLeave,\n    onClick: handleClick\n  });\n});\nChordRibbon.displayName = 'ChordRibbon';\nChordRibbon.propTypes = {\n  ribbon: PropTypes.object.isRequired,\n  ribbonGenerator: PropTypes.func.isRequired,\n  sourceStartAngle: PropTypes.number.isRequired,\n  sourceEndAngle: PropTypes.number.isRequired,\n  targetStartAngle: PropTypes.number.isRequired,\n  targetEndAngle: PropTypes.number.isRequired,\n  color: PropTypes.string.isRequired,\n  blendMode: blendModePropType.isRequired,\n  opacity: PropTypes.number.isRequired,\n  borderWidth: PropTypes.number.isRequired,\n  getBorderColor: PropTypes.func.isRequired,\n  setCurrent: PropTypes.func.isRequired,\n  isInteractive: PropTypes.bool.isRequired,\n  onMouseEnter: PropTypes.func,\n  onMouseMove: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  onClick: PropTypes.func,\n  tooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired\n};\n\nfunction _objectSpread$3(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$3(target, key, source[key]); }); } return target; }\nfunction _defineProperty$3(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar getRibbonAngles = function getRibbonAngles(_ref, useMiddleAngle, springConfig) {\n  var source = _ref.source,\n      target = _ref.target;\n  var firstArc;\n  var secondArc;\n  if (source.startAngle < target.startAngle) {\n    firstArc = source;\n    secondArc = target;\n  } else {\n    firstArc = target;\n    secondArc = source;\n  }\n  var angles;\n  if (useMiddleAngle === true) {\n    var firstMiddleAngle = midAngle(firstArc);\n    var secondMiddleAngle = midAngle(secondArc);\n    angles = {\n      sourceStartAngle: firstMiddleAngle,\n      sourceEndAngle: firstMiddleAngle,\n      targetStartAngle: secondMiddleAngle,\n      targetEndAngle: secondMiddleAngle\n    };\n  } else {\n    angles = {\n      sourceStartAngle: firstArc.startAngle,\n      sourceEndAngle: firstArc.endAngle,\n      targetStartAngle: secondArc.startAngle,\n      targetEndAngle: secondArc.endAngle\n    };\n  }\n  if (!springConfig) return angles;\n  return mapValues(angles, function (angle) {\n    return spring(angle, springConfig);\n  });\n};\nvar ribbonWillEnter = function ribbonWillEnter(_ref2) {\n  var ribbon = _ref2.data;\n  return _objectSpread$3({}, getRibbonAngles(ribbon, true), {\n    opacity: 0\n  }, interpolateColor(ribbon.source.color));\n};\nvar ribbonWillLeave = function ribbonWillLeave(springConfig) {\n  return function (_ref3) {\n    var ribbon = _ref3.data;\n    return _objectSpread$3({}, getRibbonAngles(ribbon, true, springConfig), {\n      opacity: 0\n    }, interpolateColor(ribbon.source.color, springConfig));\n  };\n};\nvar ChordRibbons = memo(function (_ref4) {\n  var ribbons = _ref4.ribbons,\n      ribbonGenerator = _ref4.ribbonGenerator,\n      borderWidth = _ref4.borderWidth,\n      getBorderColor = _ref4.getBorderColor,\n      getOpacity = _ref4.getOpacity,\n      blendMode = _ref4.blendMode,\n      isInteractive = _ref4.isInteractive,\n      setCurrent = _ref4.setCurrent,\n      onMouseEnter = _ref4.onMouseEnter,\n      onMouseMove = _ref4.onMouseMove,\n      onMouseLeave = _ref4.onMouseLeave,\n      onClick = _ref4.onClick,\n      tooltip = _ref4.tooltip;\n  var _useMotionConfig = useMotionConfig(),\n      animate = _useMotionConfig.animate,\n      _springConfig = _useMotionConfig.springConfig;\n  if (animate !== true) {\n    return React.createElement(\"g\", null, ribbons.map(function (ribbon) {\n      return React.createElement(ChordRibbon, {\n        key: ribbon.id,\n        ribbon: ribbon,\n        ribbonGenerator: ribbonGenerator,\n        sourceStartAngle: ribbon.source.startAngle,\n        sourceEndAngle: ribbon.source.endAngle,\n        targetStartAngle: ribbon.target.startAngle,\n        targetEndAngle: ribbon.target.endAngle,\n        color: ribbon.source.color,\n        blendMode: blendMode,\n        opacity: getOpacity(ribbon),\n        borderWidth: borderWidth,\n        getBorderColor: getBorderColor,\n        isInteractive: isInteractive,\n        setCurrent: setCurrent,\n        onMouseEnter: onMouseEnter,\n        onMouseMove: onMouseMove,\n        onMouseLeave: onMouseLeave,\n        onClick: onClick,\n        tooltip: tooltip\n      });\n    }));\n  }\n  var springConfig = _objectSpread$3({}, _springConfig, {\n    precision: 0.001\n  });\n  return React.createElement(TransitionMotion, {\n    willEnter: ribbonWillEnter,\n    willLeave: ribbonWillLeave(springConfig),\n    styles: ribbons.map(function (ribbon) {\n      return {\n        key: ribbon.id,\n        data: ribbon,\n        style: _objectSpread$3({}, getRibbonAngles(ribbon, false, springConfig), {\n          opacity: spring(getOpacity(ribbon), springConfig)\n        }, interpolateColor(ribbon.source.color, springConfig))\n      };\n    })\n  }, function (interpolatedStyles) {\n    return React.createElement(React.Fragment, null, interpolatedStyles.map(function (_ref5) {\n      var key = _ref5.key,\n          style = _ref5.style,\n          ribbon = _ref5.data;\n      var color = getInterpolatedColor(style);\n      return React.createElement(ChordRibbon, {\n        key: key,\n        ribbon: ribbon,\n        ribbonGenerator: ribbonGenerator,\n        sourceStartAngle: style.sourceStartAngle,\n        sourceEndAngle: Math.max(style.sourceEndAngle, style.sourceStartAngle),\n        targetStartAngle: style.targetStartAngle,\n        targetEndAngle: Math.max(style.targetEndAngle, style.targetStartAngle),\n        color: color,\n        blendMode: blendMode,\n        opacity: style.opacity,\n        borderWidth: borderWidth,\n        getBorderColor: getBorderColor,\n        isInteractive: isInteractive,\n        setCurrent: setCurrent,\n        onMouseEnter: onMouseEnter,\n        onMouseMove: onMouseMove,\n        onMouseLeave: onMouseLeave,\n        onClick: onClick,\n        tooltip: tooltip\n      });\n    }));\n  });\n});\nChordRibbons.displayName = 'ChordRibbons';\nChordRibbons.propTypes = {\n  ribbons: PropTypes.array.isRequired,\n  ribbonGenerator: PropTypes.func.isRequired,\n  borderWidth: PropTypes.number.isRequired,\n  getBorderColor: PropTypes.func.isRequired,\n  getOpacity: PropTypes.func.isRequired,\n  blendMode: blendModePropType.isRequired,\n  isInteractive: PropTypes.bool.isRequired,\n  setCurrent: PropTypes.func.isRequired,\n  tooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n  onMouseEnter: PropTypes.func,\n  onMouseMove: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  onClick: PropTypes.func\n};\n\nvar ChordArc = memo(function (_ref) {\n  var arc = _ref.arc,\n      startAngle = _ref.startAngle,\n      endAngle = _ref.endAngle,\n      borderWidth = _ref.borderWidth,\n      getBorderColor = _ref.getBorderColor,\n      opacity = _ref.opacity,\n      arcGenerator = _ref.arcGenerator,\n      setCurrent = _ref.setCurrent,\n      isInteractive = _ref.isInteractive,\n      onMouseEnter = _ref.onMouseEnter,\n      onMouseMove = _ref.onMouseMove,\n      onMouseLeave = _ref.onMouseLeave,\n      onClick = _ref.onClick,\n      tooltip = _ref.tooltip;\n  var _useTooltip = useTooltip(),\n      showTooltipFromEvent = _useTooltip.showTooltipFromEvent,\n      hideTooltip = _useTooltip.hideTooltip;\n  var handleMouseEnter = useMemo(function () {\n    if (!isInteractive) return undefined;\n    return function (event) {\n      setCurrent(arc);\n      showTooltipFromEvent(React.createElement(tooltip, {\n        arc: arc\n      }), event);\n      onMouseEnter && onMouseEnter(arc, event);\n    };\n  }, [isInteractive, showTooltipFromEvent, tooltip, arc, onMouseEnter]);\n  var handleMouseMove = useMemo(function () {\n    if (!isInteractive) return undefined;\n    return function (event) {\n      showTooltipFromEvent(React.createElement(tooltip, {\n        arc: arc\n      }), event);\n      onMouseMove && onMouseMove(arc, event);\n    };\n  }, [isInteractive, showTooltipFromEvent, tooltip, arc, onMouseMove]);\n  var handleMouseLeave = useMemo(function () {\n    if (!isInteractive) return undefined;\n    return function (event) {\n      setCurrent(null);\n      hideTooltip();\n      onMouseLeave && onMouseLeave(arc, event);\n    };\n  }, [isInteractive, hideTooltip, arc, onMouseLeave]);\n  var handleClick = useMemo(function () {\n    if (!isInteractive || !onClick) return undefined;\n    return function (event) {\n      return onClick(arc, event);\n    };\n  }, [isInteractive, arc, onClick]);\n  return React.createElement(\"path\", {\n    d: arcGenerator({\n      startAngle: startAngle,\n      endAngle: endAngle\n    }),\n    fill: arc.color,\n    fillOpacity: opacity,\n    strokeWidth: borderWidth,\n    stroke: getBorderColor(arc),\n    strokeOpacity: opacity,\n    onMouseEnter: handleMouseEnter,\n    onMouseMove: handleMouseMove,\n    onMouseLeave: handleMouseLeave,\n    onClick: handleClick\n  });\n});\nChordArc.displayName = 'ChordArc';\nChordArc.propTypes = {\n  arc: PropTypes.object.isRequired,\n  startAngle: PropTypes.number.isRequired,\n  endAngle: PropTypes.number.isRequired,\n  arcGenerator: PropTypes.func.isRequired,\n  borderWidth: PropTypes.number.isRequired,\n  getBorderColor: PropTypes.func.isRequired,\n  opacity: PropTypes.number.isRequired,\n  setCurrent: PropTypes.func.isRequired,\n  isInteractive: PropTypes.bool.isRequired,\n  onMouseEnter: PropTypes.func,\n  onMouseMove: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  onClick: PropTypes.func,\n  tooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired\n};\n\nfunction _objectSpread$4(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$4(target, key, source[key]); }); } return target; }\nfunction _defineProperty$4(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar ChordArcs = memo(function (_ref) {\n  var arcs = _ref.arcs,\n      borderWidth = _ref.borderWidth,\n      getBorderColor = _ref.getBorderColor,\n      getOpacity = _ref.getOpacity,\n      arcGenerator = _ref.arcGenerator,\n      setCurrent = _ref.setCurrent,\n      isInteractive = _ref.isInteractive,\n      onMouseEnter = _ref.onMouseEnter,\n      onMouseMove = _ref.onMouseMove,\n      onMouseLeave = _ref.onMouseLeave,\n      onClick = _ref.onClick,\n      tooltip = _ref.tooltip;\n  var _useMotionConfig = useMotionConfig(),\n      animate = _useMotionConfig.animate,\n      _springConfig = _useMotionConfig.springConfig;\n  if (animate !== true) {\n    return arcs.map(function (arc) {\n      return React.createElement(ChordArc, {\n        key: arc.id,\n        arc: arc,\n        arcGenerator: arcGenerator,\n        startAngle: arc.startAngle,\n        endAngle: arc.endAngle,\n        color: arc.color,\n        opacity: getOpacity(arc),\n        borderWidth: borderWidth,\n        getBorderColor: getBorderColor,\n        getOpacity: getOpacity,\n        isInteractive: isInteractive,\n        setCurrent: setCurrent,\n        onMouseEnter: onMouseEnter,\n        onMouseMove: onMouseMove,\n        onMouseLeave: onMouseLeave,\n        onClick: onClick,\n        tooltip: tooltip\n      });\n    });\n  }\n  var springConfig = _objectSpread$4({}, _springConfig, {\n    precision: 0.001\n  });\n  return React.createElement(TransitionMotion, {\n    styles: arcs.map(function (arc) {\n      return {\n        key: arc.id,\n        data: arc,\n        style: _objectSpread$4({\n          startAngle: spring(arc.startAngle, springConfig),\n          endAngle: spring(arc.endAngle, springConfig),\n          opacity: spring(getOpacity(arc), springConfig)\n        }, interpolateColor(arc.color, springConfig))\n      };\n    })\n  }, function (interpolatedStyles) {\n    return React.createElement(React.Fragment, null, interpolatedStyles.map(function (_ref2) {\n      var key = _ref2.key,\n          style = _ref2.style,\n          arc = _ref2.data;\n      var color = getInterpolatedColor(style);\n      return React.createElement(ChordArc, {\n        key: key,\n        arc: arc,\n        arcGenerator: arcGenerator,\n        startAngle: style.startAngle,\n        endAngle: style.endAngle,\n        color: color,\n        opacity: style.opacity,\n        borderWidth: borderWidth,\n        getBorderColor: getBorderColor,\n        getOpacity: getOpacity,\n        isInteractive: isInteractive,\n        setCurrent: setCurrent,\n        onMouseEnter: onMouseEnter,\n        onMouseMove: onMouseMove,\n        onMouseLeave: onMouseLeave,\n        onClick: onClick,\n        tooltip: tooltip\n      });\n    }));\n  });\n});\nChordArcs.displayName = 'ChordArcs';\nChordArcs.propTypes = {\n  arcs: PropTypes.array.isRequired,\n  arcGenerator: PropTypes.func.isRequired,\n  borderWidth: PropTypes.number.isRequired,\n  getBorderColor: PropTypes.func.isRequired,\n  getOpacity: PropTypes.func.isRequired,\n  setCurrent: PropTypes.func.isRequired,\n  isInteractive: PropTypes.bool.isRequired,\n  onMouseEnter: PropTypes.func,\n  onMouseMove: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  onClick: PropTypes.func,\n  tooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired\n};\n\nfunction _objectSpread$5(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$5(target, key, source[key]); }); } return target; }\nfunction _defineProperty$5(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar ChordLabels = function ChordLabels(_ref) {\n  var arcs = _ref.arcs,\n      radius = _ref.radius,\n      rotation = _ref.rotation,\n      getColor = _ref.getColor;\n  var theme = useTheme();\n  var _useMotionConfig = useMotionConfig(),\n      animate = _useMotionConfig.animate,\n      springConfig = _useMotionConfig.springConfig;\n  if (animate !== true) {\n    return React.createElement(React.Fragment, null, arcs.map(function (arc) {\n      var color = getColor(arc, theme);\n      var angle = midAngle(arc);\n      var textProps = getPolarLabelProps(radius, angle, rotation);\n      return React.createElement(\"text\", {\n        key: arc.id,\n        transform: \"translate(\".concat(textProps.x, \", \").concat(textProps.y, \") rotate(\").concat(textProps.rotate, \")\"),\n        style: _objectSpread$5({}, theme.labels.text, {\n          pointerEvents: 'none',\n          fill: color\n        }),\n        textAnchor: textProps.align,\n        dominantBaseline: textProps.baseline\n      }, arc.label);\n    }));\n  }\n  return React.createElement(TransitionMotion, {\n    styles: arcs.map(function (arc) {\n      var angle = midAngle(arc);\n      return {\n        key: arc.id,\n        data: arc,\n        style: {\n          angle: spring(angle, springConfig)\n        }\n      };\n    })\n  }, function (interpolatedStyles) {\n    return React.createElement(React.Fragment, null, interpolatedStyles.map(function (_ref2) {\n      var key = _ref2.key,\n          style = _ref2.style,\n          arc = _ref2.data;\n      var color = getColor(arc, theme);\n      var textProps = getPolarLabelProps(radius, style.angle, rotation);\n      return React.createElement(\"text\", {\n        key: key,\n        transform: \"translate(\".concat(textProps.x, \", \").concat(textProps.y, \") rotate(\").concat(textProps.rotate, \")\"),\n        style: _objectSpread$5({}, theme.labels.text, {\n          pointerEvents: 'none',\n          fill: color\n        }),\n        textAnchor: textProps.align,\n        dominantBaseline: textProps.baseline\n      }, arc.label);\n    }));\n  });\n};\nChordLabels.propTypes = {\n  arcs: PropTypes.array.isRequired,\n  radius: PropTypes.number.isRequired,\n  rotation: PropTypes.number.isRequired,\n  getColor: PropTypes.func.isRequired\n};\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nvar Chord = function Chord(_ref) {\n  var partialMargin = _ref.margin,\n      width = _ref.width,\n      height = _ref.height,\n      keys = _ref.keys,\n      matrix = _ref.matrix,\n      label = _ref.label,\n      valueFormat = _ref.valueFormat,\n      innerRadiusRatio = _ref.innerRadiusRatio,\n      innerRadiusOffset = _ref.innerRadiusOffset,\n      padAngle = _ref.padAngle,\n      layers = _ref.layers,\n      colors = _ref.colors,\n      arcBorderWidth = _ref.arcBorderWidth,\n      arcBorderColor = _ref.arcBorderColor,\n      arcOpacity = _ref.arcOpacity,\n      arcHoverOpacity = _ref.arcHoverOpacity,\n      arcHoverOthersOpacity = _ref.arcHoverOthersOpacity,\n      arcTooltip = _ref.arcTooltip,\n      ribbonBorderWidth = _ref.ribbonBorderWidth,\n      ribbonBorderColor = _ref.ribbonBorderColor,\n      ribbonBlendMode = _ref.ribbonBlendMode,\n      ribbonOpacity = _ref.ribbonOpacity,\n      ribbonHoverOpacity = _ref.ribbonHoverOpacity,\n      ribbonHoverOthersOpacity = _ref.ribbonHoverOthersOpacity,\n      ribbonTooltip = _ref.ribbonTooltip,\n      enableLabel = _ref.enableLabel,\n      labelOffset = _ref.labelOffset,\n      labelRotation = _ref.labelRotation,\n      labelTextColor = _ref.labelTextColor,\n      isInteractive = _ref.isInteractive,\n      onArcMouseEnter = _ref.onArcMouseEnter,\n      onArcMouseMove = _ref.onArcMouseMove,\n      onArcMouseLeave = _ref.onArcMouseLeave,\n      onArcClick = _ref.onArcClick,\n      onRibbonMouseEnter = _ref.onRibbonMouseEnter,\n      onRibbonMouseMove = _ref.onRibbonMouseMove,\n      onRibbonMouseLeave = _ref.onRibbonMouseLeave,\n      onRibbonClick = _ref.onRibbonClick,\n      legends = _ref.legends;\n  var _useDimensions = useDimensions(width, height, partialMargin),\n      margin = _useDimensions.margin,\n      innerWidth = _useDimensions.innerWidth,\n      innerHeight = _useDimensions.innerHeight,\n      outerWidth = _useDimensions.outerWidth,\n      outerHeight = _useDimensions.outerHeight;\n  var _useChord = useChord({\n    keys: keys,\n    matrix: matrix,\n    label: label,\n    valueFormat: valueFormat,\n    width: innerWidth,\n    height: innerHeight,\n    innerRadiusRatio: innerRadiusRatio,\n    innerRadiusOffset: innerRadiusOffset,\n    padAngle: padAngle,\n    colors: colors\n  }),\n      center = _useChord.center,\n      radius = _useChord.radius,\n      arcGenerator = _useChord.arcGenerator,\n      ribbonGenerator = _useChord.ribbonGenerator,\n      arcs = _useChord.arcs,\n      ribbons = _useChord.ribbons;\n  var _useChordSelection = useChordSelection({\n    arcs: arcs,\n    arcOpacity: arcOpacity,\n    arcHoverOpacity: arcHoverOpacity,\n    arcHoverOthersOpacity: arcHoverOthersOpacity,\n    ribbons: ribbons,\n    ribbonOpacity: ribbonOpacity,\n    ribbonHoverOpacity: ribbonHoverOpacity,\n    ribbonHoverOthersOpacity: ribbonHoverOthersOpacity\n  }),\n      setCurrentArc = _useChordSelection.setCurrentArc,\n      setCurrentRibbon = _useChordSelection.setCurrentRibbon,\n      getArcOpacity = _useChordSelection.getArcOpacity,\n      getRibbonOpacity = _useChordSelection.getRibbonOpacity;\n  var theme = useTheme();\n  var getLabelTextColor = useInheritedColor(labelTextColor, theme);\n  var getArcBorderColor = useInheritedColor(arcBorderColor, theme);\n  var getRibbonBorderColor = useInheritedColor(ribbonBorderColor, theme);\n  var layerContext = useChordLayerContext({\n    center: center,\n    radius: radius,\n    arcs: arcs,\n    arcGenerator: arcGenerator,\n    ribbons: ribbons,\n    ribbonGenerator: ribbonGenerator\n  });\n  if (radius <= 0) return null;\n  var legendData = arcs.map(function (arc) {\n    return {\n      id: arc.id,\n      label: arc.label,\n      color: arc.color\n    };\n  });\n  var layerById = {\n    ribbons: React.createElement(\"g\", {\n      key: \"ribbons\",\n      transform: \"translate(\".concat(center[0], \", \").concat(center[1], \")\")\n    }, React.createElement(ChordRibbons, {\n      ribbons: ribbons,\n      ribbonGenerator: ribbonGenerator,\n      borderWidth: ribbonBorderWidth,\n      getBorderColor: getRibbonBorderColor,\n      getOpacity: getRibbonOpacity,\n      blendMode: ribbonBlendMode,\n      setCurrent: setCurrentRibbon,\n      isInteractive: isInteractive,\n      onMouseEnter: onRibbonMouseEnter,\n      onMouseMove: onRibbonMouseMove,\n      onMouseLeave: onRibbonMouseLeave,\n      onClick: onRibbonClick,\n      tooltip: ribbonTooltip\n    })),\n    arcs: React.createElement(\"g\", {\n      key: \"arcs\",\n      transform: \"translate(\".concat(center[0], \", \").concat(center[1], \")\")\n    }, React.createElement(ChordArcs, {\n      arcs: arcs,\n      arcGenerator: arcGenerator,\n      borderWidth: arcBorderWidth,\n      getBorderColor: getArcBorderColor,\n      getOpacity: getArcOpacity,\n      setCurrent: setCurrentArc,\n      isInteractive: isInteractive,\n      onMouseEnter: onArcMouseEnter,\n      onMouseMove: onArcMouseMove,\n      onMouseLeave: onArcMouseLeave,\n      onClick: onArcClick,\n      tooltip: arcTooltip\n    })),\n    labels: null,\n    legends: React.createElement(Fragment, {\n      key: \"legends\"\n    }, legends.map(function (legend, i) {\n      return React.createElement(BoxLegendSvg, _extends({\n        key: i\n      }, legend, {\n        containerWidth: innerWidth,\n        containerHeight: innerHeight,\n        data: legendData,\n        theme: theme\n      }));\n    }))\n  };\n  if (enableLabel === true) {\n    layerById.labels = React.createElement(\"g\", {\n      key: \"labels\",\n      transform: \"translate(\".concat(center[0], \", \").concat(center[1], \")\")\n    }, React.createElement(ChordLabels, {\n      arcs: arcs,\n      radius: radius + labelOffset,\n      rotation: labelRotation,\n      getColor: getLabelTextColor\n    }));\n  }\n  return React.createElement(SvgWrapper, {\n    width: outerWidth,\n    height: outerHeight,\n    margin: margin,\n    theme: theme\n  }, layers.map(function (layer, i) {\n    if (layerById[layer] !== undefined) {\n      return layerById[layer];\n    }\n    if (typeof layer === 'function') {\n      return React.createElement(Fragment, {\n        key: i\n      }, layer(layerContext));\n    }\n    return null;\n  }));\n};\nChord.propTypes = ChordPropTypes;\nChord.defaultProps = ChordDefaultProps;\nvar Chord$1 = withContainer(Chord);\n\nfunction _objectSpread$6(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$6(target, key, source[key]); }); } return target; }\nfunction _defineProperty$6(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _slicedToArray$1(arr, i) { return _arrayWithHoles$1(arr) || _iterableToArrayLimit$1(arr, i) || _nonIterableRest$1(); }\nfunction _nonIterableRest$1() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\nfunction _iterableToArrayLimit$1(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\nfunction _arrayWithHoles$1(arr) { if (Array.isArray(arr)) return arr; }\nvar getArcFromMouseEvent = function getArcFromMouseEvent(_ref) {\n  var event = _ref.event,\n      canvasEl = _ref.canvasEl,\n      center = _ref.center,\n      margin = _ref.margin,\n      radius = _ref.radius,\n      innerRadius = _ref.innerRadius,\n      arcs = _ref.arcs;\n  var _getRelativeCursor = getRelativeCursor(canvasEl, event),\n      _getRelativeCursor2 = _slicedToArray$1(_getRelativeCursor, 2),\n      x = _getRelativeCursor2[0],\n      y = _getRelativeCursor2[1];\n  var centerX = margin.left + center[0];\n  var centerY = margin.top + center[1];\n  return getHoveredArc(centerX, centerY, radius, innerRadius, arcs, x, y);\n};\nvar ChordCanvas = memo(function (_ref2) {\n  var pixelRatio = _ref2.pixelRatio,\n      partialMargin = _ref2.margin,\n      width = _ref2.width,\n      height = _ref2.height,\n      keys = _ref2.keys,\n      matrix = _ref2.matrix,\n      label = _ref2.label,\n      valueFormat = _ref2.valueFormat,\n      innerRadiusRatio = _ref2.innerRadiusRatio,\n      innerRadiusOffset = _ref2.innerRadiusOffset,\n      padAngle = _ref2.padAngle,\n      layers = _ref2.layers,\n      colors = _ref2.colors,\n      arcBorderWidth = _ref2.arcBorderWidth,\n      arcBorderColor = _ref2.arcBorderColor,\n      arcOpacity = _ref2.arcOpacity,\n      arcHoverOpacity = _ref2.arcHoverOpacity,\n      arcHoverOthersOpacity = _ref2.arcHoverOthersOpacity,\n      arcTooltip = _ref2.arcTooltip,\n      ribbonBorderWidth = _ref2.ribbonBorderWidth,\n      ribbonBorderColor = _ref2.ribbonBorderColor,\n      ribbonOpacity = _ref2.ribbonOpacity,\n      ribbonHoverOpacity = _ref2.ribbonHoverOpacity,\n      ribbonHoverOthersOpacity = _ref2.ribbonHoverOthersOpacity,\n      enableLabel = _ref2.enableLabel,\n      labelOffset = _ref2.labelOffset,\n      labelRotation = _ref2.labelRotation,\n      labelTextColor = _ref2.labelTextColor,\n      isInteractive = _ref2.isInteractive,\n      onArcMouseEnter = _ref2.onArcMouseEnter,\n      onArcMouseMove = _ref2.onArcMouseMove,\n      onArcMouseLeave = _ref2.onArcMouseLeave,\n      onArcClick = _ref2.onArcClick,\n      legends = _ref2.legends;\n  var canvasEl = useRef(null);\n  var _useDimensions = useDimensions(width, height, partialMargin),\n      innerWidth = _useDimensions.innerWidth,\n      innerHeight = _useDimensions.innerHeight,\n      outerWidth = _useDimensions.outerWidth,\n      outerHeight = _useDimensions.outerHeight,\n      margin = _useDimensions.margin;\n  var _useChord = useChord({\n    keys: keys,\n    matrix: matrix,\n    label: label,\n    valueFormat: valueFormat,\n    width: innerWidth,\n    height: innerHeight,\n    innerRadiusRatio: innerRadiusRatio,\n    innerRadiusOffset: innerRadiusOffset,\n    padAngle: padAngle,\n    colors: colors\n  }),\n      center = _useChord.center,\n      radius = _useChord.radius,\n      innerRadius = _useChord.innerRadius,\n      arcGenerator = _useChord.arcGenerator,\n      ribbonGenerator = _useChord.ribbonGenerator,\n      arcs = _useChord.arcs,\n      ribbons = _useChord.ribbons;\n  var _useChordSelection = useChordSelection({\n    arcs: arcs,\n    arcOpacity: arcOpacity,\n    arcHoverOpacity: arcHoverOpacity,\n    arcHoverOthersOpacity: arcHoverOthersOpacity,\n    ribbons: ribbons,\n    ribbonOpacity: ribbonOpacity,\n    ribbonHoverOpacity: ribbonHoverOpacity,\n    ribbonHoverOthersOpacity: ribbonHoverOthersOpacity\n  }),\n      currentArc = _useChordSelection.currentArc,\n      setCurrentArc = _useChordSelection.setCurrentArc,\n      getArcOpacity = _useChordSelection.getArcOpacity,\n      getRibbonOpacity = _useChordSelection.getRibbonOpacity;\n  var theme = useTheme();\n  var getLabelTextColor = useInheritedColor(labelTextColor, theme);\n  var getArcBorderColor = useInheritedColor(arcBorderColor, theme);\n  var getRibbonBorderColor = useInheritedColor(ribbonBorderColor, theme);\n  var layerContext = useChordLayerContext({\n    center: center,\n    radius: radius,\n    arcs: arcs,\n    arcGenerator: arcGenerator,\n    ribbons: ribbons,\n    ribbonGenerator: ribbonGenerator\n  });\n  useEffect(function () {\n    canvasEl.current.width = outerWidth * pixelRatio;\n    canvasEl.current.height = outerHeight * pixelRatio;\n    var ctx = canvasEl.current.getContext('2d');\n    ctx.scale(pixelRatio, pixelRatio);\n    ctx.fillStyle = theme.background;\n    ctx.fillRect(0, 0, outerWidth, outerHeight);\n    if (radius <= 0) return;\n    layers.forEach(function (layer) {\n      if (layer === 'ribbons') {\n        ctx.save();\n        ctx.translate(margin.left + center[0], margin.top + center[1]);\n        ribbonGenerator.context(ctx);\n        ribbons.forEach(function (ribbon) {\n          ctx.save();\n          ctx.globalAlpha = getRibbonOpacity(ribbon);\n          ctx.fillStyle = ribbon.source.color;\n          ctx.beginPath();\n          ribbonGenerator(ribbon);\n          ctx.fill();\n          if (ribbonBorderWidth > 0) {\n            ctx.strokeStyle = getRibbonBorderColor(_objectSpread$6({}, ribbon, {\n              color: ribbon.source.color\n            }));\n            ctx.lineWidth = ribbonBorderWidth;\n            ctx.stroke();\n          }\n          ctx.restore();\n        });\n        ctx.restore();\n      }\n      if (layer === 'arcs') {\n        ctx.save();\n        ctx.translate(margin.left + center[0], margin.top + center[1]);\n        arcGenerator.context(ctx);\n        arcs.forEach(function (arc) {\n          ctx.save();\n          ctx.globalAlpha = getArcOpacity(arc);\n          ctx.fillStyle = arc.color;\n          ctx.beginPath();\n          arcGenerator(arc);\n          ctx.fill();\n          if (arcBorderWidth > 0) {\n            ctx.strokeStyle = getArcBorderColor(arc);\n            ctx.lineWidth = arcBorderWidth;\n            ctx.stroke();\n          }\n          ctx.restore();\n        });\n        ctx.restore();\n      }\n      if (layer === 'labels' && enableLabel === true) {\n        ctx.save();\n        ctx.translate(margin.left + center[0], margin.top + center[1]);\n        ctx.font = \"\".concat(theme.labels.text.fontSize, \"px \").concat(theme.labels.text.fontFamily || 'sans-serif');\n        arcs.forEach(function (arc) {\n          var angle = midAngle(arc);\n          var props = getPolarLabelProps(radius + labelOffset, angle, labelRotation);\n          ctx.save();\n          ctx.translate(props.x, props.y);\n          ctx.rotate(degreesToRadians(props.rotate));\n          ctx.textAlign = props.align;\n          ctx.textBaseline = props.baseline;\n          ctx.fillStyle = getLabelTextColor(arc, theme);\n          ctx.fillText(arc.label, 0, 0);\n          ctx.restore();\n        });\n        ctx.restore();\n      }\n      if (layer === 'legends') {\n        ctx.save();\n        ctx.translate(margin.left, margin.top);\n        var legendData = arcs.map(function (arc) {\n          return {\n            id: arc.id,\n            label: arc.label,\n            color: arc.color\n          };\n        });\n        legends.forEach(function (legend) {\n          renderLegendToCanvas(ctx, _objectSpread$6({}, legend, {\n            data: legendData,\n            containerWidth: innerWidth,\n            containerHeight: innerHeight,\n            theme: theme\n          }));\n        });\n        ctx.restore();\n      }\n      if (typeof layer === 'function') {\n        layer(ctx, layerContext);\n      }\n    });\n  }, [canvasEl, innerWidth, innerHeight, outerWidth, outerHeight, margin, pixelRatio, theme, layers, arcs, arcGenerator, getArcOpacity, arcBorderWidth, getArcBorderColor, ribbons, ribbonGenerator, getRibbonOpacity, ribbonBorderWidth, getRibbonBorderColor, enableLabel, labelOffset, labelRotation, getLabelTextColor, legends, layerContext]);\n  var _useTooltip = useTooltip(),\n      showTooltipFromEvent = _useTooltip.showTooltipFromEvent,\n      hideTooltip = _useTooltip.hideTooltip;\n  var handleMouseHover = useCallback(function (event) {\n    var arc = getArcFromMouseEvent({\n      event: event,\n      canvasEl: canvasEl.current,\n      center: center,\n      margin: margin,\n      radius: radius,\n      innerRadius: innerRadius,\n      arcs: arcs\n    });\n    if (arc) {\n      setCurrentArc(arc);\n      showTooltipFromEvent(React.createElement(arcTooltip, {\n        arc: arc\n      }), event);\n      !currentArc && onArcMouseEnter && onArcMouseEnter(arc, event);\n      onArcMouseMove && onArcMouseMove(arc, event);\n      currentArc && currentArc.id !== arc.id && onArcMouseLeave && onArcMouseLeave(arc, event);\n    } else {\n      setCurrentArc(null);\n      hideTooltip();\n      currentArc && onArcMouseLeave && onArcMouseLeave(currentArc, event);\n    }\n  }, [canvasEl, center, margin, radius, innerRadius, arcs, setCurrentArc, showTooltipFromEvent, hideTooltip, onArcMouseEnter, onArcMouseMove, onArcMouseLeave]);\n  var handleMouseLeave = useCallback(function () {\n    setCurrentArc(null);\n    hideTooltip();\n  }, [setCurrentArc, hideTooltip]);\n  var handleClick = useCallback(function (event) {\n    if (!onArcClick) return;\n    var arc = getArcFromMouseEvent({\n      event: event,\n      canvasEl: canvasEl.current,\n      center: center,\n      margin: margin,\n      radius: radius,\n      innerRadius: innerRadius,\n      arcs: arcs\n    });\n    arc && onArcClick(arc, event);\n  }, [canvasEl, center, margin, radius, innerRadius, arcs, onArcClick]);\n  return React.createElement(\"canvas\", {\n    ref: canvasEl,\n    width: outerWidth * pixelRatio,\n    height: outerHeight * pixelRatio,\n    style: {\n      width: outerWidth,\n      height: outerHeight,\n      cursor: isInteractive ? 'auto' : 'normal'\n    },\n    onMouseEnter: isInteractive ? handleMouseHover : undefined,\n    onMouseMove: isInteractive ? handleMouseHover : undefined,\n    onMouseLeave: isInteractive ? handleMouseLeave : undefined,\n    onClick: isInteractive ? handleClick : undefined\n  });\n});\nChordCanvas.propTypes = ChordCanvasPropTypes;\nChordCanvas.defaultProps = ChordCanvasDefaultProps;\nvar ChordCanvas$1 = withContainer(ChordCanvas);\n\nfunction _extends$1() { _extends$1 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$1.apply(this, arguments); }\nvar ResponsiveChord = function ResponsiveChord(props) {\n  return React.createElement(ResponsiveWrapper, null, function (_ref) {\n    var width = _ref.width,\n        height = _ref.height;\n    return React.createElement(Chord$1, _extends$1({\n      width: width,\n      height: height\n    }, props));\n  });\n};\n\nfunction _extends$2() { _extends$2 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$2.apply(this, arguments); }\nvar ResponsiveChordCanvas = function ResponsiveChordCanvas(props) {\n  return React.createElement(ResponsiveWrapper, null, function (_ref) {\n    var width = _ref.width,\n        height = _ref.height;\n    return React.createElement(ChordCanvas$1, _extends$2({\n      width: width,\n      height: height\n    }, props));\n  });\n};\n\nexport { Chord$1 as Chord, ChordCanvas$1 as ChordCanvas, ChordCanvasDefaultProps, ChordCanvasPropTypes, ChordDefaultProps, ChordPropTypes, ResponsiveChord, ResponsiveChordCanvas, computeChordArcsAndRibbons, computeChordGenerators, computeChordLayout, useChord, useChordArcsAndRibbons, useChordGenerators, useChordLayerContext, useChordLayout, useChordSelection };\n"],"sourceRoot":""}