{"version":3,"sources":["webpack:///./src/pages/sankey/index.js","webpack:///../node_modules/d3-sankey/node_modules/d3-array/src/ascending.js","webpack:///../node_modules/d3-sankey/node_modules/d3-array/src/bisect.js","webpack:///../node_modules/d3-sankey/node_modules/d3-array/src/bisector.js","webpack:///../node_modules/d3-sankey/node_modules/d3-array/src/array.js","webpack:///../node_modules/d3-sankey/node_modules/d3-array/src/ticks.js","webpack:///../node_modules/d3-sankey/node_modules/d3-array/src/min.js","webpack:///../node_modules/d3-sankey/node_modules/d3-array/src/sum.js","webpack:///../node_modules/d3-sankey/src/align.js","webpack:///../node_modules/d3-sankey/src/constant.js","webpack:///../node_modules/d3-sankey/src/sankey.js","webpack:///../node_modules/d3-sankey/node_modules/d3-array/src/max.js","webpack:///../node_modules/d3-sankey/src/sankeyLinkHorizontal.js","webpack:///../node_modules/d3-sankey/src/index.js","webpack:///./src/data/components/sankey/props.js","webpack:///./src/data/components/sankey/mapper.js","webpack:///../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","webpack:///../src/props.js","webpack:///../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack:///../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack:///../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack:///../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack:///../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack:///../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack:///../src/hooks.js","webpack:///../src/SankeyNodesItem.js","webpack:///../src/SankeyNodes.js","webpack:///../src/SankeyLinkGradient.js","webpack:///../src/SankeyLinksItem.js","webpack:///../src/SankeyLinks.js","webpack:///../src/links.js","webpack:///../src/SankeyLabels.js","webpack:///../src/Sankey.js","webpack:///../src/ResponsiveSankey.js"],"names":["initialProperties","margin","top","right","bottom","left","layout","align","sort","colors","scheme","nodeOpacity","nodeHoverOpacity","nodeThickness","nodeInnerPadding","nodeSpacing","nodeBorderWidth","nodeBorderColor","from","modifiers","linkOpacity","linkHoverOpacity","linkHoverOthersOpacity","linkContract","linkBlendMode","enableLinkGradient","enableLabels","labelPosition","labelOrientation","labelPadding","labelTextColor","animate","SankeyDefaultProps","motionConfig","isInteractive","legends","anchor","direction","translateX","itemWidth","itemHeight","itemDirection","itemsSpacing","itemTextColor","symbolSize","onClick","d","alert","JSON","stringify","effects","on","style","generateData","generateSankeyData","nodeCount","maxIterations","Sankey","name","meta","icon","flavors","currentFlavor","properties","groups","defaultProperties","propertiesMapper","mapper","data","theme","logAction","node","label","id","value","source","target","type","omit","a","b","NaN","f","ascending","length","compare","x","Array","prototype","slice","map","Math","sqrt","values","valueof","min","undefined","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","err","index","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","_value","sum","targetDepth","depth","n","height","justify","sourceLinks","center","targetLinks","ascendingSourceBreadth","ascendingBreadth","ascendingTargetBreadth","y0","defaultId","defaultNodes","graph","nodes","defaultLinks","links","find","nodeById","get","Error","computeLinkBreadths","_ref","y1","link","width","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","_link","linkSort","x0","x1","dx","py","iterations","sankey","apply","arguments","_ref2","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","entries","_step4$value","i","Map","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","_step5$value","_i","push","computeNodeLinks","_ref3","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_step6","_iterator6","max","computeNodeValues","_ref4","current","Set","size","_iteratorNormalCompletion7","_didIteratorError7","_iteratorError7","_step7","_iterator7","_iteratorNormalCompletion8","_didIteratorError8","_iteratorError8","_step8","_iterator8","add","computeNodeDepths","_ref5","_iteratorNormalCompletion9","_didIteratorError9","_iteratorError9","_step9","_iterator9","_iteratorNormalCompletion10","_didIteratorError10","_iteratorError10","_step10","_iterator10","computeNodeHeights","columns","_ref6","kx","_iteratorNormalCompletion11","_didIteratorError11","_iteratorError11","_step11","_iterator11","floor","call","layer","_iteratorNormalCompletion12","_didIteratorError12","_iteratorError12","_step12","_iterator12","computeNodeLayers","ky","c","_iteratorNormalCompletion13","_didIteratorError13","_iteratorError13","_step13","_iterator13","_nodes","y","_iteratorNormalCompletion14","_didIteratorError14","_iteratorError14","_step14","_iterator14","_node","_iteratorNormalCompletion15","_didIteratorError15","_iteratorError15","_step15","_iterator15","reorderLinks","initializeNodeBreadths","alpha","pow","beta","relaxRightToLeft","relaxLeftToRight","computeNodeBreadths","column","_iteratorNormalCompletion16","_didIteratorError16","_iteratorError16","_step16","_iterator16","w","_iteratorNormalCompletion17","_didIteratorError17","_iteratorError17","_step17","_iterator17","_step17$value","v","targetTop","dy","reorderNodeLinks","resolveCollisions","_iteratorNormalCompletion18","_didIteratorError18","_iteratorError18","_step18","_iterator18","_iteratorNormalCompletion19","_didIteratorError19","_iteratorError19","_step19","_iterator19","_step19$value","sourceTop","subject","resolveCollisionsBottomToTop","resolveCollisionsTopToBottom","_ref7","_iteratorNormalCompletion20","_didIteratorError20","_iteratorError20","_step20","_iterator20","_iteratorNormalCompletion21","_didIteratorError21","_iteratorError21","_step21","_iterator21","_iteratorNormalCompletion22","_didIteratorError22","_iteratorError22","_step22","_iterator22","_step22$value","_iteratorNormalCompletion23","_didIteratorError23","_iteratorError23","_step23","_iterator23","_step23$value","_iteratorNormalCompletion24","_didIteratorError24","_iteratorError24","_step24","_iterator24","_step24$value","_node2","_width","_iteratorNormalCompletion25","_didIteratorError25","_iteratorError25","_step25","_iterator25","_step25$value","_iteratorNormalCompletion26","_didIteratorError26","_iteratorError26","_step26","_iterator26","_step26$value","_node3","_width2","update","nodeId","_","nodeAlign","nodeSort","nodeWidth","nodePadding","extent","horizontalSource","horizontalTarget","props","key","group","help","description","required","defaultValue","defaults","controlType","controlOptions","choices","sankeyAlignmentPropKeys","enableControlForFlavors","unit","step","themeProperty","nodePaddingX","motionProperties","groupProperties","settingsMapper","_defineProperty","obj","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","_objectSpread2","forEach","getOwnPropertyDescriptors","defineProperties","sankeyAlignmentPropMapping","start","end","sankeyRight","sankeyAlignmentPropType","PropTypes","isRequired","ordinalColorsPropType","nodeHoverOthersOpacity","blendModePropType","labelFormat","nodeTooltip","linkTooltip","tooltipFormat","layers","role","_arrayLikeToArray","arr","len","arr2","_slicedToArray","isArray","arrayWithHoles","_arr","_n","_d","_e","_s","iterableToArrayLimit","o","minLen","arrayLikeToArray","toString","constructor","test","unsupportedIterableToArray","TypeError","nonIterableRest","getId","useSankey","useState","currentNode","setCurrentNode","currentLink","setCurrentLink","sortFunction","useMemo","linkSortMode","alignFunction","useTheme","getColor","useOrdinalColorScale","getNodeBorderColor","useInheritedColor","getLinkColor","getLabel","getLabelGenerator","getLabelTextColor","_data","d3Sankey","cloneDeep","oldX0","oldX1","computeNodeAndLinks","legendData","color","memo","opacity","borderWidth","borderColor","setCurrent","tooltip","useMotionConfig","springConfig","animatedProps","useSpring","config","immediate","useTooltip","showTooltipFromEvent","hideTooltip","tooltipContent","enableChip","handleMouseEnter","useCallback","event","handleMouseMove","handleMouseLeave","handleClick","fill","fillOpacity","strokeWidth","stroke","strokeOpacity","onMouseEnter","onMouseMove","onMouseLeave","isCurrentNode","getOpacity","SankeyLinkGradient","startColor","endColor","gradientProps","spreadMethod","offset","stopColor","tooltipStyles","container","display","alignItems","sourceChip","marginRight","targetChip","marginLeft","TooltipContent","format","path","blendMode","enableGradient","linkId","encodeURI","mixBlendMode","lineGenerator","isCurrentLink","getLinkPath","line","halfThickness","contract","padLength","dots","sankeyLinkVertical","labelRotation","labels","textAnchor","useSprings","transform","dominantBaseline","pointerEvents","WrappedSankey","withContainer","partialMargin","useDimensions","innerWidth","innerHeight","outerWidth","outerHeight","currentNodeIds","uniq","layerProps","layerById","containerWidth","containerHeight","ResponsiveSankey"],"mappings":"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","file":"component---src-pages-sankey-index-js-1b756909215993fe9b73.js","sourcesContent":["/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, RaphaÃ«l Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React from 'react'\nimport omit from 'lodash/omit'\nimport { generateSankeyData } from '@nivo/generators'\nimport { ResponsiveSankey, SankeyDefaultProps } from '@nivo/sankey'\nimport ComponentTemplate from '../../components/components/ComponentTemplate'\nimport meta from '../../data/components/sankey/meta.yml'\nimport mapper from '../../data/components/sankey/mapper'\nimport { groups } from '../../data/components/sankey/props'\n\nconst initialProperties = {\n    margin: {\n        top: 40,\n        right: 160,\n        bottom: 40,\n        left: 50,\n    },\n\n    layout: 'horizontal',\n    align: 'justify',\n    sort: 'auto',\n    colors: { scheme: 'category10' },\n\n    nodeOpacity: 1,\n    nodeHoverOpacity: 1,\n    nodeThickness: 18,\n    nodeInnerPadding: 3,\n    nodeSpacing: 24,\n    nodeBorderWidth: 0,\n    nodeBorderColor: {\n        from: 'color',\n        modifiers: [['darker', 0.8]],\n    },\n\n    linkOpacity: 0.5,\n    linkHoverOpacity: 0.6,\n    linkHoverOthersOpacity: 0.1,\n    linkContract: 0,\n    linkBlendMode: 'multiply',\n    enableLinkGradient: true,\n\n    enableLabels: true,\n    labelPosition: 'outside',\n    labelOrientation: 'vertical',\n    labelPadding: 16,\n    labelTextColor: {\n        from: 'color',\n        modifiers: [['darker', 1]],\n    },\n\n    animate: SankeyDefaultProps.animate,\n    motionConfig: SankeyDefaultProps.motionConfig,\n\n    isInteractive: SankeyDefaultProps.isInteractive,\n\n    legends: [\n        {\n            anchor: 'bottom-right',\n            direction: 'column',\n            translateX: 130,\n            itemWidth: 100,\n            itemHeight: 14,\n            itemDirection: 'right-to-left',\n            itemsSpacing: 2,\n            itemTextColor: '#999',\n            symbolSize: 14,\n            onClick: d => {\n                alert(JSON.stringify(d, null, '    '))\n            },\n            effects: [\n                {\n                    on: 'hover',\n                    style: {\n                        itemTextColor: '#000',\n                    },\n                },\n            ],\n        },\n    ],\n}\n\nconst generateData = () => generateSankeyData({ nodeCount: 6, maxIterations: 8 })\n\nconst Sankey = () => {\n    return (\n        <ComponentTemplate\n            name=\"Sankey\"\n            meta={meta.Sankey}\n            icon=\"sankey\"\n            flavors={meta.flavors}\n            currentFlavor=\"svg\"\n            properties={groups}\n            initialProperties={initialProperties}\n            defaultProperties={SankeyDefaultProps}\n            propertiesMapper={mapper}\n            generateData={generateData}\n        >\n            {(properties, data, theme, logAction) => {\n                return (\n                    <ResponsiveSankey\n                        data={data}\n                        {...properties}\n                        theme={theme}\n                        onClick={node => {\n                            let label\n                            if (node.id) {\n                                label = `\u001c[node] ${node.id}: ${node.value}`\n                            } else {\n                                label = `[link] ${node.source.id} > ${node.target.id}: ${node.value}`\n                            }\n\n                            logAction({\n                                type: 'click',\n                                label,\n                                data: omit(node, [\n                                    'sourceLinks',\n                                    'targetLinks',\n                                    'source.sourceLinks',\n                                    'source.targetLinks',\n                                    'target.sourceLinks',\n                                    'target.targetLinks',\n                                ]),\n                            })\n                        }}\n                    />\n                )\n            }}\n        </ComponentTemplate>\n    )\n}\n\nexport default Sankey\n","export default function (a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}","import ascending from \"./ascending\";\nimport bisector from \"./bisector\";\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;","import ascending from \"./ascending\";\nexport default function (compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function left(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;else hi = mid;\n      }\n\n      return lo;\n    },\n    right: function right(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;else lo = mid + 1;\n      }\n\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function (d, x) {\n    return ascending(f(d), x);\n  };\n}","import \"core-js/modules/es6.array.map\";\nvar array = Array.prototype;\nexport var slice = array.slice;\nexport var map = array.map;","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\nexport default function (start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n\n    while (++i < n) {\n      ticks[i] = (start + i) * step;\n    }\n  } else {\n    start = Math.floor(start * step);\n    stop = Math.ceil(stop * step);\n    ticks = new Array(n = Math.ceil(start - stop + 1));\n\n    while (++i < n) {\n      ticks[i] = (start - i) / step;\n    }\n  }\n\n  if (reverse) ticks.reverse();\n  return ticks;\n}\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0 ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power) : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;else if (error >= e5) step1 *= 5;else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}","import \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nexport default function min(values, valueof) {\n  var min;\n\n  if (valueof === undefined) {\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = values[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var value = _step.value;\n\n        if (value != null && value >= value && (min === undefined || min > value)) {\n          min = value;\n        }\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n          _iterator[\"return\"]();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n  } else {\n    var index = -1;\n    var _iteratorNormalCompletion2 = true;\n    var _didIteratorError2 = false;\n    var _iteratorError2 = undefined;\n\n    try {\n      for (var _iterator2 = values[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n        var _value = _step2.value;\n\n        if ((_value = valueof(_value, ++index, values)) != null && _value >= _value && (min === undefined || min > _value)) {\n          min = _value;\n        }\n      }\n    } catch (err) {\n      _didIteratorError2 = true;\n      _iteratorError2 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion2 && _iterator2[\"return\"] != null) {\n          _iterator2[\"return\"]();\n        }\n      } finally {\n        if (_didIteratorError2) {\n          throw _iteratorError2;\n        }\n      }\n    }\n  }\n\n  return min;\n}","import \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nexport default function sum(values, valueof) {\n  var sum = 0;\n\n  if (valueof === undefined) {\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = values[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var value = _step.value;\n\n        if (value = +value) {\n          sum += value;\n        }\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n          _iterator[\"return\"]();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n  } else {\n    var index = -1;\n    var _iteratorNormalCompletion2 = true;\n    var _didIteratorError2 = false;\n    var _iteratorError2 = undefined;\n\n    try {\n      for (var _iterator2 = values[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n        var _value = _step2.value;\n\n        if (_value = +valueof(_value, ++index, values)) {\n          sum += _value;\n        }\n      }\n    } catch (err) {\n      _didIteratorError2 = true;\n      _iteratorError2 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion2 && _iterator2[\"return\"] != null) {\n          _iterator2[\"return\"]();\n        }\n      } finally {\n        if (_didIteratorError2) {\n          throw _iteratorError2;\n        }\n      }\n    }\n  }\n\n  return sum;\n}","import { min } from \"d3-array\";\n\nfunction targetDepth(d) {\n  return d.target.depth;\n}\n\nexport function left(node) {\n  return node.depth;\n}\nexport function right(node, n) {\n  return n - 1 - node.height;\n}\nexport function justify(node, n) {\n  return node.sourceLinks.length ? node.depth : n - 1;\n}\nexport function center(node) {\n  return node.targetLinks.length ? node.depth : node.sourceLinks.length ? min(node.sourceLinks, targetDepth) - 1 : 0;\n}","export default function constant(x) {\n  return function () {\n    return x;\n  };\n}","import \"core-js/modules/es6.array.sort\";\nimport \"core-js/modules/es6.set\";\nimport _slicedToArray from \"/Users/raph/projects/plouc/nivo/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport \"core-js/modules/es6.array.map\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.map\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport { max, min, sum } from \"d3-array\";\nimport { justify } from \"./align.js\";\nimport constant from \"./constant.js\";\n\nfunction ascendingSourceBreadth(a, b) {\n  return ascendingBreadth(a.source, b.source) || a.index - b.index;\n}\n\nfunction ascendingTargetBreadth(a, b) {\n  return ascendingBreadth(a.target, b.target) || a.index - b.index;\n}\n\nfunction ascendingBreadth(a, b) {\n  return a.y0 - b.y0;\n}\n\nfunction value(d) {\n  return d.value;\n}\n\nfunction defaultId(d) {\n  return d.index;\n}\n\nfunction defaultNodes(graph) {\n  return graph.nodes;\n}\n\nfunction defaultLinks(graph) {\n  return graph.links;\n}\n\nfunction find(nodeById, id) {\n  var node = nodeById.get(id);\n  if (!node) throw new Error(\"missing: \" + id);\n  return node;\n}\n\nfunction computeLinkBreadths(_ref) {\n  var nodes = _ref.nodes;\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = nodes[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var node = _step.value;\n      var y0 = node.y0;\n      var y1 = y0;\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = node.sourceLinks[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var link = _step2.value;\n          link.y0 = y0 + link.width / 2;\n          y0 += link.width;\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2[\"return\"] != null) {\n            _iterator2[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n\n      var _iteratorNormalCompletion3 = true;\n      var _didIteratorError3 = false;\n      var _iteratorError3 = undefined;\n\n      try {\n        for (var _iterator3 = node.targetLinks[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n          var _link = _step3.value;\n          _link.y1 = y1 + _link.width / 2;\n          y1 += _link.width;\n        }\n      } catch (err) {\n        _didIteratorError3 = true;\n        _iteratorError3 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion3 && _iterator3[\"return\"] != null) {\n            _iterator3[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError3) {\n            throw _iteratorError3;\n          }\n        }\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n        _iterator[\"return\"]();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n}\n\nexport default function Sankey() {\n  var x0 = 0,\n      y0 = 0,\n      x1 = 1,\n      y1 = 1; // extent\n\n  var dx = 24; // nodeWidth\n\n  var py = 8; // nodePadding\n\n  var id = defaultId;\n  var align = justify;\n  var sort;\n  var linkSort;\n  var nodes = defaultNodes;\n  var links = defaultLinks;\n  var iterations = 6;\n\n  function sankey() {\n    var graph = {\n      nodes: nodes.apply(null, arguments),\n      links: links.apply(null, arguments)\n    };\n    computeNodeLinks(graph);\n    computeNodeValues(graph);\n    computeNodeDepths(graph);\n    computeNodeHeights(graph);\n    computeNodeBreadths(graph);\n    computeLinkBreadths(graph);\n    return graph;\n  }\n\n  sankey.update = function (graph) {\n    computeLinkBreadths(graph);\n    return graph;\n  };\n\n  sankey.nodeId = function (_) {\n    return arguments.length ? (id = typeof _ === \"function\" ? _ : constant(_), sankey) : id;\n  };\n\n  sankey.nodeAlign = function (_) {\n    return arguments.length ? (align = typeof _ === \"function\" ? _ : constant(_), sankey) : align;\n  };\n\n  sankey.nodeSort = function (_) {\n    return arguments.length ? (sort = _, sankey) : sort;\n  };\n\n  sankey.nodeWidth = function (_) {\n    return arguments.length ? (dx = +_, sankey) : dx;\n  };\n\n  sankey.nodePadding = function (_) {\n    return arguments.length ? (py = +_, sankey) : py;\n  };\n\n  sankey.nodes = function (_) {\n    return arguments.length ? (nodes = typeof _ === \"function\" ? _ : constant(_), sankey) : nodes;\n  };\n\n  sankey.links = function (_) {\n    return arguments.length ? (links = typeof _ === \"function\" ? _ : constant(_), sankey) : links;\n  };\n\n  sankey.linkSort = function (_) {\n    return arguments.length ? (linkSort = _, sankey) : linkSort;\n  };\n\n  sankey.size = function (_) {\n    return arguments.length ? (x0 = y0 = 0, x1 = +_[0], y1 = +_[1], sankey) : [x1 - x0, y1 - y0];\n  };\n\n  sankey.extent = function (_) {\n    return arguments.length ? (x0 = +_[0][0], x1 = +_[1][0], y0 = +_[0][1], y1 = +_[1][1], sankey) : [[x0, y0], [x1, y1]];\n  };\n\n  sankey.iterations = function (_) {\n    return arguments.length ? (iterations = +_, sankey) : iterations;\n  };\n\n  function computeNodeLinks(_ref2) {\n    var nodes = _ref2.nodes,\n        links = _ref2.links;\n    var _iteratorNormalCompletion4 = true;\n    var _didIteratorError4 = false;\n    var _iteratorError4 = undefined;\n\n    try {\n      for (var _iterator4 = nodes.entries()[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n        var _step4$value = _slicedToArray(_step4.value, 2),\n            i = _step4$value[0],\n            node = _step4$value[1];\n\n        node.index = i;\n        node.sourceLinks = [];\n        node.targetLinks = [];\n      }\n    } catch (err) {\n      _didIteratorError4 = true;\n      _iteratorError4 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion4 && _iterator4[\"return\"] != null) {\n          _iterator4[\"return\"]();\n        }\n      } finally {\n        if (_didIteratorError4) {\n          throw _iteratorError4;\n        }\n      }\n    }\n\n    var nodeById = new Map(nodes.map(function (d, i) {\n      return [id(d, i, nodes), d];\n    }));\n    var _iteratorNormalCompletion5 = true;\n    var _didIteratorError5 = false;\n    var _iteratorError5 = undefined;\n\n    try {\n      for (var _iterator5 = links.entries()[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n        var _step5$value = _slicedToArray(_step5.value, 2),\n            _i = _step5$value[0],\n            link = _step5$value[1];\n\n        link.index = _i;\n        var source = link.source,\n            target = link.target;\n        if (typeof source !== \"object\") source = link.source = find(nodeById, source);\n        if (typeof target !== \"object\") target = link.target = find(nodeById, target);\n        source.sourceLinks.push(link);\n        target.targetLinks.push(link);\n      }\n    } catch (err) {\n      _didIteratorError5 = true;\n      _iteratorError5 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion5 && _iterator5[\"return\"] != null) {\n          _iterator5[\"return\"]();\n        }\n      } finally {\n        if (_didIteratorError5) {\n          throw _iteratorError5;\n        }\n      }\n    }\n  }\n\n  function computeNodeValues(_ref3) {\n    var nodes = _ref3.nodes;\n    var _iteratorNormalCompletion6 = true;\n    var _didIteratorError6 = false;\n    var _iteratorError6 = undefined;\n\n    try {\n      for (var _iterator6 = nodes[Symbol.iterator](), _step6; !(_iteratorNormalCompletion6 = (_step6 = _iterator6.next()).done); _iteratorNormalCompletion6 = true) {\n        var node = _step6.value;\n        node.value = Math.max(sum(node.sourceLinks, value), sum(node.targetLinks, value));\n      }\n    } catch (err) {\n      _didIteratorError6 = true;\n      _iteratorError6 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion6 && _iterator6[\"return\"] != null) {\n          _iterator6[\"return\"]();\n        }\n      } finally {\n        if (_didIteratorError6) {\n          throw _iteratorError6;\n        }\n      }\n    }\n  }\n\n  function computeNodeDepths(_ref4) {\n    var nodes = _ref4.nodes;\n    var n = nodes.length;\n    var current = new Set(nodes);\n    var next = new Set();\n    var x = 0;\n\n    while (current.size) {\n      var _iteratorNormalCompletion7 = true;\n      var _didIteratorError7 = false;\n      var _iteratorError7 = undefined;\n\n      try {\n        for (var _iterator7 = current[Symbol.iterator](), _step7; !(_iteratorNormalCompletion7 = (_step7 = _iterator7.next()).done); _iteratorNormalCompletion7 = true) {\n          var node = _step7.value;\n          node.depth = x;\n          var _iteratorNormalCompletion8 = true;\n          var _didIteratorError8 = false;\n          var _iteratorError8 = undefined;\n\n          try {\n            for (var _iterator8 = node.sourceLinks[Symbol.iterator](), _step8; !(_iteratorNormalCompletion8 = (_step8 = _iterator8.next()).done); _iteratorNormalCompletion8 = true) {\n              var target = _step8.value.target;\n              next.add(target);\n            }\n          } catch (err) {\n            _didIteratorError8 = true;\n            _iteratorError8 = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion8 && _iterator8[\"return\"] != null) {\n                _iterator8[\"return\"]();\n              }\n            } finally {\n              if (_didIteratorError8) {\n                throw _iteratorError8;\n              }\n            }\n          }\n        }\n      } catch (err) {\n        _didIteratorError7 = true;\n        _iteratorError7 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion7 && _iterator7[\"return\"] != null) {\n            _iterator7[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError7) {\n            throw _iteratorError7;\n          }\n        }\n      }\n\n      if (++x > n) throw new Error(\"circular link\");\n      current = next;\n      next = new Set();\n    }\n  }\n\n  function computeNodeHeights(_ref5) {\n    var nodes = _ref5.nodes;\n    var n = nodes.length;\n    var current = new Set(nodes);\n    var next = new Set();\n    var x = 0;\n\n    while (current.size) {\n      var _iteratorNormalCompletion9 = true;\n      var _didIteratorError9 = false;\n      var _iteratorError9 = undefined;\n\n      try {\n        for (var _iterator9 = current[Symbol.iterator](), _step9; !(_iteratorNormalCompletion9 = (_step9 = _iterator9.next()).done); _iteratorNormalCompletion9 = true) {\n          var node = _step9.value;\n          node.height = x;\n          var _iteratorNormalCompletion10 = true;\n          var _didIteratorError10 = false;\n          var _iteratorError10 = undefined;\n\n          try {\n            for (var _iterator10 = node.targetLinks[Symbol.iterator](), _step10; !(_iteratorNormalCompletion10 = (_step10 = _iterator10.next()).done); _iteratorNormalCompletion10 = true) {\n              var source = _step10.value.source;\n              next.add(source);\n            }\n          } catch (err) {\n            _didIteratorError10 = true;\n            _iteratorError10 = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion10 && _iterator10[\"return\"] != null) {\n                _iterator10[\"return\"]();\n              }\n            } finally {\n              if (_didIteratorError10) {\n                throw _iteratorError10;\n              }\n            }\n          }\n        }\n      } catch (err) {\n        _didIteratorError9 = true;\n        _iteratorError9 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion9 && _iterator9[\"return\"] != null) {\n            _iterator9[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError9) {\n            throw _iteratorError9;\n          }\n        }\n      }\n\n      if (++x > n) throw new Error(\"circular link\");\n      current = next;\n      next = new Set();\n    }\n  }\n\n  function computeNodeLayers(_ref6) {\n    var nodes = _ref6.nodes;\n    var x = max(nodes, function (d) {\n      return d.depth;\n    }) + 1;\n    var kx = (x1 - x0 - dx) / (x - 1);\n    var columns = new Array(x);\n    var _iteratorNormalCompletion11 = true;\n    var _didIteratorError11 = false;\n    var _iteratorError11 = undefined;\n\n    try {\n      for (var _iterator11 = nodes[Symbol.iterator](), _step11; !(_iteratorNormalCompletion11 = (_step11 = _iterator11.next()).done); _iteratorNormalCompletion11 = true) {\n        var node = _step11.value;\n        var i = Math.max(0, Math.min(x - 1, Math.floor(align.call(null, node, x))));\n        node.layer = i;\n        node.x0 = x0 + i * kx;\n        node.x1 = node.x0 + dx;\n        if (columns[i]) columns[i].push(node);else columns[i] = [node];\n      }\n    } catch (err) {\n      _didIteratorError11 = true;\n      _iteratorError11 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion11 && _iterator11[\"return\"] != null) {\n          _iterator11[\"return\"]();\n        }\n      } finally {\n        if (_didIteratorError11) {\n          throw _iteratorError11;\n        }\n      }\n    }\n\n    if (sort) {\n      var _iteratorNormalCompletion12 = true;\n      var _didIteratorError12 = false;\n      var _iteratorError12 = undefined;\n\n      try {\n        for (var _iterator12 = columns[Symbol.iterator](), _step12; !(_iteratorNormalCompletion12 = (_step12 = _iterator12.next()).done); _iteratorNormalCompletion12 = true) {\n          var column = _step12.value;\n          column.sort(sort);\n        }\n      } catch (err) {\n        _didIteratorError12 = true;\n        _iteratorError12 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion12 && _iterator12[\"return\"] != null) {\n            _iterator12[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError12) {\n            throw _iteratorError12;\n          }\n        }\n      }\n    }\n\n    return columns;\n  }\n\n  function initializeNodeBreadths(columns) {\n    var ky = min(columns, function (c) {\n      return (y1 - y0 - (c.length - 1) * py) / sum(c, value);\n    });\n    var _iteratorNormalCompletion13 = true;\n    var _didIteratorError13 = false;\n    var _iteratorError13 = undefined;\n\n    try {\n      for (var _iterator13 = columns[Symbol.iterator](), _step13; !(_iteratorNormalCompletion13 = (_step13 = _iterator13.next()).done); _iteratorNormalCompletion13 = true) {\n        var _nodes = _step13.value;\n        var y = y0;\n        var _iteratorNormalCompletion14 = true;\n        var _didIteratorError14 = false;\n        var _iteratorError14 = undefined;\n\n        try {\n          for (var _iterator14 = _nodes[Symbol.iterator](), _step14; !(_iteratorNormalCompletion14 = (_step14 = _iterator14.next()).done); _iteratorNormalCompletion14 = true) {\n            var _node = _step14.value;\n            _node.y0 = y;\n            _node.y1 = y + _node.value * ky;\n            y = _node.y1 + py;\n            var _iteratorNormalCompletion15 = true;\n            var _didIteratorError15 = false;\n            var _iteratorError15 = undefined;\n\n            try {\n              for (var _iterator15 = _node.sourceLinks[Symbol.iterator](), _step15; !(_iteratorNormalCompletion15 = (_step15 = _iterator15.next()).done); _iteratorNormalCompletion15 = true) {\n                var link = _step15.value;\n                link.width = link.value * ky;\n              }\n            } catch (err) {\n              _didIteratorError15 = true;\n              _iteratorError15 = err;\n            } finally {\n              try {\n                if (!_iteratorNormalCompletion15 && _iterator15[\"return\"] != null) {\n                  _iterator15[\"return\"]();\n                }\n              } finally {\n                if (_didIteratorError15) {\n                  throw _iteratorError15;\n                }\n              }\n            }\n          }\n        } catch (err) {\n          _didIteratorError14 = true;\n          _iteratorError14 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion14 && _iterator14[\"return\"] != null) {\n              _iterator14[\"return\"]();\n            }\n          } finally {\n            if (_didIteratorError14) {\n              throw _iteratorError14;\n            }\n          }\n        }\n\n        y = (y1 - y + py) / (_nodes.length + 1);\n\n        for (var i = 0; i < _nodes.length; ++i) {\n          var node = _nodes[i];\n          node.y0 += y * (i + 1);\n          node.y1 += y * (i + 1);\n        }\n\n        reorderLinks(_nodes);\n      }\n    } catch (err) {\n      _didIteratorError13 = true;\n      _iteratorError13 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion13 && _iterator13[\"return\"] != null) {\n          _iterator13[\"return\"]();\n        }\n      } finally {\n        if (_didIteratorError13) {\n          throw _iteratorError13;\n        }\n      }\n    }\n  }\n\n  function computeNodeBreadths(graph) {\n    var columns = computeNodeLayers(graph);\n    initializeNodeBreadths(columns);\n\n    for (var i = 0; i < iterations; ++i) {\n      var alpha = Math.pow(0.99, i);\n      var beta = Math.max(1 - alpha, (i + 1) / iterations);\n      relaxRightToLeft(columns, alpha, beta);\n      relaxLeftToRight(columns, alpha, beta);\n    }\n  } // Reposition each node based on its incoming (target) links.\n\n\n  function relaxLeftToRight(columns, alpha, beta) {\n    for (var i = 1, n = columns.length; i < n; ++i) {\n      var column = columns[i];\n      var _iteratorNormalCompletion16 = true;\n      var _didIteratorError16 = false;\n      var _iteratorError16 = undefined;\n\n      try {\n        for (var _iterator16 = column[Symbol.iterator](), _step16; !(_iteratorNormalCompletion16 = (_step16 = _iterator16.next()).done); _iteratorNormalCompletion16 = true) {\n          var target = _step16.value;\n          var y = 0;\n          var w = 0;\n          var _iteratorNormalCompletion17 = true;\n          var _didIteratorError17 = false;\n          var _iteratorError17 = undefined;\n\n          try {\n            for (var _iterator17 = target.targetLinks[Symbol.iterator](), _step17; !(_iteratorNormalCompletion17 = (_step17 = _iterator17.next()).done); _iteratorNormalCompletion17 = true) {\n              var _step17$value = _step17.value,\n                  source = _step17$value.source,\n                  _value = _step17$value.value;\n              var v = _value * (target.layer - source.layer);\n              y += targetTop(source, target) * v;\n              w += v;\n            }\n          } catch (err) {\n            _didIteratorError17 = true;\n            _iteratorError17 = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion17 && _iterator17[\"return\"] != null) {\n                _iterator17[\"return\"]();\n              }\n            } finally {\n              if (_didIteratorError17) {\n                throw _iteratorError17;\n              }\n            }\n          }\n\n          if (!(w > 0)) continue;\n          var dy = (y / w - target.y0) * alpha;\n          target.y0 += dy;\n          target.y1 += dy;\n          reorderNodeLinks(target);\n        }\n      } catch (err) {\n        _didIteratorError16 = true;\n        _iteratorError16 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion16 && _iterator16[\"return\"] != null) {\n            _iterator16[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError16) {\n            throw _iteratorError16;\n          }\n        }\n      }\n\n      if (sort === undefined) column.sort(ascendingBreadth);\n      resolveCollisions(column, beta);\n    }\n  } // Reposition each node based on its outgoing (source) links.\n\n\n  function relaxRightToLeft(columns, alpha, beta) {\n    for (var n = columns.length, i = n - 2; i >= 0; --i) {\n      var column = columns[i];\n      var _iteratorNormalCompletion18 = true;\n      var _didIteratorError18 = false;\n      var _iteratorError18 = undefined;\n\n      try {\n        for (var _iterator18 = column[Symbol.iterator](), _step18; !(_iteratorNormalCompletion18 = (_step18 = _iterator18.next()).done); _iteratorNormalCompletion18 = true) {\n          var source = _step18.value;\n          var y = 0;\n          var w = 0;\n          var _iteratorNormalCompletion19 = true;\n          var _didIteratorError19 = false;\n          var _iteratorError19 = undefined;\n\n          try {\n            for (var _iterator19 = source.sourceLinks[Symbol.iterator](), _step19; !(_iteratorNormalCompletion19 = (_step19 = _iterator19.next()).done); _iteratorNormalCompletion19 = true) {\n              var _step19$value = _step19.value,\n                  target = _step19$value.target,\n                  _value2 = _step19$value.value;\n              var v = _value2 * (target.layer - source.layer);\n              y += sourceTop(source, target) * v;\n              w += v;\n            }\n          } catch (err) {\n            _didIteratorError19 = true;\n            _iteratorError19 = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion19 && _iterator19[\"return\"] != null) {\n                _iterator19[\"return\"]();\n              }\n            } finally {\n              if (_didIteratorError19) {\n                throw _iteratorError19;\n              }\n            }\n          }\n\n          if (!(w > 0)) continue;\n          var dy = (y / w - source.y0) * alpha;\n          source.y0 += dy;\n          source.y1 += dy;\n          reorderNodeLinks(source);\n        }\n      } catch (err) {\n        _didIteratorError18 = true;\n        _iteratorError18 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion18 && _iterator18[\"return\"] != null) {\n            _iterator18[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError18) {\n            throw _iteratorError18;\n          }\n        }\n      }\n\n      if (sort === undefined) column.sort(ascendingBreadth);\n      resolveCollisions(column, beta);\n    }\n  }\n\n  function resolveCollisions(nodes, alpha) {\n    var i = nodes.length >> 1;\n    var subject = nodes[i];\n    resolveCollisionsBottomToTop(nodes, subject.y0 - py, i - 1, alpha);\n    resolveCollisionsTopToBottom(nodes, subject.y1 + py, i + 1, alpha);\n    resolveCollisionsBottomToTop(nodes, y1, nodes.length - 1, alpha);\n    resolveCollisionsTopToBottom(nodes, y0, 0, alpha);\n  } // Push any overlapping nodes down.\n\n\n  function resolveCollisionsTopToBottom(nodes, y, i, alpha) {\n    for (; i < nodes.length; ++i) {\n      var node = nodes[i];\n      var dy = (y - node.y0) * alpha;\n      if (dy > 1e-6) node.y0 += dy, node.y1 += dy;\n      y = node.y1 + py;\n    }\n  } // Push any overlapping nodes up.\n\n\n  function resolveCollisionsBottomToTop(nodes, y, i, alpha) {\n    for (; i >= 0; --i) {\n      var node = nodes[i];\n      var dy = (node.y1 - y) * alpha;\n      if (dy > 1e-6) node.y0 -= dy, node.y1 -= dy;\n      y = node.y0 - py;\n    }\n  }\n\n  function reorderNodeLinks(_ref7) {\n    var sourceLinks = _ref7.sourceLinks,\n        targetLinks = _ref7.targetLinks;\n\n    if (linkSort === undefined) {\n      var _iteratorNormalCompletion20 = true;\n      var _didIteratorError20 = false;\n      var _iteratorError20 = undefined;\n\n      try {\n        for (var _iterator20 = targetLinks[Symbol.iterator](), _step20; !(_iteratorNormalCompletion20 = (_step20 = _iterator20.next()).done); _iteratorNormalCompletion20 = true) {\n          var _sourceLinks = _step20.value.source.sourceLinks;\n\n          _sourceLinks.sort(ascendingTargetBreadth);\n        }\n      } catch (err) {\n        _didIteratorError20 = true;\n        _iteratorError20 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion20 && _iterator20[\"return\"] != null) {\n            _iterator20[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError20) {\n            throw _iteratorError20;\n          }\n        }\n      }\n\n      var _iteratorNormalCompletion21 = true;\n      var _didIteratorError21 = false;\n      var _iteratorError21 = undefined;\n\n      try {\n        for (var _iterator21 = sourceLinks[Symbol.iterator](), _step21; !(_iteratorNormalCompletion21 = (_step21 = _iterator21.next()).done); _iteratorNormalCompletion21 = true) {\n          var _targetLinks = _step21.value.target.targetLinks;\n\n          _targetLinks.sort(ascendingSourceBreadth);\n        }\n      } catch (err) {\n        _didIteratorError21 = true;\n        _iteratorError21 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion21 && _iterator21[\"return\"] != null) {\n            _iterator21[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError21) {\n            throw _iteratorError21;\n          }\n        }\n      }\n    }\n  }\n\n  function reorderLinks(nodes) {\n    if (linkSort === undefined) {\n      var _iteratorNormalCompletion22 = true;\n      var _didIteratorError22 = false;\n      var _iteratorError22 = undefined;\n\n      try {\n        for (var _iterator22 = nodes[Symbol.iterator](), _step22; !(_iteratorNormalCompletion22 = (_step22 = _iterator22.next()).done); _iteratorNormalCompletion22 = true) {\n          var _step22$value = _step22.value,\n              sourceLinks = _step22$value.sourceLinks,\n              targetLinks = _step22$value.targetLinks;\n          sourceLinks.sort(ascendingTargetBreadth);\n          targetLinks.sort(ascendingSourceBreadth);\n        }\n      } catch (err) {\n        _didIteratorError22 = true;\n        _iteratorError22 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion22 && _iterator22[\"return\"] != null) {\n            _iterator22[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError22) {\n            throw _iteratorError22;\n          }\n        }\n      }\n    }\n  } // Returns the target.y0 that would produce an ideal link from source to target.\n\n\n  function targetTop(source, target) {\n    var y = source.y0 - (source.sourceLinks.length - 1) * py / 2;\n    var _iteratorNormalCompletion23 = true;\n    var _didIteratorError23 = false;\n    var _iteratorError23 = undefined;\n\n    try {\n      for (var _iterator23 = source.sourceLinks[Symbol.iterator](), _step23; !(_iteratorNormalCompletion23 = (_step23 = _iterator23.next()).done); _iteratorNormalCompletion23 = true) {\n        var _step23$value = _step23.value,\n            node = _step23$value.target,\n            width = _step23$value.width;\n        if (node === target) break;\n        y += width + py;\n      }\n    } catch (err) {\n      _didIteratorError23 = true;\n      _iteratorError23 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion23 && _iterator23[\"return\"] != null) {\n          _iterator23[\"return\"]();\n        }\n      } finally {\n        if (_didIteratorError23) {\n          throw _iteratorError23;\n        }\n      }\n    }\n\n    var _iteratorNormalCompletion24 = true;\n    var _didIteratorError24 = false;\n    var _iteratorError24 = undefined;\n\n    try {\n      for (var _iterator24 = target.targetLinks[Symbol.iterator](), _step24; !(_iteratorNormalCompletion24 = (_step24 = _iterator24.next()).done); _iteratorNormalCompletion24 = true) {\n        var _step24$value = _step24.value,\n            _node2 = _step24$value.source,\n            _width = _step24$value.width;\n        if (_node2 === source) break;\n        y -= _width;\n      }\n    } catch (err) {\n      _didIteratorError24 = true;\n      _iteratorError24 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion24 && _iterator24[\"return\"] != null) {\n          _iterator24[\"return\"]();\n        }\n      } finally {\n        if (_didIteratorError24) {\n          throw _iteratorError24;\n        }\n      }\n    }\n\n    return y;\n  } // Returns the source.y0 that would produce an ideal link from source to target.\n\n\n  function sourceTop(source, target) {\n    var y = target.y0 - (target.targetLinks.length - 1) * py / 2;\n    var _iteratorNormalCompletion25 = true;\n    var _didIteratorError25 = false;\n    var _iteratorError25 = undefined;\n\n    try {\n      for (var _iterator25 = target.targetLinks[Symbol.iterator](), _step25; !(_iteratorNormalCompletion25 = (_step25 = _iterator25.next()).done); _iteratorNormalCompletion25 = true) {\n        var _step25$value = _step25.value,\n            node = _step25$value.source,\n            width = _step25$value.width;\n        if (node === source) break;\n        y += width + py;\n      }\n    } catch (err) {\n      _didIteratorError25 = true;\n      _iteratorError25 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion25 && _iterator25[\"return\"] != null) {\n          _iterator25[\"return\"]();\n        }\n      } finally {\n        if (_didIteratorError25) {\n          throw _iteratorError25;\n        }\n      }\n    }\n\n    var _iteratorNormalCompletion26 = true;\n    var _didIteratorError26 = false;\n    var _iteratorError26 = undefined;\n\n    try {\n      for (var _iterator26 = source.sourceLinks[Symbol.iterator](), _step26; !(_iteratorNormalCompletion26 = (_step26 = _iterator26.next()).done); _iteratorNormalCompletion26 = true) {\n        var _step26$value = _step26.value,\n            _node3 = _step26$value.target,\n            _width2 = _step26$value.width;\n        if (_node3 === target) break;\n        y -= _width2;\n      }\n    } catch (err) {\n      _didIteratorError26 = true;\n      _iteratorError26 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion26 && _iterator26[\"return\"] != null) {\n          _iterator26[\"return\"]();\n        }\n      } finally {\n        if (_didIteratorError26) {\n          throw _iteratorError26;\n        }\n      }\n    }\n\n    return y;\n  }\n\n  return sankey;\n}","import \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nexport default function max(values, valueof) {\n  var max;\n\n  if (valueof === undefined) {\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = values[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var value = _step.value;\n\n        if (value != null && value >= value && (max === undefined || max < value)) {\n          max = value;\n        }\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n          _iterator[\"return\"]();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n  } else {\n    var index = -1;\n    var _iteratorNormalCompletion2 = true;\n    var _didIteratorError2 = false;\n    var _iteratorError2 = undefined;\n\n    try {\n      for (var _iterator2 = values[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n        var _value = _step2.value;\n\n        if ((_value = valueof(_value, ++index, values)) != null && _value >= _value && (max === undefined || max < _value)) {\n          max = _value;\n        }\n      }\n    } catch (err) {\n      _didIteratorError2 = true;\n      _iteratorError2 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion2 && _iterator2[\"return\"] != null) {\n          _iterator2[\"return\"]();\n        }\n      } finally {\n        if (_didIteratorError2) {\n          throw _iteratorError2;\n        }\n      }\n    }\n  }\n\n  return max;\n}","import { linkHorizontal } from \"d3-shape\";\n\nfunction horizontalSource(d) {\n  return [d.source.x1, d.y0];\n}\n\nfunction horizontalTarget(d) {\n  return [d.target.x0, d.y1];\n}\n\nexport default function () {\n  return linkHorizontal().source(horizontalSource).target(horizontalTarget);\n}","export { default as sankey } from \"./sankey.js\";\nexport { center as sankeyCenter, left as sankeyLeft, right as sankeyRight, justify as sankeyJustify } from \"./align.js\";\nexport { default as sankeyLinkHorizontal } from \"./sankeyLinkHorizontal.js\";","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, RaphaÃ«l Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { SankeyDefaultProps as defaults, sankeyAlignmentPropKeys } from '@nivo/sankey'\nimport { themeProperty, motionProperties, groupProperties } from '../../../lib/componentProperties'\n\nconst props = [\n    {\n        key: 'data',\n        group: 'Base',\n        help: 'Chart data.',\n        description: `\n            Chart data, which must conform to this structure:\n            \\`\\`\\`\n            {\n                nodes: Array<{\n                    id: string | number\n                }>,\n                links: Array<{\n                    source: string | number, // ref to node id\n                    target: string | number, // ref to node id\n                    value:  number\n                }}>\n            }\n            \\`\\`\\`\n        `,\n        type: '{ nodes: object[], links: object[] }',\n        required: true,\n    },\n    {\n        key: 'layout',\n        help: `Control sankey layout direction.`,\n        type: 'string',\n        required: false,\n        defaultValue: defaults.layout,\n        controlType: 'radio',\n        group: 'Base',\n        controlOptions: {\n            choices: [\n                { label: 'horizontal', value: 'horizontal' },\n                { label: 'vertical', value: 'vertical' },\n            ],\n        },\n    },\n    {\n        key: 'align',\n        group: 'Base',\n        help: 'Node alignment method.',\n        description: `\n            Defines node alignment method.\n            Please have a look at the\n            [official d3 documentation](https://github.com/d3/d3-sankey#sankey_nodeAlign)\n            for further information.\n        `,\n        type: 'string',\n        required: false,\n        defaultValue: defaults.align,\n        controlType: 'choices',\n        controlOptions: {\n            choices: sankeyAlignmentPropKeys.map(key => ({\n                label: key,\n                value: key,\n            })),\n        },\n    },\n    {\n        key: 'sort',\n        description: `\n            Defines node sorting method. Must be one of:\n\n            - **'auto'** order of nodes within each\n              column is determined automatically by the layout.\n            - **'input'** order is fixed by the input.\n            - **'ascending'** node with lower values on top.\n            - **'descending'** node with higher values on top.\n            - \\`(nodeA, nodeB) => number\\` user defined function.\n\n            Please have a look at the\n            [official d3 documentation](https://github.com/d3/d3-sankey#sankey_nodeSort)\n            for further information.\n        `,\n        help: 'Node sorting method.',\n        type: 'string | Function',\n        required: false,\n        defaultValue: defaults.sort,\n        controlType: 'choices',\n        group: 'Base',\n        controlOptions: {\n            choices: ['auto', 'input', 'ascending', 'descending'].map(key => ({\n                label: key,\n                value: key,\n            })),\n        },\n    },\n    {\n        key: 'width',\n        enableControlForFlavors: ['api'],\n        description: `\n            not required if using\n            \\`<ResponsiveSankey/>\\`.\n        `,\n        help: 'Chart width.',\n        type: 'number',\n        required: true,\n        controlType: 'range',\n        group: 'Base',\n        controlOptions: {\n            unit: 'px',\n            min: 100,\n            max: 1200,\n            step: 5,\n        },\n    },\n    {\n        key: 'height',\n        enableControlForFlavors: ['api'],\n        description: `\n            not required if using\n            \\`<ResponsiveSankey/>\\`.\n        `,\n        help: 'Chart height.',\n        type: 'number',\n        required: true,\n        controlType: 'range',\n        group: 'Base',\n        controlOptions: {\n            unit: 'px',\n            min: 100,\n            max: 1200,\n            step: 5,\n        },\n    },\n    {\n        key: 'margin',\n        help: 'Chart margin.',\n        type: 'object',\n        required: false,\n        controlType: 'margin',\n        group: 'Base',\n    },\n    themeProperty,\n    {\n        key: 'colors',\n        help: 'Defines how to compute nodes color.',\n        type: 'string | Function | string[]',\n        required: false,\n        defaultValue: defaults.colors,\n        controlType: 'ordinalColors',\n        group: 'Style',\n    },\n    {\n        key: 'nodeThickness',\n        help: 'Node thickness.',\n        required: false,\n        defaultValue: defaults.nodeThickness,\n        type: 'number',\n        controlType: 'range',\n        group: 'Nodes',\n        controlOptions: {\n            unit: 'px',\n            min: 2,\n            max: 100,\n        },\n    },\n    {\n        key: 'nodeOpacity',\n        help: 'Node opacity (0~1).',\n        required: false,\n        defaultValue: defaults.nodeOpacity,\n        type: 'number',\n        controlType: 'opacity',\n        group: 'Nodes',\n    },\n    {\n        key: 'nodeHoverOpacity',\n        flavors: ['svg'],\n        help: 'Node opacity on hover (0~1).',\n        required: false,\n        defaultValue: defaults.nodeHoverOpacity,\n        type: 'number',\n        controlType: 'opacity',\n        group: 'Nodes',\n    },\n    {\n        key: 'nodeSpacing',\n        help: 'Spacing between nodes at an identical level.',\n        required: false,\n        defaultValue: defaults.nodeSpacing,\n        type: 'number',\n        controlType: 'range',\n        group: 'Nodes',\n        controlOptions: {\n            unit: 'px',\n            min: 0,\n            max: 60,\n        },\n    },\n    {\n        key: 'nodeInnerPadding',\n        help: 'Node inner padding, distance from link, substracted from nodeThickness.',\n        required: false,\n        defaultValue: defaults.nodePaddingX,\n        type: 'number',\n        controlType: 'range',\n        group: 'Nodes',\n        controlOptions: {\n            unit: 'px',\n            min: 0,\n            max: 20,\n        },\n    },\n    {\n        key: 'nodeBorderWidth',\n        help: 'Node border width.',\n        required: false,\n        defaultValue: defaults.nodeBorderWidth,\n        type: 'number',\n        controlType: 'lineWidth',\n        group: 'Nodes',\n    },\n    {\n        key: 'nodeBorderColor',\n        description: `\n            how to compute node border color,\n            [see dedicated documentation](self:/guides/colors).\n        `,\n        help: 'Method to compute node border color.',\n        type: 'string | object | Function',\n        required: false,\n        defaultValue: defaults.nodeBorderColor,\n        controlType: 'inheritedColor',\n        group: 'Nodes',\n    },\n    {\n        key: 'linkOpacity',\n        help: 'Link opacity (0~1).',\n        required: false,\n        defaultValue: defaults.linkOpacity,\n        type: 'number',\n        controlType: 'opacity',\n        group: 'Links',\n    },\n    {\n        key: 'linkHoverOpacity',\n        flavors: ['svg'],\n        help: 'Link opacity on hover(0~1).',\n        required: false,\n        defaultValue: defaults.linkHoverOpacity,\n        type: 'number',\n        controlType: 'opacity',\n        group: 'Links',\n    },\n    {\n        key: 'linkContract',\n        help: 'Contract link width.',\n        required: false,\n        defaultValue: defaults.linkContract,\n        type: 'number',\n        controlType: 'range',\n        group: 'Links',\n        controlOptions: {\n            unit: 'px',\n            min: 0,\n            max: 60,\n        },\n    },\n    {\n        key: 'linkBlendMode',\n        flavors: ['svg'],\n        help: 'Defines CSS mix-blend-mode property for links.',\n        description: `\n            Defines CSS \\`mix-blend-mode\\` property for links, see\n            [MDN documentation](https://developer.mozilla.org/fr/docs/Web/CSS/mix-blend-mode).\n        `,\n        type: 'string',\n        required: false,\n        defaultValue: defaults.linkBlendMode,\n        controlType: 'blendMode',\n        group: 'Links',\n    },\n    {\n        key: 'enableLinkGradient',\n        help: 'Enable/disable gradient from source/target nodes instead of plain color.',\n        type: 'boolean',\n        required: false,\n        defaultValue: defaults.enableLinkGradient,\n        controlType: 'switch',\n        group: 'Links',\n    },\n    {\n        key: 'enableLabels',\n        help: 'Enable/disable labels.',\n        type: 'boolean',\n        required: false,\n        defaultValue: defaults.enableLabels,\n        controlType: 'switch',\n        group: 'Labels',\n    },\n    {\n        key: 'labelPosition',\n        help: 'Label position.',\n        type: 'string',\n        required: false,\n        defaultValue: defaults.labelPosition,\n        controlType: 'radio',\n        group: 'Labels',\n        controlOptions: {\n            choices: ['inside', 'outside'].map(key => ({\n                label: key,\n                value: key,\n            })),\n        },\n    },\n    {\n        key: 'labelPadding',\n        help: 'Label padding from node.',\n        required: false,\n        defaultValue: defaults.labelPadding,\n        type: 'number',\n        controlType: 'range',\n        group: 'Labels',\n        controlOptions: {\n            unit: 'px',\n            min: 0,\n            max: 60,\n        },\n    },\n    {\n        key: 'labelTextColor',\n        help: 'Method to compute label text color.',\n        description: `\n            how to compute label text color,\n            [see dedicated documentation](self:/guides/colors).\n        `,\n        type: 'string | object | Function',\n        required: false,\n        defaultValue: defaults.labelTextColor,\n        controlType: 'inheritedColor',\n        group: 'Labels',\n    },\n    {\n        key: 'labelOrientation',\n        help: 'Label orientation.',\n        type: 'string',\n        required: false,\n        defaultValue: defaults.labelOrientation,\n        controlType: 'radio',\n        group: 'Labels',\n        controlOptions: {\n            choices: ['horizontal', 'vertical'].map(key => ({\n                label: key,\n                value: key,\n            })),\n        },\n    },\n    {\n        key: 'isInteractive',\n        flavors: ['svg'],\n        help: 'Enable/disable interactivity.',\n        type: 'boolean',\n        required: false,\n        defaultValue: defaults.isInteractive,\n        controlType: 'switch',\n        group: 'Interactivity',\n    },\n    ...motionProperties(['svg'], defaults, 'react-spring'),\n]\n\nexport const groups = groupProperties(props)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, RaphaÃ«l Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { settingsMapper } from '../../../lib/settings'\n\nexport default settingsMapper({})\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, RaphaÃ«l Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport PropTypes from 'prop-types'\nimport { sankeyCenter, sankeyJustify, sankeyLeft, sankeyRight } from 'd3-sankey'\nimport { noop, blendModePropType, motionPropTypes } from '@nivo/core'\nimport { ordinalColorsPropType, inheritedColorPropType } from '@nivo/colors'\nimport { LegendPropShape } from '@nivo/legends'\n\nexport const sankeyAlignmentPropMapping = {\n    center: sankeyCenter,\n    justify: sankeyJustify,\n    start: sankeyLeft,\n    end: sankeyRight,\n}\n\nexport const sankeyAlignmentPropKeys = Object.keys(sankeyAlignmentPropMapping)\n\nexport const sankeyAlignmentPropType = PropTypes.oneOf(sankeyAlignmentPropKeys)\n\nexport const sankeyAlignmentFromProp = prop => sankeyAlignmentPropMapping[prop]\n\nexport const SankeyPropTypes = {\n    data: PropTypes.shape({\n        nodes: PropTypes.arrayOf(\n            PropTypes.shape({\n                id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n            })\n        ).isRequired,\n        links: PropTypes.arrayOf(\n            PropTypes.shape({\n                source: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n                target: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n            })\n        ).isRequired,\n    }).isRequired,\n\n    layout: PropTypes.oneOf(['horizontal', 'vertical']).isRequired,\n    align: sankeyAlignmentPropType.isRequired,\n    sort: PropTypes.oneOfType([\n        PropTypes.oneOf(['auto', 'input', 'ascending', 'descending']),\n        PropTypes.func,\n    ]).isRequired,\n\n    colors: ordinalColorsPropType.isRequired,\n\n    nodeOpacity: PropTypes.number.isRequired,\n    nodeHoverOpacity: PropTypes.number.isRequired,\n    nodeHoverOthersOpacity: PropTypes.number.isRequired,\n    nodeThickness: PropTypes.number.isRequired,\n    nodeSpacing: PropTypes.number.isRequired,\n    nodeInnerPadding: PropTypes.number.isRequired,\n    nodeBorderWidth: PropTypes.number.isRequired,\n    nodeBorderColor: inheritedColorPropType,\n\n    linkOpacity: PropTypes.number.isRequired,\n    linkHoverOpacity: PropTypes.number.isRequired,\n    linkHoverOthersOpacity: PropTypes.number.isRequired,\n    linkContract: PropTypes.number.isRequired,\n    linkBlendMode: blendModePropType.isRequired,\n    enableLinkGradient: PropTypes.bool.isRequired,\n\n    enableLabels: PropTypes.bool.isRequired,\n    labelPosition: PropTypes.oneOf(['inside', 'outside']).isRequired,\n    labelPadding: PropTypes.number.isRequired,\n    labelOrientation: PropTypes.oneOf(['horizontal', 'vertical']).isRequired,\n    labelTextColor: inheritedColorPropType,\n    label: PropTypes.oneOfType([PropTypes.string, PropTypes.func]).isRequired,\n    labelFormat: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n\n    nodeTooltip: PropTypes.func,\n    linkTooltip: PropTypes.func,\n\n    isInteractive: PropTypes.bool.isRequired,\n    onClick: PropTypes.func.isRequired,\n    tooltipFormat: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n\n    legends: PropTypes.arrayOf(PropTypes.shape(LegendPropShape)).isRequired,\n\n    layers: PropTypes.arrayOf(\n        PropTypes.oneOfType([\n            PropTypes.oneOf(['links', 'nodes', 'labels', 'legends']),\n            PropTypes.func,\n        ])\n    ).isRequired,\n\n    role: PropTypes.string.isRequired,\n\n    ...motionPropTypes,\n}\n\nexport const SankeyDefaultProps = {\n    layout: 'horizontal',\n    align: 'center',\n    sort: 'auto',\n\n    colors: { scheme: 'nivo' },\n\n    nodeOpacity: 0.75,\n    nodeHoverOpacity: 1,\n    nodeHoverOthersOpacity: 0.15,\n    nodeThickness: 12,\n    nodeSpacing: 12,\n    nodeInnerPadding: 0,\n    nodeBorderWidth: 1,\n    nodeBorderColor: { from: 'color', modifiers: [['darker', 0.5]] },\n\n    linkOpacity: 0.25,\n    linkHoverOpacity: 0.6,\n    linkHoverOthersOpacity: 0.15,\n    linkContract: 0,\n    linkBlendMode: 'multiply',\n    enableLinkGradient: false,\n\n    enableLabels: true,\n    label: 'id',\n    labelPosition: 'inside',\n    labelPadding: 9,\n    labelOrientation: 'horizontal',\n    labelTextColor: { from: 'color', modifiers: [['darker', 0.8]] },\n\n    isInteractive: true,\n    onClick: noop,\n\n    legends: [],\n\n    layers: ['links', 'nodes', 'labels', 'legends'],\n\n    role: 'img',\n\n    animate: true,\n    motionConfig: 'gentle',\n}\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import { useState, useMemo } from 'react'\nimport { cloneDeep } from 'lodash'\nimport { sankey as d3Sankey } from 'd3-sankey'\nimport { useTheme, getLabelGenerator } from '@nivo/core'\nimport { useOrdinalColorScale, useInheritedColor } from '@nivo/colors'\nimport { sankeyAlignmentFromProp } from './props'\n\nconst getId = d => d.id\n\nexport const computeNodeAndLinks = ({\n    data: _data,\n    layout,\n    alignFunction,\n    sortFunction,\n    linkSortMode,\n    nodeThickness,\n    nodeSpacing,\n    nodeInnerPadding,\n    width,\n    height,\n    getColor,\n    getLinkColor,\n    getLabel,\n}) => {\n    const sankey = d3Sankey()\n        .nodeAlign(alignFunction)\n        .nodeSort(sortFunction)\n        .linkSort(linkSortMode)\n        .nodeWidth(nodeThickness)\n        .nodePadding(nodeSpacing)\n        .size(layout === 'horizontal' ? [width, height] : [height, width])\n        .nodeId(getId)\n\n    // deep clone is required as the sankey diagram mutates data\n    // we need a different identity for correct updates\n    const data = cloneDeep(_data)\n    sankey(data)\n\n    data.nodes.forEach(node => {\n        node.color = getColor(node)\n        node.label = getLabel(node)\n        if (layout === 'horizontal') {\n            node.x = node.x0 + nodeInnerPadding\n            node.y = node.y0\n            node.width = Math.max(node.x1 - node.x0 - nodeInnerPadding * 2, 0)\n            node.height = Math.max(node.y1 - node.y0, 0)\n        } else {\n            node.x = node.y0\n            node.y = node.x0 + nodeInnerPadding\n            node.width = Math.max(node.y1 - node.y0, 0)\n            node.height = Math.max(node.x1 - node.x0 - nodeInnerPadding * 2, 0)\n\n            const oldX0 = node.x0\n            const oldX1 = node.x1\n\n            node.x0 = node.y0\n            node.x1 = node.y1\n            node.y0 = oldX0\n            node.y1 = oldX1\n        }\n    })\n\n    data.links.forEach(link => {\n        link.color = getLinkColor(link)\n        link.pos0 = link.y0\n        link.pos1 = link.y1\n        link.thickness = link.width\n        delete link.y0\n        delete link.y1\n        delete link.width\n    })\n\n    return data\n}\n\nexport const useSankey = ({\n    data,\n    layout,\n    width,\n    height,\n    sort,\n    align,\n    colors,\n    nodeThickness,\n    nodeSpacing,\n    nodeInnerPadding,\n    nodeBorderColor,\n    label,\n    labelFormat,\n    labelTextColor,\n}) => {\n    const [currentNode, setCurrentNode] = useState(null)\n    const [currentLink, setCurrentLink] = useState(null)\n\n    const sortFunction = useMemo(() => {\n        if (sort === 'auto') return undefined\n        if (sort === 'input') return null\n        if (sort === 'ascending') return (a, b) => a.value - b.value\n        if (sort === 'descending') return (a, b) => b.value - a.value\n\n        return sort\n    }, [sort])\n\n    // If \"input\" sorting is used, apply this setting to links, too.\n    // (In d3, `null` means input sorting and `undefined` is the default)\n    const linkSortMode = sort === 'input' ? null : undefined\n\n    const alignFunction = useMemo(() => sankeyAlignmentFromProp(align), [align])\n\n    const theme = useTheme()\n\n    const getColor = useOrdinalColorScale(colors, 'id')\n    const getNodeBorderColor = useInheritedColor(nodeBorderColor, theme)\n    const getLinkColor = useOrdinalColorScale(colors, 'source.id')\n\n    const getLabel = useMemo(() => getLabelGenerator(label, labelFormat), [label, labelFormat])\n    const getLabelTextColor = useInheritedColor(labelTextColor, theme)\n\n    const { nodes, links } = useMemo(\n        () =>\n            computeNodeAndLinks({\n                data,\n                layout,\n                alignFunction,\n                sortFunction,\n                linkSortMode,\n                nodeThickness,\n                nodeSpacing,\n                nodeInnerPadding,\n                width,\n                height,\n                getColor,\n                getLinkColor,\n                getLabel,\n            }),\n        [\n            data,\n            layout,\n            alignFunction,\n            sortFunction,\n            linkSortMode,\n            nodeThickness,\n            nodeSpacing,\n            nodeInnerPadding,\n            width,\n            height,\n            getColor,\n            getLinkColor,\n            getLabel,\n        ]\n    )\n\n    const legendData = useMemo(\n        () =>\n            nodes.map(node => ({\n                id: node.id,\n                label: node.label,\n                color: node.color,\n            })),\n        [nodes]\n    )\n\n    return {\n        nodes,\n        links,\n        legendData,\n        getNodeBorderColor,\n        currentNode,\n        setCurrentNode,\n        currentLink,\n        setCurrentLink,\n        getLabelTextColor,\n    }\n}\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, RaphaÃ«l Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo, useCallback, useMemo } from 'react'\nimport PropTypes from 'prop-types'\nimport { useSpring, animated } from 'react-spring'\nimport { useMotionConfig } from '@nivo/core'\nimport { BasicTooltip, useTooltip } from '@nivo/tooltip'\n\nconst SankeyNodesItem = ({\n    node,\n    x,\n    y,\n    width,\n    height,\n    color,\n    opacity,\n    borderWidth,\n    borderColor,\n    setCurrent,\n    isInteractive,\n    onClick,\n    tooltip,\n}) => {\n    const { animate, config: springConfig } = useMotionConfig()\n    const animatedProps = useSpring({\n        x,\n        y,\n        width,\n        height,\n        opacity,\n        color,\n        config: springConfig,\n        immediate: !animate,\n    })\n\n    const { showTooltipFromEvent, hideTooltip } = useTooltip()\n\n    const tooltipContent = useMemo(() => {\n        if (tooltip) {\n            return <BasicTooltip id={tooltip(node)} enableChip={false} />\n        }\n\n        return <BasicTooltip id={node.label} enableChip={true} color={node.color} />\n    }, [tooltip, node])\n\n    const handleMouseEnter = useCallback(\n        event => {\n            setCurrent(node)\n            showTooltipFromEvent(tooltipContent, event, 'left')\n        },\n        [setCurrent, node, showTooltipFromEvent, tooltipContent]\n    )\n\n    const handleMouseMove = useCallback(\n        event => {\n            showTooltipFromEvent(tooltipContent, event, 'left')\n        },\n        [showTooltipFromEvent, tooltipContent]\n    )\n\n    const handleMouseLeave = useCallback(() => {\n        setCurrent(null)\n        hideTooltip()\n    }, [setCurrent, hideTooltip])\n\n    const handleClick = useCallback(\n        event => {\n            onClick(node, event)\n        },\n        [onClick, node]\n    )\n\n    return (\n        <animated.rect\n            x={animatedProps.x}\n            y={animatedProps.y}\n            width={animatedProps.width.interpolate(v => Math.max(v, 0))}\n            height={animatedProps.height.interpolate(v => Math.max(v, 0))}\n            fill={animatedProps.color}\n            fillOpacity={animatedProps.opacity}\n            strokeWidth={borderWidth}\n            stroke={borderColor}\n            strokeOpacity={opacity}\n            onMouseEnter={isInteractive ? handleMouseEnter : undefined}\n            onMouseMove={isInteractive ? handleMouseMove : undefined}\n            onMouseLeave={isInteractive ? handleMouseLeave : undefined}\n            onClick={isInteractive ? handleClick : undefined}\n        />\n    )\n}\n\nSankeyNodesItem.propTypes = {\n    node: PropTypes.shape({\n        id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n        label: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n        color: PropTypes.string.isRequired,\n    }),\n    x: PropTypes.number.isRequired,\n    y: PropTypes.number.isRequired,\n    width: PropTypes.number.isRequired,\n    height: PropTypes.number.isRequired,\n    color: PropTypes.string.isRequired,\n    opacity: PropTypes.number.isRequired,\n    borderWidth: PropTypes.number.isRequired,\n    borderColor: PropTypes.string.isRequired,\n    setCurrent: PropTypes.func.isRequired,\n    isInteractive: PropTypes.bool.isRequired,\n    onClick: PropTypes.func.isRequired,\n    tooltip: PropTypes.func,\n}\n\nexport default memo(SankeyNodesItem)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, RaphaÃ«l Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\nimport SankeyNodesItem from './SankeyNodesItem'\n\nconst SankeyNodes = ({\n    nodes,\n    nodeOpacity,\n    nodeHoverOpacity,\n    nodeHoverOthersOpacity,\n    nodeBorderWidth,\n    getNodeBorderColor,\n    setCurrentNode,\n    currentNode,\n    currentLink,\n    isCurrentNode,\n    isInteractive,\n    onClick,\n    tooltip,\n}) => {\n    const getOpacity = node => {\n        if (!currentNode && !currentLink) return nodeOpacity\n        if (isCurrentNode(node)) return nodeHoverOpacity\n        return nodeHoverOthersOpacity\n    }\n\n    return nodes.map(node => (\n        <SankeyNodesItem\n            key={node.id}\n            node={node}\n            x={node.x}\n            y={node.y}\n            width={node.width}\n            height={node.height}\n            color={node.color}\n            opacity={getOpacity(node)}\n            borderWidth={nodeBorderWidth}\n            borderColor={getNodeBorderColor(node)}\n            setCurrent={setCurrentNode}\n            isInteractive={isInteractive}\n            onClick={onClick}\n            tooltip={tooltip}\n        />\n    ))\n}\n\nSankeyNodes.propTypes = {\n    nodes: PropTypes.arrayOf(\n        PropTypes.shape({\n            id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n            x: PropTypes.number.isRequired,\n            y: PropTypes.number.isRequired,\n            width: PropTypes.number.isRequired,\n            height: PropTypes.number.isRequired,\n            color: PropTypes.string.isRequired,\n        })\n    ).isRequired,\n    nodeOpacity: PropTypes.number.isRequired,\n    nodeHoverOpacity: PropTypes.number.isRequired,\n    nodeHoverOthersOpacity: PropTypes.number.isRequired,\n    nodeBorderWidth: PropTypes.number.isRequired,\n    getNodeBorderColor: PropTypes.func.isRequired,\n    tooltip: PropTypes.func,\n    setCurrentNode: PropTypes.func.isRequired,\n    currentNode: PropTypes.object,\n    currentLink: PropTypes.object,\n    isCurrentNode: PropTypes.func.isRequired,\n    isInteractive: PropTypes.bool.isRequired,\n    onClick: PropTypes.func.isRequired,\n}\n\nexport default memo(SankeyNodes)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, RaphaÃ«l Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\n\nconst SankeyLinkGradient = memo(({ id, layout, startColor, endColor }) => {\n    const gradientProps = {}\n    if (layout === 'horizontal') {\n        gradientProps.x1 = '0%'\n        gradientProps.x2 = '100%'\n        gradientProps.y1 = '0%'\n        gradientProps.y2 = '0%'\n    } else {\n        gradientProps.x1 = '0%'\n        gradientProps.x2 = '0%'\n        gradientProps.y1 = '0%'\n        gradientProps.y2 = '100%'\n    }\n\n    return (\n        <linearGradient id={id} spreadMethod=\"pad\" {...gradientProps}>\n            <stop offset=\"0%\" stopColor={startColor} />\n            <stop offset=\"100%\" stopColor={endColor} />\n        </linearGradient>\n    )\n})\n\nSankeyLinkGradient.propTypes = {\n    id: PropTypes.string.isRequired,\n    layout: PropTypes.oneOf(['horizontal', 'vertical']).isRequired,\n    startColor: PropTypes.string.isRequired,\n    endColor: PropTypes.string.isRequired,\n}\n\nSankeyLinkGradient.displayName = 'SankeyLinkGradient'\n\nexport default SankeyLinkGradient\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, RaphaÃ«l Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo, useCallback, useMemo } from 'react'\nimport PropTypes from 'prop-types'\nimport { useSpring, animated } from 'react-spring'\nimport { blendModePropType, useMotionConfig } from '@nivo/core'\nimport { BasicTooltip, Chip, useTooltip } from '@nivo/tooltip'\nimport SankeyLinkGradient from './SankeyLinkGradient'\n\nconst tooltipStyles = {\n    container: {\n        display: 'flex',\n        alignItems: 'center',\n    },\n    sourceChip: {\n        marginRight: 7,\n    },\n    targetChip: {\n        marginLeft: 7,\n        marginRight: 7,\n    },\n}\n\nconst TooltipContent = ({ link, format }) => (\n    <span style={tooltipStyles.container}>\n        <Chip color={link.source.color} style={tooltipStyles.sourceChip} />\n        <strong>{link.source.label}</strong>\n        {' > '}\n        <strong>{link.target.label}</strong>\n        <Chip color={link.target.color} style={tooltipStyles.targetChip} />\n        <strong>{format ? format(link.value) : link.value}</strong>\n    </span>\n)\n\nTooltipContent.propTypes = {\n    link: PropTypes.shape({\n        source: PropTypes.shape({\n            id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n            label: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n            color: PropTypes.string.isRequired,\n        }).isRequired,\n        target: PropTypes.shape({\n            id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n            label: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n            color: PropTypes.string.isRequired,\n        }).isRequired,\n        color: PropTypes.string.isRequired,\n        value: PropTypes.number.isRequired,\n    }).isRequired,\n    format: PropTypes.func,\n}\n\nconst SankeyLinksItem = ({\n    link,\n    layout,\n    path,\n    color,\n    opacity,\n    blendMode,\n    enableGradient,\n    setCurrent,\n    tooltip,\n    tooltipFormat,\n    isInteractive,\n    onClick,\n}) => {\n    const linkId = `${link.source.id}.${link.target.id}`\n\n    const { animate, config: springConfig } = useMotionConfig()\n    const animatedProps = useSpring({\n        path,\n        color,\n        opacity,\n        config: springConfig,\n        immediate: !animate,\n    })\n\n    const { showTooltipFromEvent, hideTooltip } = useTooltip()\n\n    const tooltipContent = useMemo(() => {\n        if (tooltip) {\n            return <BasicTooltip id={tooltip(link)} enableChip={false} />\n        }\n\n        return <BasicTooltip id={<TooltipContent format={tooltipFormat} link={link} />} />\n    }, [tooltip, tooltipFormat, link])\n\n    const handleMouseEnter = useCallback(\n        event => {\n            setCurrent(link)\n            showTooltipFromEvent(tooltipContent, event, 'left')\n        },\n        [setCurrent, link, showTooltipFromEvent, tooltipContent]\n    )\n\n    const handleMouseMove = useCallback(\n        event => {\n            showTooltipFromEvent(tooltipContent, event, 'left')\n        },\n        [showTooltipFromEvent, tooltipContent]\n    )\n\n    const handleMouseLeave = useCallback(() => {\n        setCurrent(null)\n        hideTooltip()\n    }, [setCurrent, hideTooltip])\n\n    const handleClick = useCallback(\n        event => {\n            onClick(link, event)\n        },\n        [onClick, link]\n    )\n\n    return (\n        <>\n            {enableGradient && (\n                <SankeyLinkGradient\n                    id={linkId}\n                    layout={layout}\n                    startColor={link.startColor || link.source.color}\n                    endColor={link.endColor || link.target.color}\n                />\n            )}\n            <animated.path\n                fill={enableGradient ? `url(\"#${encodeURI(linkId)}\")` : animatedProps.color}\n                d={animatedProps.path}\n                fillOpacity={animatedProps.opacity}\n                onMouseEnter={isInteractive ? handleMouseEnter : undefined}\n                onMouseMove={isInteractive ? handleMouseMove : undefined}\n                onMouseLeave={isInteractive ? handleMouseLeave : undefined}\n                onClick={isInteractive ? handleClick : undefined}\n                style={{ mixBlendMode: blendMode }}\n            />\n        </>\n    )\n}\n\nSankeyLinksItem.propTypes = {\n    link: PropTypes.shape({\n        source: PropTypes.shape({\n            id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n            label: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n            color: PropTypes.string.isRequired,\n        }).isRequired,\n        target: PropTypes.shape({\n            id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n            label: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n            color: PropTypes.string.isRequired,\n        }).isRequired,\n        color: PropTypes.string.isRequired,\n        value: PropTypes.number.isRequired,\n        startColor: PropTypes.string,\n        endColor: PropTypes.string,\n    }).isRequired,\n    layout: PropTypes.oneOf(['horizontal', 'vertical']).isRequired,\n    path: PropTypes.string.isRequired,\n    color: PropTypes.string.isRequired,\n    opacity: PropTypes.number.isRequired,\n    blendMode: blendModePropType.isRequired,\n    enableGradient: PropTypes.bool.isRequired,\n    setCurrent: PropTypes.func.isRequired,\n    isInteractive: PropTypes.bool.isRequired,\n    onClick: PropTypes.func.isRequired,\n    tooltip: PropTypes.func,\n    tooltipFormat: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n}\n\nexport default memo(SankeyLinksItem)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, RaphaÃ«l Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\nimport { blendModePropType } from '@nivo/core'\nimport SankeyLinksItem from './SankeyLinksItem'\nimport { sankeyLinkHorizontal, sankeyLinkVertical } from './links'\n\nconst SankeyLinks = ({\n    links,\n    layout,\n    linkOpacity,\n    linkHoverOpacity,\n    linkHoverOthersOpacity,\n    linkContract,\n    linkBlendMode,\n    enableLinkGradient,\n    setCurrentLink,\n    currentNode,\n    currentLink,\n    isCurrentLink,\n    isInteractive,\n    onClick,\n    tooltipFormat,\n    tooltip,\n}) => {\n    const getOpacity = link => {\n        if (!currentNode && !currentLink) return linkOpacity\n        if (isCurrentLink(link)) return linkHoverOpacity\n        return linkHoverOthersOpacity\n    }\n\n    const getLinkPath = layout === 'horizontal' ? sankeyLinkHorizontal() : sankeyLinkVertical()\n\n    return links.map(link => (\n        <SankeyLinksItem\n            key={`${link.source.id}.${link.target.id}`}\n            link={link}\n            layout={layout}\n            path={getLinkPath(link, linkContract)}\n            color={link.color}\n            opacity={getOpacity(link)}\n            blendMode={linkBlendMode}\n            enableGradient={enableLinkGradient}\n            setCurrent={setCurrentLink}\n            isInteractive={isInteractive}\n            onClick={onClick}\n            tooltip={tooltip}\n            tooltipFormat={tooltipFormat}\n        />\n    ))\n}\n\nSankeyLinks.propTypes = {\n    layout: PropTypes.oneOf(['horizontal', 'vertical']).isRequired,\n    links: PropTypes.arrayOf(\n        PropTypes.shape({\n            source: PropTypes.shape({\n                id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n                label: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n            }).isRequired,\n            target: PropTypes.shape({\n                id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n                label: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n            }).isRequired,\n            thickness: PropTypes.number.isRequired,\n            color: PropTypes.string.isRequired,\n        })\n    ).isRequired,\n    linkOpacity: PropTypes.number.isRequired,\n    linkHoverOpacity: PropTypes.number.isRequired,\n    linkHoverOthersOpacity: PropTypes.number.isRequired,\n    linkContract: PropTypes.number.isRequired,\n    linkBlendMode: blendModePropType.isRequired,\n    enableLinkGradient: PropTypes.bool.isRequired,\n    tooltip: PropTypes.func,\n    setCurrentLink: PropTypes.func.isRequired,\n    currentLink: PropTypes.object,\n    isCurrentLink: PropTypes.func.isRequired,\n    isInteractive: PropTypes.bool.isRequired,\n    onClick: PropTypes.func.isRequired,\n}\n\nexport default memo(SankeyLinks)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, RaphaÃ«l Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { line, curveMonotoneX, curveMonotoneY } from 'd3-shape'\n\nexport const sankeyLinkHorizontal = () => {\n    const lineGenerator = line().curve(curveMonotoneX)\n\n    return (n, contract) => {\n        const thickness = Math.max(1, n.thickness - contract * 2)\n        const halfThickness = thickness / 2\n        const linkLength = n.target.x0 - n.source.x1\n        const padLength = linkLength * 0.12\n\n        const dots = [\n            [n.source.x1, n.pos0 - halfThickness],\n            [n.source.x1 + padLength, n.pos0 - halfThickness],\n            [n.target.x0 - padLength, n.pos1 - halfThickness],\n            [n.target.x0, n.pos1 - halfThickness],\n            [n.target.x0, n.pos1 + halfThickness],\n            [n.target.x0 - padLength, n.pos1 + halfThickness],\n            [n.source.x1 + padLength, n.pos0 + halfThickness],\n            [n.source.x1, n.pos0 + halfThickness],\n            [n.source.x1, n.pos0 - halfThickness],\n        ]\n\n        return lineGenerator(dots) + 'Z'\n    }\n}\n\nexport const sankeyLinkVertical = () => {\n    const lineGenerator = line().curve(curveMonotoneY)\n\n    return (n, contract) => {\n        const thickness = Math.max(1, n.thickness - contract * 2)\n        const halfThickness = thickness / 2\n        const linkLength = n.target.y0 - n.source.y1\n        const padLength = linkLength * 0.12\n\n        const dots = [\n            [n.pos0 + halfThickness, n.source.y1],\n            [n.pos0 + halfThickness, n.source.y1 + padLength],\n            [n.pos1 + halfThickness, n.target.y0 - padLength],\n            [n.pos1 + halfThickness, n.target.y0],\n            [n.pos1 - halfThickness, n.target.y0],\n            [n.pos1 - halfThickness, n.target.y0 - padLength],\n            [n.pos0 - halfThickness, n.source.y1 + padLength],\n            [n.pos0 - halfThickness, n.source.y1],\n            [n.pos0 + halfThickness, n.source.y1],\n        ]\n\n        return lineGenerator(dots) + 'Z'\n    }\n}\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, RaphaÃ«l Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\nimport { useSprings, animated } from 'react-spring'\nimport { useTheme, useMotionConfig } from '@nivo/core'\n\nconst SankeyLabels = ({\n    nodes,\n    layout,\n    width,\n    height,\n    labelPosition,\n    labelPadding,\n    labelOrientation,\n    getLabelTextColor,\n}) => {\n    const theme = useTheme()\n\n    const labelRotation = labelOrientation === 'vertical' ? -90 : 0\n    const labels = nodes.map(node => {\n        let x\n        let y\n        let textAnchor\n        if (layout === 'horizontal') {\n            y = node.y + node.height / 2\n            if (node.x < width / 2) {\n                if (labelPosition === 'inside') {\n                    x = node.x1 + labelPadding\n                    textAnchor = labelOrientation === 'vertical' ? 'middle' : 'start'\n                } else {\n                    x = node.x - labelPadding\n                    textAnchor = labelOrientation === 'vertical' ? 'middle' : 'end'\n                }\n            } else {\n                if (labelPosition === 'inside') {\n                    x = node.x - labelPadding\n                    textAnchor = labelOrientation === 'vertical' ? 'middle' : 'end'\n                } else {\n                    x = node.x1 + labelPadding\n                    textAnchor = labelOrientation === 'vertical' ? 'middle' : 'start'\n                }\n            }\n        } else if (layout === 'vertical') {\n            x = node.x + node.width / 2\n            if (node.y < height / 2) {\n                if (labelPosition === 'inside') {\n                    y = node.y1 + labelPadding\n                    textAnchor = labelOrientation === 'vertical' ? 'end' : 'middle'\n                } else {\n                    y = node.y - labelPadding\n                    textAnchor = labelOrientation === 'vertical' ? 'start' : 'middle'\n                }\n            } else {\n                if (labelPosition === 'inside') {\n                    y = node.y - labelPadding\n                    textAnchor = labelOrientation === 'vertical' ? 'start' : 'middle'\n                } else {\n                    y = node.y1 + labelPadding\n                    textAnchor = labelOrientation === 'vertical' ? 'end' : 'middle'\n                }\n            }\n        }\n\n        return {\n            id: node.id,\n            label: node.label,\n            x,\n            y,\n            textAnchor,\n            color: getLabelTextColor(node),\n        }\n    })\n\n    const { animate, config: springConfig } = useMotionConfig()\n    const springs = useSprings(\n        labels.length,\n        labels.map(label => ({\n            transform: `translate(${label.x}, ${label.y}) rotate(${labelRotation})`,\n            color: label.color,\n            config: springConfig,\n            immediate: !animate,\n        }))\n    )\n\n    return springs.map((animatedProps, index) => {\n        const label = labels[index]\n\n        return (\n            <animated.text\n                key={label.id}\n                dominantBaseline=\"central\"\n                textAnchor={label.textAnchor}\n                transform={animatedProps.transform}\n                style={{\n                    ...theme.labels.text,\n                    fill: animatedProps.color,\n                    pointerEvents: 'none',\n                }}\n            >\n                {label.label}\n            </animated.text>\n        )\n    })\n}\n\nSankeyLabels.propTypes = {\n    nodes: PropTypes.arrayOf(\n        PropTypes.shape({\n            id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n            label: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n            x1: PropTypes.number.isRequired,\n            x: PropTypes.number.isRequired,\n            y: PropTypes.number.isRequired,\n            width: PropTypes.number.isRequired,\n            height: PropTypes.number.isRequired,\n        })\n    ).isRequired,\n    layout: PropTypes.oneOf(['horizontal', 'vertical']).isRequired,\n    width: PropTypes.number.isRequired,\n    height: PropTypes.number.isRequired,\n    labelPosition: PropTypes.oneOf(['inside', 'outside']).isRequired,\n    labelPadding: PropTypes.number.isRequired,\n    labelOrientation: PropTypes.oneOf(['horizontal', 'vertical']).isRequired,\n    getLabelTextColor: PropTypes.func.isRequired,\n}\n\nexport default memo(SankeyLabels)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, RaphaÃ«l Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { Fragment } from 'react'\nimport { uniq } from 'lodash'\nimport { SvgWrapper, useDimensions, withContainer } from '@nivo/core'\nimport { BoxLegendSvg } from '@nivo/legends'\nimport { SankeyDefaultProps, SankeyPropTypes } from './props'\nimport { useSankey } from './hooks'\nimport SankeyNodes from './SankeyNodes'\nimport SankeyLinks from './SankeyLinks'\nimport SankeyLabels from './SankeyLabels'\n\nconst Sankey = ({\n    data,\n    layout,\n    sort,\n    align,\n    width,\n    height,\n    margin: partialMargin,\n    colors,\n    nodeThickness,\n    nodeSpacing,\n    nodeInnerPadding,\n    nodeBorderColor,\n    nodeOpacity,\n    nodeHoverOpacity,\n    nodeHoverOthersOpacity,\n    nodeBorderWidth,\n    linkOpacity,\n    linkHoverOpacity,\n    linkHoverOthersOpacity,\n    linkContract,\n    linkBlendMode,\n    enableLinkGradient,\n    enableLabels,\n    labelPosition,\n    labelPadding,\n    labelOrientation,\n    label,\n    labelFormat,\n    labelTextColor,\n    nodeTooltip,\n    linkTooltip,\n    isInteractive,\n    onClick,\n    tooltipFormat,\n    legends,\n    layers,\n    role,\n}) => {\n    const { margin, innerWidth, innerHeight, outerWidth, outerHeight } = useDimensions(\n        width,\n        height,\n        partialMargin\n    )\n\n    const {\n        nodes,\n        links,\n        legendData,\n        getNodeBorderColor,\n        currentNode,\n        setCurrentNode,\n        currentLink,\n        setCurrentLink,\n        getLabelTextColor,\n    } = useSankey({\n        data,\n        layout,\n        width: innerWidth,\n        height: innerHeight,\n        sort,\n        align,\n        colors,\n        nodeThickness,\n        nodeSpacing,\n        nodeInnerPadding,\n        nodeBorderColor,\n        label,\n        labelFormat,\n        labelTextColor,\n    })\n\n    let isCurrentNode = () => false\n    let isCurrentLink = () => false\n\n    if (currentLink) {\n        isCurrentNode = ({ id }) => id === currentLink.source.id || id === currentLink.target.id\n        isCurrentLink = ({ source, target }) =>\n            source.id === currentLink.source.id && target.id === currentLink.target.id\n    }\n\n    if (currentNode) {\n        let currentNodeIds = [currentNode.id]\n        links\n            .filter(\n                ({ source, target }) => source.id === currentNode.id || target.id === currentNode.id\n            )\n            .forEach(({ source, target }) => {\n                currentNodeIds.push(source.id)\n                currentNodeIds.push(target.id)\n            })\n\n        currentNodeIds = uniq(currentNodeIds)\n        isCurrentNode = ({ id }) => currentNodeIds.includes(id)\n        isCurrentLink = ({ source, target }) =>\n            source.id === currentNode.id || target.id === currentNode.id\n    }\n\n    const layerProps = {\n        links,\n        nodes,\n        margin,\n        width,\n        height,\n        outerWidth,\n        outerHeight,\n    }\n\n    const layerById = {\n        links: (\n            <SankeyLinks\n                key=\"links\"\n                links={links}\n                layout={layout}\n                linkContract={linkContract}\n                linkOpacity={linkOpacity}\n                linkHoverOpacity={linkHoverOpacity}\n                linkHoverOthersOpacity={linkHoverOthersOpacity}\n                linkBlendMode={linkBlendMode}\n                enableLinkGradient={enableLinkGradient}\n                setCurrentLink={setCurrentLink}\n                currentNode={currentNode}\n                currentLink={currentLink}\n                isCurrentLink={isCurrentLink}\n                isInteractive={isInteractive}\n                onClick={onClick}\n                tooltip={linkTooltip}\n                tooltipFormat={tooltipFormat}\n            />\n        ),\n        nodes: (\n            <SankeyNodes\n                key=\"nodes\"\n                nodes={nodes}\n                nodeOpacity={nodeOpacity}\n                nodeHoverOpacity={nodeHoverOpacity}\n                nodeHoverOthersOpacity={nodeHoverOthersOpacity}\n                nodeBorderWidth={nodeBorderWidth}\n                getNodeBorderColor={getNodeBorderColor}\n                setCurrentNode={setCurrentNode}\n                currentNode={currentNode}\n                currentLink={currentLink}\n                isCurrentNode={isCurrentNode}\n                isInteractive={isInteractive}\n                onClick={onClick}\n                tooltip={nodeTooltip}\n                tooltipFormat={tooltipFormat}\n            />\n        ),\n        labels: null,\n        legends: legends.map((legend, i) => (\n            <BoxLegendSvg\n                key={`legend${i}`}\n                {...legend}\n                containerWidth={innerWidth}\n                containerHeight={innerHeight}\n                data={legendData}\n            />\n        )),\n    }\n\n    if (enableLabels) {\n        layerById.labels = (\n            <SankeyLabels\n                key=\"labels\"\n                nodes={nodes}\n                layout={layout}\n                width={innerWidth}\n                height={innerHeight}\n                labelPosition={labelPosition}\n                labelPadding={labelPadding}\n                labelOrientation={labelOrientation}\n                getLabelTextColor={getLabelTextColor}\n            />\n        )\n    }\n\n    return (\n        <SvgWrapper width={outerWidth} height={outerHeight} margin={margin} role={role}>\n            {layers.map((layer, i) => {\n                if (typeof layer === 'function') {\n                    return <Fragment key={i}>{layer(layerProps)}</Fragment>\n                }\n\n                return layerById[layer]\n            })}\n        </SvgWrapper>\n    )\n}\n\nSankey.propTypes = SankeyPropTypes\n\nconst WrappedSankey = withContainer(Sankey)\nWrappedSankey.defaultProps = SankeyDefaultProps\n\nexport default WrappedSankey\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, RaphaÃ«l Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React from 'react'\nimport { ResponsiveWrapper } from '@nivo/core'\nimport Sankey from './Sankey'\n\nconst ResponsiveSankey = props => (\n    <ResponsiveWrapper>\n        {({ width, height }) => <Sankey width={width} height={height} {...props} />}\n    </ResponsiveWrapper>\n)\n\nexport default ResponsiveSankey\n"],"sourceRoot":""}