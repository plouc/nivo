{"version":3,"sources":["webpack:///../node_modules/gatsby/node_modules/core-js/modules/es6.typed.uint32-array.js","webpack:///./src/data/components/voronoi/props.js","webpack:///./src/pages/voronoi/index.js","webpack:///../node_modules/gatsby/node_modules/core-js/modules/es6.typed.int32-array.js","webpack:///../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack:///../node_modules/@babel/runtime/helpers/esm/createClass.js","webpack:///../node_modules/delaunator/index.js","webpack:///../node_modules/d3-delaunay/src/path.js","webpack:///../node_modules/d3-delaunay/src/polygon.js","webpack:///../node_modules/d3-delaunay/src/voronoi.js","webpack:///../node_modules/d3-delaunay/src/delaunay.js","webpack:///../packages/voronoi/dist/nivo-voronoi.esm.js"],"names":["init","data","byteOffset","length","this","props","key","group","help","description","type","required","defaultValue","defaults","xDomain","yDomain","enableControlForFlavors","controlType","controlOptions","unit","min","max","step","flavors","layers","enableLinks","linkLineWidth","linkLineColor","enableCells","cellLineWidth","cellLineColor","enablePoints","siteSize","pointColor","groups","groupProperties","generateData","range","map","id","x","Math","random","y","initialProperties","ResponsiveVoronoi","defaultProps","margin","top","right","bottom","left","pointSize","Voronoi","ComponentTemplate","name","meta","icon","currentFlavor","properties","defaultProperties","VoronoiDefaultProps","theme","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","i","descriptor","enumerable","configurable","writable","Object","defineProperty","_createClass","protoProps","staticProps","prototype","EPSILON","pow","EDGE_STACK","Uint32Array","Delaunator","coords","n","Error","maxTriangles","_triangles","_halfedges","Int32Array","_hashSize","ceil","sqrt","_hullPrev","_hullNext","_hullTri","_hullHash","fill","_ids","_dists","Float64Array","update","value","points","getX","arguments","undefined","defaultGetX","getY","defaultGetY","p","hullPrev","hullNext","hullTri","hullHash","minX","Infinity","minY","maxX","maxY","i0","i1","i2","cx","cy","minDist","_i","d","dist","i0x","i0y","_i2","_d","i1x","i1y","minRadius","_i3","r","circumradius","i2x","i2y","_i4","quicksort","hull","j","_i5","d0","subarray","triangles","halfedges","orient","_i6","_x","_y","center","ax","ay","bx","by","dx","dy","ex","ey","bl","cl","circumcenter","_cx","_cy","_i7","_hullStart","hullSize","_hashKey","trianglesLen","_addTriangle","xp","yp","k","_i8","_x2","_y2","abs","start","_j","e","q","t","_legalize","_n","_i9","_e","floor","a","px","py","fx","fy","bp","cp","ar","b","a0","b0","al","p0","pr","pl","p1","ap","hbl","_link","br","c","qx","qy","rx","ry","ids","dists","temp","tempDist","_i10","_j2","swap","_temp","_tempDist","arr","tmp","Path","_x0","_y0","_x1","_y1","_","concat","x0","y0","w","h","Polygon","push","slice","delaunay","_ref","_ref2","xmin","ymin","xmax","ymax","_circumcenters","vectors","_init","_this$delaunay","circumcenters","t1","t2","t3","x2","y2","x3","y3","a2","a3","b2","b3","d1","d2","d3","ab","x1","y1","context","buffer","_this$delaunay2","inedges","ti","tj","xi","yi","xj","yj","_renderSegment","h0","h1","v","_project","rect","_clip","moveTo","lineTo","closePath","mark","cellPolygons","cell","wrap","_context","prev","next","cellPolygon","stop","polygon","renderCell","S","c0","_regioncode","c1","_clipSegment","_step","_this$delaunay3","e0","_cell","V","_clipInfinite","_clipFinite","e1","P","sx0","sy0","sx1","sy1","_S","_S2","_S3","_S4","_edgecode","_edge","contains","vx0","vy0","vxn","vyn","Array","from","unshift","splice","vx","vy","_marked","flatIterable","tau","PI","pointX","pointY","jitter","sin","cos","Delaunay","_delaunator","_hullIndex","area","collinear","sort","f","bounds","hullIndex","_p","_n2","neighbors","l","indexOf","abrupt","dc","dt","renderHull","arc","_h","t0","trianglePolygons","_context2","trianglePolygon","renderTriangle","flatArray","that","array","call","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step2","_context3","Symbol","iterator","done","finish","PropTypes","arrayOf","shape","oneOfType","string","number","isRequired","oneOf","func","bool","object","Component","Voronoi$1","voronoi","width","height","outerWidth","outerHeight","layerById","React","createElement","stroke","strokeWidth","renderBounds","links","render","cells","renderPoints","Container","isInteractive","animate","SvgWrapper","layer","Fragment","compose","withTheme","withDimensions","withPropsOnChange","xScale","scaleLinear","domain","yScale","scaledPoints","_ref3","pure","_extends","assign","source","hasOwnProperty","apply","ResponsiveWrapper","getAccessor","directive","useVoronoiMesh","debug","points2d","useMemo","_ref$x","_ref$y","computeMeshPoints","computeMesh","_slicedToArray","isArray","_arrayWithHoles","toString","_arr","_s","err","_iterableToArrayLimit","_nonIterableRest","Mesh","nodes","onMouseEnter","onMouseMove","onMouseLeave","onClick","elementRef","useRef","_useState2","useState","currentIndex","setCurrentIndex","_useVoronoiMesh","voronoiPath","getIndexAndNodeFromEvent","useCallback","event","_getRelativeCursor2","getRelativeCursor","current","index","find","handleMouseEnter","_getIndexAndNodeFromE2","node","handleMouseMove","_getIndexAndNodeFromE4","handleMouseLeave","previousNode","handleClick","_getIndexAndNodeFromE6","ref","opacity","style","cursor","renderVoronoiToCanvas","ctx","save","globalAlpha","beginPath","strokeStyle","lineWidth","restore","renderVoronoiCellToCanvas","fillStyle"],"mappings":"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","file":"component---src-pages-voronoi-index-js-cb6b6f6f1a76ecf331bf.js","sourcesContent":["require('./_typed-array')('Uint32', 4, function (init) {\n  return function Uint32Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, RaphaÃ«l Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { VoronoiDefaultProps as defaults } from '@nivo/voronoi'\nimport { groupProperties } from '../../../lib/componentProperties'\n\nconst props = [\n    {\n        key: 'data',\n        group: 'Base',\n        help: 'Chart data.',\n        description: `\n            Chart data, which must conform to this structure:\n            \\`\\`\\`\n            Array.<{\n                id: string | number,\n                x:  number,\n                y:  number\n            }>\n            \\`\\`\\`\n        `,\n        type: 'object[]',\n        required: true,\n    },\n    {\n        key: 'xDomain',\n        group: 'Base',\n        help: 'Defines the x values domain.',\n        type: '[number, number]',\n        required: false,\n        defaultValue: defaults.xDomain,\n    },\n    {\n        key: 'yDomain',\n        group: 'Base',\n        help: 'Defines the y values domain.',\n        type: '[number, number]',\n        required: false,\n        defaultValue: defaults.yDomain,\n    },\n    {\n        key: 'width',\n        enableControlForFlavors: ['api'],\n        description: `\n            not required if using\n            \\`<ResponsiveVoronoi/>\\`.\n        `,\n        help: 'Chart width.',\n        type: 'number',\n        required: true,\n        controlType: 'range',\n        group: 'Base',\n        controlOptions: {\n            unit: 'px',\n            min: 100,\n            max: 1000,\n            step: 5,\n        },\n    },\n    {\n        key: 'height',\n        enableControlForFlavors: ['api'],\n        description: `\n            not required if using\n            \\`<ResponsiveVoronoi/>\\`.\n        `,\n        help: 'Chart height.',\n        type: 'number',\n        required: true,\n        controlType: 'range',\n        group: 'Base',\n        controlOptions: {\n            unit: 'px',\n            min: 100,\n            max: 1000,\n            step: 5,\n        },\n    },\n    {\n        key: 'margin',\n        help: 'Chart margin.',\n        type: 'object',\n        required: false,\n        controlType: 'margin',\n        group: 'Base',\n    },\n    {\n        key: 'layers',\n        flavors: ['svg'],\n        group: 'Base',\n        help: 'Defines the order of layers.',\n        description: `\n            Defines the order of layers, available layers are:\n            \\`links\\`, \\`cells\\`, \\`points\\`, \\`bounds\\`.\n\n            You can also use this to insert extra layers\n            to the chart, this extra layer must be\n            a function which will receive the chart computed\n            data and must return a valid SVG element.\n        `,\n        required: false,\n        defaultValue: defaults.layers,\n    },\n    {\n        key: 'enableLinks',\n        help: 'Enable/disable links.',\n        type: 'boolean',\n        required: false,\n        defaultValue: defaults.enableLinks,\n        controlType: 'switch',\n        group: 'Links',\n    },\n    {\n        key: 'linkLineWidth',\n        help: 'Links line width.',\n        type: 'number',\n        required: false,\n        defaultValue: defaults.linkLineWidth,\n        controlType: 'lineWidth',\n        group: 'Links',\n    },\n    {\n        key: 'linkLineColor',\n        help: 'Links color.',\n        type: 'string',\n        required: false,\n        defaultValue: defaults.linkLineColor,\n        controlType: 'colorPicker',\n        group: 'Links',\n    },\n    {\n        key: 'enableCells',\n        help: 'Enable/disable cells.',\n        type: 'boolean',\n        required: false,\n        defaultValue: defaults.enableCells,\n        controlType: 'switch',\n        group: 'Cells',\n    },\n    {\n        key: 'cellLineWidth',\n        help: 'Border width for cells.',\n        type: 'number',\n        required: false,\n        defaultValue: defaults.cellLineWidth,\n        controlType: 'lineWidth',\n        group: 'Cells',\n    },\n    {\n        key: 'cellLineColor',\n        help: 'Border color for cells.',\n        type: 'string',\n        required: false,\n        defaultValue: defaults.cellLineColor,\n        controlType: 'colorPicker',\n        group: 'Cells',\n    },\n    {\n        key: 'enablePoints',\n        help: 'Enable/disable points.',\n        type: 'boolean',\n        required: false,\n        defaultValue: defaults.enablePoints,\n        controlType: 'switch',\n        group: 'Points',\n    },\n    {\n        key: 'pointSize',\n        help: 'Size of points.',\n        type: 'number',\n        required: false,\n        defaultValue: defaults.siteSize,\n        controlType: 'range',\n        group: 'Points',\n        controlOptions: {\n            unit: 'px',\n            min: 0,\n            max: 12,\n            step: 1,\n        },\n    },\n    {\n        key: 'pointColor',\n        help: 'Points color.',\n        type: 'string',\n        required: false,\n        defaultValue: defaults.pointColor,\n        controlType: 'colorPicker',\n        group: 'Points',\n    },\n]\n\nexport const groups = groupProperties(props)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, RaphaÃ«l Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React from 'react'\nimport range from 'lodash/range'\nimport { ResponsiveVoronoi, VoronoiDefaultProps } from '@nivo/voronoi'\nimport ComponentTemplate from '../../components/components/ComponentTemplate'\nimport meta from '../../data/components/voronoi/meta.yml'\nimport { groups } from '../../data/components/voronoi/props'\n\nconst xDomain = [0, 100]\nconst yDomain = [0, 100]\n\nconst generateData = () =>\n    range(100).map(id => ({ id, x: Math.random() * xDomain[1], y: Math.random() * yDomain[1] }))\n\nconst initialProperties = {\n    ...ResponsiveVoronoi.defaultProps,\n\n    xDomain,\n    yDomain,\n\n    margin: {\n        top: 1,\n        right: 1,\n        bottom: 1,\n        left: 1,\n    },\n\n    enableLinks: true,\n    linkLineWidth: 1,\n    linkLineColor: '#cccccc',\n\n    enableCells: true,\n    cellLineWidth: 2,\n    cellLineColor: '#c6432d',\n\n    enablePoints: true,\n    pointSize: 6,\n    pointColor: '#c6432d',\n}\n\nconst Voronoi = () => {\n    return (\n        <ComponentTemplate\n            name=\"Voronoi\"\n            meta={meta.Voronoi}\n            icon=\"voronoi\"\n            flavors={meta.flavors}\n            currentFlavor=\"svg\"\n            properties={groups}\n            initialProperties={initialProperties}\n            defaultProperties={VoronoiDefaultProps}\n            generateData={generateData}\n        >\n            {(properties, data, theme) => {\n                return (\n                    <ResponsiveVoronoi\n                        data={data}\n                        xDomain={xDomain}\n                        yDomain={yDomain}\n                        {...properties}\n                        theme={theme}\n                    />\n                )\n            }}\n        </ComponentTemplate>\n    )\n}\n\nexport default Voronoi\n","require('./_typed-array')('Int32', 4, function (init) {\n  return function Int32Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","import \"core-js/modules/es6.array.fill\";\nimport \"core-js/modules/es6.typed.int32-array\";\nimport \"core-js/modules/es6.typed.float64-array\";\nimport _classCallCheck from \"/Users/raphael.benitte/projects/plouc/nivo/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/raphael.benitte/projects/plouc/nivo/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport \"core-js/modules/es6.typed.uint32-array\";\nvar EPSILON = Math.pow(2, -52);\nvar EDGE_STACK = new Uint32Array(512);\n\nvar Delaunator =\n/*#__PURE__*/\nfunction () {\n  _createClass(Delaunator, null, [{\n    key: \"from\",\n    value: function from(points) {\n      var getX = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultGetX;\n      var getY = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultGetY;\n      var n = points.length;\n      var coords = new Float64Array(n * 2);\n\n      for (var i = 0; i < n; i++) {\n        var p = points[i];\n        coords[2 * i] = getX(p);\n        coords[2 * i + 1] = getY(p);\n      }\n\n      return new Delaunator(coords);\n    }\n  }]);\n\n  function Delaunator(coords) {\n    _classCallCheck(this, Delaunator);\n\n    var n = coords.length >> 1;\n    if (n > 0 && typeof coords[0] !== 'number') throw new Error('Expected coords to contain numbers.');\n    this.coords = coords; // arrays that will store the triangulation graph\n\n    var maxTriangles = Math.max(2 * n - 5, 0);\n    this._triangles = new Uint32Array(maxTriangles * 3);\n    this._halfedges = new Int32Array(maxTriangles * 3); // temporary arrays for tracking the edges of the advancing convex hull\n\n    this._hashSize = Math.ceil(Math.sqrt(n));\n    this._hullPrev = new Uint32Array(n); // edge to prev edge\n\n    this._hullNext = new Uint32Array(n); // edge to next edge\n\n    this._hullTri = new Uint32Array(n); // edge to adjacent triangle\n\n    this._hullHash = new Int32Array(this._hashSize).fill(-1); // angular edge hash\n    // temporary arrays for sorting points\n\n    this._ids = new Uint32Array(n);\n    this._dists = new Float64Array(n);\n    this.update();\n  }\n\n  _createClass(Delaunator, [{\n    key: \"update\",\n    value: function update() {\n      var coords = this.coords,\n          hullPrev = this._hullPrev,\n          hullNext = this._hullNext,\n          hullTri = this._hullTri,\n          hullHash = this._hullHash;\n      var n = coords.length >> 1; // populate an array of point indices; calculate input data bbox\n\n      var minX = Infinity;\n      var minY = Infinity;\n      var maxX = -Infinity;\n      var maxY = -Infinity;\n\n      for (var i = 0; i < n; i++) {\n        var x = coords[2 * i];\n        var y = coords[2 * i + 1];\n        if (x < minX) minX = x;\n        if (y < minY) minY = y;\n        if (x > maxX) maxX = x;\n        if (y > maxY) maxY = y;\n        this._ids[i] = i;\n      }\n\n      var cx = (minX + maxX) / 2;\n      var cy = (minY + maxY) / 2;\n      var minDist = Infinity;\n      var i0, i1, i2; // pick a seed point close to the center\n\n      for (var _i = 0; _i < n; _i++) {\n        var d = dist(cx, cy, coords[2 * _i], coords[2 * _i + 1]);\n\n        if (d < minDist) {\n          i0 = _i;\n          minDist = d;\n        }\n      }\n\n      var i0x = coords[2 * i0];\n      var i0y = coords[2 * i0 + 1];\n      minDist = Infinity; // find the point closest to the seed\n\n      for (var _i2 = 0; _i2 < n; _i2++) {\n        if (_i2 === i0) continue;\n\n        var _d = dist(i0x, i0y, coords[2 * _i2], coords[2 * _i2 + 1]);\n\n        if (_d < minDist && _d > 0) {\n          i1 = _i2;\n          minDist = _d;\n        }\n      }\n\n      var i1x = coords[2 * i1];\n      var i1y = coords[2 * i1 + 1];\n      var minRadius = Infinity; // find the third point which forms the smallest circumcircle with the first two\n\n      for (var _i3 = 0; _i3 < n; _i3++) {\n        if (_i3 === i0 || _i3 === i1) continue;\n        var r = circumradius(i0x, i0y, i1x, i1y, coords[2 * _i3], coords[2 * _i3 + 1]);\n\n        if (r < minRadius) {\n          i2 = _i3;\n          minRadius = r;\n        }\n      }\n\n      var i2x = coords[2 * i2];\n      var i2y = coords[2 * i2 + 1];\n\n      if (minRadius === Infinity) {\n        // order collinear points by dx (or dy if all x are identical)\n        // and return the list as a hull\n        for (var _i4 = 0; _i4 < n; _i4++) {\n          this._dists[_i4] = coords[2 * _i4] - coords[0] || coords[2 * _i4 + 1] - coords[1];\n        }\n\n        quicksort(this._ids, this._dists, 0, n - 1);\n        var hull = new Uint32Array(n);\n        var j = 0;\n\n        for (var _i5 = 0, d0 = -Infinity; _i5 < n; _i5++) {\n          var id = this._ids[_i5];\n\n          if (this._dists[id] > d0) {\n            hull[j++] = id;\n            d0 = this._dists[id];\n          }\n        }\n\n        this.hull = hull.subarray(0, j);\n        this.triangles = new Uint32Array(0);\n        this.halfedges = new Uint32Array(0);\n        return;\n      } // swap the order of the seed points for counter-clockwise orientation\n\n\n      if (orient(i0x, i0y, i1x, i1y, i2x, i2y)) {\n        var _i6 = i1;\n        var _x = i1x;\n        var _y = i1y;\n        i1 = i2;\n        i1x = i2x;\n        i1y = i2y;\n        i2 = _i6;\n        i2x = _x;\n        i2y = _y;\n      }\n\n      var center = circumcenter(i0x, i0y, i1x, i1y, i2x, i2y);\n      this._cx = center.x;\n      this._cy = center.y;\n\n      for (var _i7 = 0; _i7 < n; _i7++) {\n        this._dists[_i7] = dist(coords[2 * _i7], coords[2 * _i7 + 1], center.x, center.y);\n      } // sort the points by distance from the seed triangle circumcenter\n\n\n      quicksort(this._ids, this._dists, 0, n - 1); // set up the seed triangle as the starting hull\n\n      this._hullStart = i0;\n      var hullSize = 3;\n      hullNext[i0] = hullPrev[i2] = i1;\n      hullNext[i1] = hullPrev[i0] = i2;\n      hullNext[i2] = hullPrev[i1] = i0;\n      hullTri[i0] = 0;\n      hullTri[i1] = 1;\n      hullTri[i2] = 2;\n      hullHash.fill(-1);\n      hullHash[this._hashKey(i0x, i0y)] = i0;\n      hullHash[this._hashKey(i1x, i1y)] = i1;\n      hullHash[this._hashKey(i2x, i2y)] = i2;\n      this.trianglesLen = 0;\n\n      this._addTriangle(i0, i1, i2, -1, -1, -1);\n\n      for (var k = 0, xp, yp; k < this._ids.length; k++) {\n        var _i8 = this._ids[k];\n        var _x2 = coords[2 * _i8];\n        var _y2 = coords[2 * _i8 + 1]; // skip near-duplicate points\n\n        if (k > 0 && Math.abs(_x2 - xp) <= EPSILON && Math.abs(_y2 - yp) <= EPSILON) continue;\n        xp = _x2;\n        yp = _y2; // skip seed triangle points\n\n        if (_i8 === i0 || _i8 === i1 || _i8 === i2) continue; // find a visible edge on the convex hull using edge hash\n\n        var start = 0;\n\n        for (var _j = 0, key = this._hashKey(_x2, _y2); _j < this._hashSize; _j++) {\n          start = hullHash[(key + _j) % this._hashSize];\n          if (start !== -1 && start !== hullNext[start]) break;\n        }\n\n        start = hullPrev[start];\n        var e = start,\n            q = void 0;\n\n        while (q = hullNext[e], !orient(_x2, _y2, coords[2 * e], coords[2 * e + 1], coords[2 * q], coords[2 * q + 1])) {\n          e = q;\n\n          if (e === start) {\n            e = -1;\n            break;\n          }\n        }\n\n        if (e === -1) continue; // likely a near-duplicate point; skip it\n        // add the first triangle from the point\n\n        var t = this._addTriangle(e, _i8, hullNext[e], -1, -1, hullTri[e]); // recursively flip triangles from the point until they satisfy the Delaunay condition\n\n\n        hullTri[_i8] = this._legalize(t + 2);\n        hullTri[e] = t; // keep track of boundary triangles on the hull\n\n        hullSize++; // walk forward through the hull, adding more triangles and flipping recursively\n\n        var _n = hullNext[e];\n\n        while (q = hullNext[_n], orient(_x2, _y2, coords[2 * _n], coords[2 * _n + 1], coords[2 * q], coords[2 * q + 1])) {\n          t = this._addTriangle(_n, _i8, q, hullTri[_i8], -1, hullTri[_n]);\n          hullTri[_i8] = this._legalize(t + 2);\n          hullNext[_n] = _n; // mark as removed\n\n          hullSize--;\n          _n = q;\n        } // walk backward from the other side, adding more triangles and flipping\n\n\n        if (e === start) {\n          while (q = hullPrev[e], orient(_x2, _y2, coords[2 * q], coords[2 * q + 1], coords[2 * e], coords[2 * e + 1])) {\n            t = this._addTriangle(q, _i8, e, -1, hullTri[e], hullTri[q]);\n\n            this._legalize(t + 2);\n\n            hullTri[q] = t;\n            hullNext[e] = e; // mark as removed\n\n            hullSize--;\n            e = q;\n          }\n        } // update the hull indices\n\n\n        this._hullStart = hullPrev[_i8] = e;\n        hullNext[e] = hullPrev[_n] = _i8;\n        hullNext[_i8] = _n; // save the two new edges in the hash table\n\n        hullHash[this._hashKey(_x2, _y2)] = _i8;\n        hullHash[this._hashKey(coords[2 * e], coords[2 * e + 1])] = e;\n      }\n\n      this.hull = new Uint32Array(hullSize);\n\n      for (var _i9 = 0, _e = this._hullStart; _i9 < hullSize; _i9++) {\n        this.hull[_i9] = _e;\n        _e = hullNext[_e];\n      } // trim typed triangle mesh arrays\n\n\n      this.triangles = this._triangles.subarray(0, this.trianglesLen);\n      this.halfedges = this._halfedges.subarray(0, this.trianglesLen);\n    }\n  }, {\n    key: \"_hashKey\",\n    value: function _hashKey(x, y) {\n      return Math.floor(pseudoAngle(x - this._cx, y - this._cy) * this._hashSize) % this._hashSize;\n    }\n  }, {\n    key: \"_legalize\",\n    value: function _legalize(a) {\n      var triangles = this._triangles,\n          halfedges = this._halfedges,\n          coords = this.coords;\n      var i = 0;\n      var ar = 0; // recursion eliminated with a fixed-size stack\n\n      while (true) {\n        var b = halfedges[a];\n        /* if the pair of triangles doesn't satisfy the Delaunay condition\n         * (p1 is inside the circumcircle of [p0, pl, pr]), flip them,\n         * then do the same check/flip recursively for the new pair of triangles\n         *\n         *           pl                    pl\n         *          /||\\                  /  \\\n         *       al/ || \\bl            al/    \\a\n         *        /  ||  \\              /      \\\n         *       /  a||b  \\    flip    /___ar___\\\n         *     p0\\   ||   /p1   =>   p0\\---bl---/p1\n         *        \\  ||  /              \\      /\n         *       ar\\ || /br             b\\    /br\n         *          \\||/                  \\  /\n         *           pr                    pr\n         */\n\n        var a0 = a - a % 3;\n        ar = a0 + (a + 2) % 3;\n\n        if (b === -1) {\n          // convex hull edge\n          if (i === 0) break;\n          a = EDGE_STACK[--i];\n          continue;\n        }\n\n        var b0 = b - b % 3;\n        var al = a0 + (a + 1) % 3;\n        var bl = b0 + (b + 2) % 3;\n        var p0 = triangles[ar];\n        var pr = triangles[a];\n        var pl = triangles[al];\n        var p1 = triangles[bl];\n        var illegal = inCircle(coords[2 * p0], coords[2 * p0 + 1], coords[2 * pr], coords[2 * pr + 1], coords[2 * pl], coords[2 * pl + 1], coords[2 * p1], coords[2 * p1 + 1]);\n\n        if (illegal) {\n          triangles[a] = p1;\n          triangles[b] = p0;\n          var hbl = halfedges[bl]; // edge swapped on the other side of the hull (rare); fix the halfedge reference\n\n          if (hbl === -1) {\n            var e = this._hullStart;\n\n            do {\n              if (this._hullTri[e] === bl) {\n                this._hullTri[e] = a;\n                break;\n              }\n\n              e = this._hullPrev[e];\n            } while (e !== this._hullStart);\n          }\n\n          this._link(a, hbl);\n\n          this._link(b, halfedges[ar]);\n\n          this._link(ar, bl);\n\n          var br = b0 + (b + 1) % 3; // don't worry about hitting the cap: it can only happen on extremely degenerate input\n\n          if (i < EDGE_STACK.length) {\n            EDGE_STACK[i++] = br;\n          }\n        } else {\n          if (i === 0) break;\n          a = EDGE_STACK[--i];\n        }\n      }\n\n      return ar;\n    }\n  }, {\n    key: \"_link\",\n    value: function _link(a, b) {\n      this._halfedges[a] = b;\n      if (b !== -1) this._halfedges[b] = a;\n    } // add a new triangle given vertex indices and adjacent half-edge ids\n\n  }, {\n    key: \"_addTriangle\",\n    value: function _addTriangle(i0, i1, i2, a, b, c) {\n      var t = this.trianglesLen;\n      this._triangles[t] = i0;\n      this._triangles[t + 1] = i1;\n      this._triangles[t + 2] = i2;\n\n      this._link(t, a);\n\n      this._link(t + 1, b);\n\n      this._link(t + 2, c);\n\n      this.trianglesLen += 3;\n      return t;\n    }\n  }]);\n\n  return Delaunator;\n}(); // monotonically increases with real angle, but doesn't need expensive trigonometry\n\n\nexport { Delaunator as default };\n\nfunction pseudoAngle(dx, dy) {\n  var p = dx / (Math.abs(dx) + Math.abs(dy));\n  return (dy > 0 ? 3 - p : 1 + p) / 4; // [0..1]\n}\n\nfunction dist(ax, ay, bx, by) {\n  var dx = ax - bx;\n  var dy = ay - by;\n  return dx * dx + dy * dy;\n}\n\nfunction orient(px, py, qx, qy, rx, ry) {\n  return (qy - py) * (rx - qx) - (qx - px) * (ry - qy) < 0;\n}\n\nfunction inCircle(ax, ay, bx, by, cx, cy, px, py) {\n  var dx = ax - px;\n  var dy = ay - py;\n  var ex = bx - px;\n  var ey = by - py;\n  var fx = cx - px;\n  var fy = cy - py;\n  var ap = dx * dx + dy * dy;\n  var bp = ex * ex + ey * ey;\n  var cp = fx * fx + fy * fy;\n  return dx * (ey * cp - bp * fy) - dy * (ex * cp - bp * fx) + ap * (ex * fy - ey * fx) < 0;\n}\n\nfunction circumradius(ax, ay, bx, by, cx, cy) {\n  var dx = bx - ax;\n  var dy = by - ay;\n  var ex = cx - ax;\n  var ey = cy - ay;\n  var bl = dx * dx + dy * dy;\n  var cl = ex * ex + ey * ey;\n  var d = 0.5 / (dx * ey - dy * ex);\n  var x = (ey * bl - dy * cl) * d;\n  var y = (dx * cl - ex * bl) * d;\n  return x * x + y * y;\n}\n\nfunction circumcenter(ax, ay, bx, by, cx, cy) {\n  var dx = bx - ax;\n  var dy = by - ay;\n  var ex = cx - ax;\n  var ey = cy - ay;\n  var bl = dx * dx + dy * dy;\n  var cl = ex * ex + ey * ey;\n  var d = 0.5 / (dx * ey - dy * ex);\n  var x = ax + (ey * bl - dy * cl) * d;\n  var y = ay + (dx * cl - ex * bl) * d;\n  return {\n    x: x,\n    y: y\n  };\n}\n\nfunction quicksort(ids, dists, left, right) {\n  if (right - left <= 20) {\n    for (var i = left + 1; i <= right; i++) {\n      var temp = ids[i];\n      var tempDist = dists[temp];\n      var j = i - 1;\n\n      while (j >= left && dists[ids[j]] > tempDist) {\n        ids[j + 1] = ids[j--];\n      }\n\n      ids[j + 1] = temp;\n    }\n  } else {\n    var median = left + right >> 1;\n\n    var _i10 = left + 1;\n\n    var _j2 = right;\n    swap(ids, median, _i10);\n    if (dists[ids[left]] > dists[ids[right]]) swap(ids, left, right);\n    if (dists[ids[_i10]] > dists[ids[right]]) swap(ids, _i10, right);\n    if (dists[ids[left]] > dists[ids[_i10]]) swap(ids, left, _i10);\n    var _temp = ids[_i10];\n    var _tempDist = dists[_temp];\n\n    while (true) {\n      do {\n        _i10++;\n      } while (dists[ids[_i10]] < _tempDist);\n\n      do {\n        _j2--;\n      } while (dists[ids[_j2]] > _tempDist);\n\n      if (_j2 < _i10) break;\n      swap(ids, _i10, _j2);\n    }\n\n    ids[left + 1] = ids[_j2];\n    ids[_j2] = _temp;\n\n    if (right - _i10 + 1 >= _j2 - left) {\n      quicksort(ids, dists, _i10, right);\n      quicksort(ids, dists, left, _j2 - 1);\n    } else {\n      quicksort(ids, dists, left, _j2 - 1);\n      quicksort(ids, dists, _i10, right);\n    }\n  }\n}\n\nfunction swap(arr, i, j) {\n  var tmp = arr[i];\n  arr[i] = arr[j];\n  arr[j] = tmp;\n}\n\nfunction defaultGetX(p) {\n  return p[0];\n}\n\nfunction defaultGetY(p) {\n  return p[1];\n}","import _classCallCheck from \"/Users/raphael.benitte/projects/plouc/nivo/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/raphael.benitte/projects/plouc/nivo/node_modules/@babel/runtime/helpers/esm/createClass\";\nvar epsilon = 1e-6;\n\nvar Path =\n/*#__PURE__*/\nfunction () {\n  function Path() {\n    _classCallCheck(this, Path);\n\n    this._x0 = this._y0 = // start of current subpath\n    this._x1 = this._y1 = null; // end of current subpath\n\n    this._ = \"\";\n  }\n\n  _createClass(Path, [{\n    key: \"moveTo\",\n    value: function moveTo(x, y) {\n      this._ += \"M\".concat(this._x0 = this._x1 = +x, \",\").concat(this._y0 = this._y1 = +y);\n    }\n  }, {\n    key: \"closePath\",\n    value: function closePath() {\n      if (this._x1 !== null) {\n        this._x1 = this._x0, this._y1 = this._y0;\n        this._ += \"Z\";\n      }\n    }\n  }, {\n    key: \"lineTo\",\n    value: function lineTo(x, y) {\n      this._ += \"L\".concat(this._x1 = +x, \",\").concat(this._y1 = +y);\n    }\n  }, {\n    key: \"arc\",\n    value: function arc(x, y, r) {\n      x = +x, y = +y, r = +r;\n      var x0 = x + r;\n      var y0 = y;\n      if (r < 0) throw new Error(\"negative radius\");\n      if (this._x1 === null) this._ += \"M\".concat(x0, \",\").concat(y0);else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) this._ += \"L\" + x0 + \",\" + y0;\n      if (!r) return;\n      this._ += \"A\".concat(r, \",\").concat(r, \",0,1,1,\").concat(x - r, \",\").concat(y, \"A\").concat(r, \",\").concat(r, \",0,1,1,\").concat(this._x1 = x0, \",\").concat(this._y1 = y0);\n    }\n  }, {\n    key: \"rect\",\n    value: function rect(x, y, w, h) {\n      this._ += \"M\".concat(this._x0 = this._x1 = +x, \",\").concat(this._y0 = this._y1 = +y, \"h\").concat(+w, \"v\").concat(+h, \"h\").concat(-w, \"Z\");\n    }\n  }, {\n    key: \"value\",\n    value: function value() {\n      return this._ || null;\n    }\n  }]);\n\n  return Path;\n}();\n\nexport { Path as default };","import _classCallCheck from \"/Users/raphael.benitte/projects/plouc/nivo/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/raphael.benitte/projects/plouc/nivo/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nvar Polygon =\n/*#__PURE__*/\nfunction () {\n  function Polygon() {\n    _classCallCheck(this, Polygon);\n\n    this._ = [];\n  }\n\n  _createClass(Polygon, [{\n    key: \"moveTo\",\n    value: function moveTo(x, y) {\n      this._.push([x, y]);\n    }\n  }, {\n    key: \"closePath\",\n    value: function closePath() {\n      this._.push(this._[0].slice());\n    }\n  }, {\n    key: \"lineTo\",\n    value: function lineTo(x, y) {\n      this._.push([x, y]);\n    }\n  }, {\n    key: \"value\",\n    value: function value() {\n      return this._.length ? this._ : null;\n    }\n  }]);\n\n  return Polygon;\n}();\n\nexport { Polygon as default };","import \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.array.from\";\nimport _regeneratorRuntime from \"/Users/raphael.benitte/projects/plouc/nivo/node_modules/@babel/runtime/regenerator\";\nimport \"regenerator-runtime/runtime\";\nimport \"core-js/modules/es6.typed.float64-array\";\nimport _slicedToArray from \"/Users/raphael.benitte/projects/plouc/nivo/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"/Users/raphael.benitte/projects/plouc/nivo/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/raphael.benitte/projects/plouc/nivo/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport Path from \"./path.js\";\nimport Polygon from \"./polygon.js\";\n\nvar Voronoi =\n/*#__PURE__*/\nfunction () {\n  function Voronoi(delaunay) {\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [0, 0, 960, 500],\n        _ref2 = _slicedToArray(_ref, 4),\n        xmin = _ref2[0],\n        ymin = _ref2[1],\n        xmax = _ref2[2],\n        ymax = _ref2[3];\n\n    _classCallCheck(this, Voronoi);\n\n    if (!((xmax = +xmax) >= (xmin = +xmin)) || !((ymax = +ymax) >= (ymin = +ymin))) throw new Error(\"invalid bounds\");\n    this.delaunay = delaunay;\n    this._circumcenters = new Float64Array(delaunay.points.length * 2);\n    this.vectors = new Float64Array(delaunay.points.length * 2);\n    this.xmax = xmax, this.xmin = xmin;\n    this.ymax = ymax, this.ymin = ymin;\n\n    this._init();\n  }\n\n  _createClass(Voronoi, [{\n    key: \"update\",\n    value: function update() {\n      this.delaunay.update();\n\n      this._init();\n\n      return this;\n    }\n  }, {\n    key: \"_init\",\n    value: function _init() {\n      var _this$delaunay = this.delaunay,\n          points = _this$delaunay.points,\n          hull = _this$delaunay.hull,\n          triangles = _this$delaunay.triangles,\n          vectors = this.vectors; // Compute circumcenters.\n\n      var circumcenters = this.circumcenters = this._circumcenters.subarray(0, triangles.length / 3 * 2);\n\n      for (var i = 0, j = 0, n = triangles.length; i < n; i += 3, j += 2) {\n        var t1 = triangles[i] * 2;\n        var t2 = triangles[i + 1] * 2;\n        var t3 = triangles[i + 2] * 2;\n        var _x = points[t1];\n        var _y = points[t1 + 1];\n        var x2 = points[t2];\n        var y2 = points[t2 + 1];\n        var x3 = points[t3];\n        var y3 = points[t3 + 1];\n        var a2 = _x - x2;\n        var a3 = _x - x3;\n        var b2 = _y - y2;\n        var b3 = _y - y3;\n        var d1 = _x * _x + _y * _y;\n        var d2 = d1 - x2 * x2 - y2 * y2;\n        var d3 = d1 - x3 * x3 - y3 * y3;\n        var ab = (a3 * b2 - a2 * b3) * 2; // degenerate case (2 points)\n\n        if (!ab) {\n          circumcenters[j] = (_x + x3) / 2 + 1e8 * b3;\n          circumcenters[j + 1] = (_y + y3) / 2 - 1e8 * a3;\n        } else {\n          circumcenters[j] = (b2 * d3 - b3 * d2) / ab;\n          circumcenters[j + 1] = (a3 * d2 - a2 * d3) / ab;\n        }\n      } // Compute exterior cell rays.\n\n\n      var h = hull[hull.length - 1];\n      var p0,\n          p1 = h * 4;\n      var x0,\n          x1 = points[2 * h];\n      var y0,\n          y1 = points[2 * h + 1];\n\n      for (var _i = 0; _i < hull.length; ++_i) {\n        h = hull[_i];\n        p0 = p1, x0 = x1, y0 = y1;\n        p1 = h * 4, x1 = points[2 * h], y1 = points[2 * h + 1];\n        vectors[p0 + 2] = vectors[p1] = y0 - y1;\n        vectors[p0 + 3] = vectors[p1 + 1] = x1 - x0;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render(context) {\n      var buffer = context == null ? context = new Path() : undefined;\n      var _this$delaunay2 = this.delaunay,\n          halfedges = _this$delaunay2.halfedges,\n          inedges = _this$delaunay2.inedges,\n          hull = _this$delaunay2.hull,\n          circumcenters = this.circumcenters,\n          vectors = this.vectors;\n      if (hull.length <= 1) return null;\n\n      for (var i = 0, n = halfedges.length; i < n; ++i) {\n        var j = halfedges[i];\n        if (j < i) continue;\n        var ti = Math.floor(i / 3) * 2;\n        var tj = Math.floor(j / 3) * 2;\n        var xi = circumcenters[ti];\n        var yi = circumcenters[ti + 1];\n        var xj = circumcenters[tj];\n        var yj = circumcenters[tj + 1];\n\n        this._renderSegment(xi, yi, xj, yj, context);\n      }\n\n      var h0,\n          h1 = hull[hull.length - 1];\n\n      for (var _i2 = 0; _i2 < hull.length; ++_i2) {\n        h0 = h1, h1 = hull[_i2];\n        var t = Math.floor(inedges[h1] / 3) * 2;\n        var x = circumcenters[t];\n        var y = circumcenters[t + 1];\n        var v = h0 * 4;\n\n        var p = this._project(x, y, vectors[v + 2], vectors[v + 3]);\n\n        if (p) this._renderSegment(x, y, p[0], p[1], context);\n      }\n\n      return buffer && buffer.value();\n    }\n  }, {\n    key: \"renderBounds\",\n    value: function renderBounds(context) {\n      var buffer = context == null ? context = new Path() : undefined;\n      context.rect(this.xmin, this.ymin, this.xmax - this.xmin, this.ymax - this.ymin);\n      return buffer && buffer.value();\n    }\n  }, {\n    key: \"renderCell\",\n    value: function renderCell(i, context) {\n      var buffer = context == null ? context = new Path() : undefined;\n\n      var points = this._clip(i);\n\n      if (points === null) return;\n      context.moveTo(points[0], points[1]);\n\n      for (var _i3 = 2, n = points.length; _i3 < n; _i3 += 2) {\n        context.lineTo(points[_i3], points[_i3 + 1]);\n      }\n\n      context.closePath();\n      return buffer && buffer.value();\n    }\n  }, {\n    key: \"cellPolygons\",\n    value:\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function cellPolygons() {\n      var points, i, n, cell;\n      return _regeneratorRuntime.wrap(function cellPolygons$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              points = this.delaunay.points;\n              i = 0, n = points.length / 2;\n\n            case 2:\n              if (!(i < n)) {\n                _context.next = 10;\n                break;\n              }\n\n              cell = this.cellPolygon(i);\n\n              if (!cell) {\n                _context.next = 7;\n                break;\n              }\n\n              _context.next = 7;\n              return cell;\n\n            case 7:\n              ++i;\n              _context.next = 2;\n              break;\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, cellPolygons, this);\n    })\n  }, {\n    key: \"cellPolygon\",\n    value: function cellPolygon(i) {\n      var polygon = new Polygon();\n      this.renderCell(i, polygon);\n      return polygon.value();\n    }\n  }, {\n    key: \"_renderSegment\",\n    value: function _renderSegment(x0, y0, x1, y1, context) {\n      var S;\n\n      var c0 = this._regioncode(x0, y0);\n\n      var c1 = this._regioncode(x1, y1);\n\n      if (c0 === 0 && c1 === 0) {\n        context.moveTo(x0, y0);\n        context.lineTo(x1, y1);\n      } else if (S = this._clipSegment(x0, y0, x1, y1, c0, c1)) {\n        context.moveTo(S[0], S[1]);\n        context.lineTo(S[2], S[3]);\n      }\n    }\n  }, {\n    key: \"contains\",\n    value: function contains(i, x, y) {\n      if ((x = +x, x !== x) || (y = +y, y !== y)) return false;\n      return this.delaunay._step(i, x, y) === i;\n    }\n  }, {\n    key: \"_cell\",\n    value: function _cell(i) {\n      var circumcenters = this.circumcenters,\n          _this$delaunay3 = this.delaunay,\n          inedges = _this$delaunay3.inedges,\n          halfedges = _this$delaunay3.halfedges,\n          triangles = _this$delaunay3.triangles;\n      var e0 = inedges[i];\n      if (e0 === -1) return null; // coincident point\n\n      var points = [];\n      var e = e0;\n\n      do {\n        var t = Math.floor(e / 3);\n        points.push(circumcenters[t * 2], circumcenters[t * 2 + 1]);\n        e = e % 3 === 2 ? e - 2 : e + 1;\n        if (triangles[e] !== i) break; // bad triangulation\n\n        e = halfedges[e];\n      } while (e !== e0 && e !== -1);\n\n      return points;\n    }\n  }, {\n    key: \"_clip\",\n    value: function _clip(i) {\n      // degenerate case (1 valid point: return the box)\n      if (i === 0 && this.delaunay.hull.length === 1) {\n        return [this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax, this.xmin, this.ymin];\n      }\n\n      var points = this._cell(i);\n\n      if (points === null) return null;\n      var V = this.vectors;\n      var v = i * 4;\n      return V[v] || V[v + 1] ? this._clipInfinite(i, points, V[v], V[v + 1], V[v + 2], V[v + 3]) : this._clipFinite(i, points);\n    }\n  }, {\n    key: \"_clipFinite\",\n    value: function _clipFinite(i, points) {\n      var n = points.length;\n      var P = null;\n      var x0,\n          y0,\n          x1 = points[n - 2],\n          y1 = points[n - 1];\n\n      var c0,\n          c1 = this._regioncode(x1, y1);\n\n      var e0, e1;\n\n      for (var j = 0; j < n; j += 2) {\n        x0 = x1, y0 = y1, x1 = points[j], y1 = points[j + 1];\n        c0 = c1, c1 = this._regioncode(x1, y1);\n\n        if (c0 === 0 && c1 === 0) {\n          e0 = e1, e1 = 0;\n          if (P) P.push(x1, y1);else P = [x1, y1];\n        } else {\n          var S = void 0,\n              sx0 = void 0,\n              sy0 = void 0,\n              sx1 = void 0,\n              sy1 = void 0;\n\n          if (c0 === 0) {\n            if ((S = this._clipSegment(x0, y0, x1, y1, c0, c1)) === null) continue;\n            var _S = S;\n\n            var _S2 = _slicedToArray(_S, 4);\n\n            sx0 = _S2[0];\n            sy0 = _S2[1];\n            sx1 = _S2[2];\n            sy1 = _S2[3];\n          } else {\n            if ((S = this._clipSegment(x1, y1, x0, y0, c1, c0)) === null) continue;\n            var _S3 = S;\n\n            var _S4 = _slicedToArray(_S3, 4);\n\n            sx1 = _S4[0];\n            sy1 = _S4[1];\n            sx0 = _S4[2];\n            sy0 = _S4[3];\n            e0 = e1, e1 = this._edgecode(sx0, sy0);\n            if (e0 && e1) this._edge(i, e0, e1, P, P.length);\n            if (P) P.push(sx0, sy0);else P = [sx0, sy0];\n          }\n\n          e0 = e1, e1 = this._edgecode(sx1, sy1);\n          if (e0 && e1) this._edge(i, e0, e1, P, P.length);\n          if (P) P.push(sx1, sy1);else P = [sx1, sy1];\n        }\n      }\n\n      if (P) {\n        e0 = e1, e1 = this._edgecode(P[0], P[1]);\n        if (e0 && e1) this._edge(i, e0, e1, P, P.length);\n      } else if (this.contains(i, (this.xmin + this.xmax) / 2, (this.ymin + this.ymax) / 2)) {\n        return [this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax, this.xmin, this.ymin];\n      }\n\n      return P;\n    }\n  }, {\n    key: \"_clipSegment\",\n    value: function _clipSegment(x0, y0, x1, y1, c0, c1) {\n      while (true) {\n        if (c0 === 0 && c1 === 0) return [x0, y0, x1, y1];\n        if (c0 & c1) return null;\n        var x = void 0,\n            y = void 0,\n            c = c0 || c1;\n        if (c & 8) x = x0 + (x1 - x0) * (this.ymax - y0) / (y1 - y0), y = this.ymax;else if (c & 4) x = x0 + (x1 - x0) * (this.ymin - y0) / (y1 - y0), y = this.ymin;else if (c & 2) y = y0 + (y1 - y0) * (this.xmax - x0) / (x1 - x0), x = this.xmax;else y = y0 + (y1 - y0) * (this.xmin - x0) / (x1 - x0), x = this.xmin;\n        if (c0) x0 = x, y0 = y, c0 = this._regioncode(x0, y0);else x1 = x, y1 = y, c1 = this._regioncode(x1, y1);\n      }\n    }\n  }, {\n    key: \"_clipInfinite\",\n    value: function _clipInfinite(i, points, vx0, vy0, vxn, vyn) {\n      var P = Array.from(points),\n          p;\n      if (p = this._project(P[0], P[1], vx0, vy0)) P.unshift(p[0], p[1]);\n      if (p = this._project(P[P.length - 2], P[P.length - 1], vxn, vyn)) P.push(p[0], p[1]);\n\n      if (P = this._clipFinite(i, P)) {\n        for (var j = 0, n = P.length, c0, c1 = this._edgecode(P[n - 2], P[n - 1]); j < n; j += 2) {\n          c0 = c1, c1 = this._edgecode(P[j], P[j + 1]);\n          if (c0 && c1) j = this._edge(i, c0, c1, P, j), n = P.length;\n        }\n      } else if (this.contains(i, (this.xmin + this.xmax) / 2, (this.ymin + this.ymax) / 2)) {\n        P = [this.xmin, this.ymin, this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax];\n      }\n\n      return P;\n    }\n  }, {\n    key: \"_edge\",\n    value: function _edge(i, e0, e1, P, j) {\n      while (e0 !== e1) {\n        var x = void 0,\n            y = void 0;\n\n        switch (e0) {\n          case 5:\n            e0 = 4;\n            continue;\n          // top-left\n\n          case 4:\n            e0 = 6, x = this.xmax, y = this.ymin;\n            break;\n          // top\n\n          case 6:\n            e0 = 2;\n            continue;\n          // top-right\n\n          case 2:\n            e0 = 10, x = this.xmax, y = this.ymax;\n            break;\n          // right\n\n          case 10:\n            e0 = 8;\n            continue;\n          // bottom-right\n\n          case 8:\n            e0 = 9, x = this.xmin, y = this.ymax;\n            break;\n          // bottom\n\n          case 9:\n            e0 = 1;\n            continue;\n          // bottom-left\n\n          case 1:\n            e0 = 5, x = this.xmin, y = this.ymin;\n            break;\n          // left\n        }\n\n        if ((P[j] !== x || P[j + 1] !== y) && this.contains(i, x, y)) {\n          P.splice(j, 0, x, y), j += 2;\n        }\n      }\n\n      return j;\n    }\n  }, {\n    key: \"_project\",\n    value: function _project(x0, y0, vx, vy) {\n      var t = Infinity,\n          c,\n          x,\n          y;\n\n      if (vy < 0) {\n        // top\n        if (y0 <= this.ymin) return null;\n        if ((c = (this.ymin - y0) / vy) < t) y = this.ymin, x = x0 + (t = c) * vx;\n      } else if (vy > 0) {\n        // bottom\n        if (y0 >= this.ymax) return null;\n        if ((c = (this.ymax - y0) / vy) < t) y = this.ymax, x = x0 + (t = c) * vx;\n      }\n\n      if (vx > 0) {\n        // right\n        if (x0 >= this.xmax) return null;\n        if ((c = (this.xmax - x0) / vx) < t) x = this.xmax, y = y0 + (t = c) * vy;\n      } else if (vx < 0) {\n        // left\n        if (x0 <= this.xmin) return null;\n        if ((c = (this.xmin - x0) / vx) < t) x = this.xmin, y = y0 + (t = c) * vy;\n      }\n\n      return [x, y];\n    }\n  }, {\n    key: \"_edgecode\",\n    value: function _edgecode(x, y) {\n      return (x === this.xmin ? 1 : x === this.xmax ? 2 : 0) | (y === this.ymin ? 4 : y === this.ymax ? 8 : 0);\n    }\n  }, {\n    key: \"_regioncode\",\n    value: function _regioncode(x, y) {\n      return (x < this.xmin ? 1 : x > this.xmax ? 2 : 0) | (y < this.ymin ? 4 : y > this.ymax ? 8 : 0);\n    }\n  }]);\n\n  return Voronoi;\n}();\n\nexport { Voronoi as default };","import \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.typed.float64-array\";\nimport _regeneratorRuntime from \"/Users/raphael.benitte/projects/plouc/nivo/node_modules/@babel/runtime/regenerator\";\nimport \"core-js/modules/es6.array.index-of\";\nimport \"regenerator-runtime/runtime\";\nimport \"core-js/modules/es6.array.fill\";\nimport \"core-js/modules/es6.array.sort\";\nimport \"core-js/modules/es6.typed.int32-array\";\nimport _classCallCheck from \"/Users/raphael.benitte/projects/plouc/nivo/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/raphael.benitte/projects/plouc/nivo/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nvar _marked =\n/*#__PURE__*/\n_regeneratorRuntime.mark(flatIterable);\n\nimport Delaunator from \"delaunator\";\nimport Path from \"./path.js\";\nimport Polygon from \"./polygon.js\";\nimport Voronoi from \"./voronoi.js\";\nvar tau = 2 * Math.PI;\n\nfunction pointX(p) {\n  return p[0];\n}\n\nfunction pointY(p) {\n  return p[1];\n}\n\nfunction area(hull, points) {\n  var n = hull.length,\n      x0,\n      y0,\n      x1 = points[2 * hull[n - 1]],\n      y1 = points[2 * hull[n - 1] + 1],\n      area = 0;\n\n  for (var i = 0; i < n; i++) {\n    x0 = x1, y0 = y1;\n    x1 = points[2 * hull[i]];\n    y1 = points[2 * hull[i] + 1];\n    area += y0 * x1 - x0 * y1;\n  }\n\n  return area / 2;\n}\n\nfunction jitter(x, y, r) {\n  return [x + Math.sin(x + y) * r, y + Math.cos(x - y) * r];\n}\n\nvar Delaunay =\n/*#__PURE__*/\nfunction () {\n  function Delaunay(points) {\n    _classCallCheck(this, Delaunay);\n\n    this._delaunator = new Delaunator(points);\n    this.inedges = new Int32Array(points.length / 2);\n    this._hullIndex = new Int32Array(points.length / 2);\n    this.points = this._delaunator.coords;\n\n    this._init();\n  }\n\n  _createClass(Delaunay, [{\n    key: \"update\",\n    value: function update() {\n      this._delaunator.update();\n\n      this._init();\n\n      return this;\n    }\n  }, {\n    key: \"_init\",\n    value: function _init() {\n      var d = this._delaunator,\n          points = this.points; // check for collinear\n\n      if (d.hull && d.hull.length > 2 && area(d.hull, points) < 1e-10) {\n        this.collinear = Int32Array.from({\n          length: points.length / 2\n        }, function (_, i) {\n          return i;\n        }).sort(function (i, j) {\n          return points[2 * i] - points[2 * j] || points[2 * i + 1] - points[2 * j + 1];\n        }); // for exact neighbors\n\n        var e = this.collinear[0],\n            f = this.collinear[this.collinear.length - 1],\n            bounds = [points[2 * e], points[2 * e + 1], points[2 * f], points[2 * f + 1]],\n            r = 1e-8 * Math.sqrt(Math.pow(bounds[3] - bounds[1], 2) + Math.pow(bounds[2] - bounds[0], 2));\n\n        for (var i = 0, n = points.length / 2; i < n; ++i) {\n          var p = jitter(points[2 * i], points[2 * i + 1], r);\n          points[2 * i] = p[0];\n          points[2 * i + 1] = p[1];\n        }\n\n        this._delaunator = new Delaunator(points);\n      } else {\n        delete this.collinear;\n      }\n\n      var halfedges = this.halfedges = this._delaunator.halfedges;\n      var hull = this.hull = this._delaunator.hull;\n      var triangles = this.triangles = this._delaunator.triangles;\n      var inedges = this.inedges.fill(-1);\n\n      var hullIndex = this._hullIndex.fill(-1); // Compute an index from each point to an (arbitrary) incoming halfedge\n      // Used to give the first neighbor of each point; for this reason,\n      // on the hull we give priority to exterior halfedges\n\n\n      for (var _e = 0, _n = halfedges.length; _e < _n; ++_e) {\n        var _p = triangles[_e % 3 === 2 ? _e - 2 : _e + 1];\n        if (halfedges[_e] === -1 || inedges[_p] === -1) inedges[_p] = _e;\n      }\n\n      for (var _i = 0, _n2 = hull.length; _i < _n2; ++_i) {\n        hullIndex[hull[_i]] = _i;\n      } // degenerate case: 1 or 2 (distinct) points\n\n\n      if (hull.length <= 2 && hull.length > 0) {\n        this.triangles = new Int32Array(3).fill(-1);\n        this.halfedges = new Int32Array(3).fill(-1);\n        this.triangles[0] = hull[0];\n        this.triangles[1] = hull[1];\n        this.triangles[2] = hull[1];\n        inedges[hull[0]] = 1;\n        if (hull.length === 2) inedges[hull[1]] = 0;\n      }\n    }\n  }, {\n    key: \"voronoi\",\n    value: function voronoi(bounds) {\n      return new Voronoi(this, bounds);\n    }\n  }, {\n    key: \"neighbors\",\n    value:\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function neighbors(i) {\n      var inedges, hull, _hullIndex, halfedges, triangles, l, e0, e, p0, p;\n\n      return _regeneratorRuntime.wrap(function neighbors$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              inedges = this.inedges, hull = this.hull, _hullIndex = this._hullIndex, halfedges = this.halfedges, triangles = this.triangles; // degenerate case with several collinear points\n\n              if (!this.collinear) {\n                _context.next = 10;\n                break;\n              }\n\n              l = this.collinear.indexOf(i);\n\n              if (!(l > 0)) {\n                _context.next = 6;\n                break;\n              }\n\n              _context.next = 6;\n              return this.collinear[l - 1];\n\n            case 6:\n              if (!(l < this.collinear.length - 1)) {\n                _context.next = 9;\n                break;\n              }\n\n              _context.next = 9;\n              return this.collinear[l + 1];\n\n            case 9:\n              return _context.abrupt(\"return\");\n\n            case 10:\n              e0 = inedges[i];\n\n              if (!(e0 === -1)) {\n                _context.next = 13;\n                break;\n              }\n\n              return _context.abrupt(\"return\");\n\n            case 13:\n              // coincident point\n              e = e0, p0 = -1;\n\n            case 14:\n              _context.next = 16;\n              return p0 = triangles[e];\n\n            case 16:\n              e = e % 3 === 2 ? e - 2 : e + 1;\n\n              if (!(triangles[e] !== i)) {\n                _context.next = 19;\n                break;\n              }\n\n              return _context.abrupt(\"return\");\n\n            case 19:\n              // bad triangulation\n              e = halfedges[e];\n\n              if (!(e === -1)) {\n                _context.next = 26;\n                break;\n              }\n\n              p = hull[(_hullIndex[i] + 1) % hull.length];\n\n              if (!(p !== p0)) {\n                _context.next = 25;\n                break;\n              }\n\n              _context.next = 25;\n              return p;\n\n            case 25:\n              return _context.abrupt(\"return\");\n\n            case 26:\n              if (e !== e0) {\n                _context.next = 14;\n                break;\n              }\n\n            case 27:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, neighbors, this);\n    })\n  }, {\n    key: \"find\",\n    value: function find(x, y) {\n      var i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n      if ((x = +x, x !== x) || (y = +y, y !== y)) return -1;\n      var i0 = i;\n      var c;\n\n      while ((c = this._step(i, x, y)) >= 0 && c !== i && c !== i0) {\n        i = c;\n      }\n\n      return c;\n    }\n  }, {\n    key: \"_step\",\n    value: function _step(i, x, y) {\n      var inedges = this.inedges,\n          hull = this.hull,\n          _hullIndex = this._hullIndex,\n          halfedges = this.halfedges,\n          triangles = this.triangles,\n          points = this.points;\n      if (inedges[i] === -1 || !points.length) return (i + 1) % (points.length >> 1);\n      var c = i;\n      var dc = Math.pow(x - points[i * 2], 2) + Math.pow(y - points[i * 2 + 1], 2);\n      var e0 = inedges[i];\n      var e = e0;\n\n      do {\n        var t = triangles[e];\n        var dt = Math.pow(x - points[t * 2], 2) + Math.pow(y - points[t * 2 + 1], 2);\n        if (dt < dc) dc = dt, c = t;\n        e = e % 3 === 2 ? e - 2 : e + 1;\n        if (triangles[e] !== i) break; // bad triangulation\n\n        e = halfedges[e];\n\n        if (e === -1) {\n          e = hull[(_hullIndex[i] + 1) % hull.length];\n\n          if (e !== t) {\n            if (Math.pow(x - points[e * 2], 2) + Math.pow(y - points[e * 2 + 1], 2) < dc) return e;\n          }\n\n          break;\n        }\n      } while (e !== e0);\n\n      return c;\n    }\n  }, {\n    key: \"render\",\n    value: function render(context) {\n      var buffer = context == null ? context = new Path() : undefined;\n      var points = this.points,\n          halfedges = this.halfedges,\n          triangles = this.triangles;\n\n      for (var i = 0, n = halfedges.length; i < n; ++i) {\n        var j = halfedges[i];\n        if (j < i) continue;\n        var ti = triangles[i] * 2;\n        var tj = triangles[j] * 2;\n        context.moveTo(points[ti], points[ti + 1]);\n        context.lineTo(points[tj], points[tj + 1]);\n      }\n\n      this.renderHull(context);\n      return buffer && buffer.value();\n    }\n  }, {\n    key: \"renderPoints\",\n    value: function renderPoints(context) {\n      var r = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;\n      var buffer = context == null ? context = new Path() : undefined;\n      var points = this.points;\n\n      for (var i = 0, n = points.length; i < n; i += 2) {\n        var x = points[i],\n            y = points[i + 1];\n        context.moveTo(x + r, y);\n        context.arc(x, y, r, 0, tau);\n      }\n\n      return buffer && buffer.value();\n    }\n  }, {\n    key: \"renderHull\",\n    value: function renderHull(context) {\n      var buffer = context == null ? context = new Path() : undefined;\n      var hull = this.hull,\n          points = this.points;\n      var h = hull[0] * 2,\n          n = hull.length;\n      context.moveTo(points[h], points[h + 1]);\n\n      for (var i = 1; i < n; ++i) {\n        var _h = 2 * hull[i];\n\n        context.lineTo(points[_h], points[_h + 1]);\n      }\n\n      context.closePath();\n      return buffer && buffer.value();\n    }\n  }, {\n    key: \"hullPolygon\",\n    value: function hullPolygon() {\n      var polygon = new Polygon();\n      this.renderHull(polygon);\n      return polygon.value();\n    }\n  }, {\n    key: \"renderTriangle\",\n    value: function renderTriangle(i, context) {\n      var buffer = context == null ? context = new Path() : undefined;\n      var points = this.points,\n          triangles = this.triangles;\n      var t0 = triangles[i *= 3] * 2;\n      var t1 = triangles[i + 1] * 2;\n      var t2 = triangles[i + 2] * 2;\n      context.moveTo(points[t0], points[t0 + 1]);\n      context.lineTo(points[t1], points[t1 + 1]);\n      context.lineTo(points[t2], points[t2 + 1]);\n      context.closePath();\n      return buffer && buffer.value();\n    }\n  }, {\n    key: \"trianglePolygons\",\n    value:\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function trianglePolygons() {\n      var triangles, i, n;\n      return _regeneratorRuntime.wrap(function trianglePolygons$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              triangles = this.triangles;\n              i = 0, n = triangles.length / 3;\n\n            case 2:\n              if (!(i < n)) {\n                _context2.next = 8;\n                break;\n              }\n\n              _context2.next = 5;\n              return this.trianglePolygon(i);\n\n            case 5:\n              ++i;\n              _context2.next = 2;\n              break;\n\n            case 8:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, trianglePolygons, this);\n    })\n  }, {\n    key: \"trianglePolygon\",\n    value: function trianglePolygon(i) {\n      var polygon = new Polygon();\n      this.renderTriangle(i, polygon);\n      return polygon.value();\n    }\n  }]);\n\n  return Delaunay;\n}();\n\nexport { Delaunay as default };\n\nDelaunay.from = function (points) {\n  var fx = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : pointX;\n  var fy = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : pointY;\n  var that = arguments.length > 3 ? arguments[3] : undefined;\n  return new Delaunay(\"length\" in points ? flatArray(points, fx, fy, that) : Float64Array.from(flatIterable(points, fx, fy, that)));\n};\n\nfunction flatArray(points, fx, fy, that) {\n  var n = points.length;\n  var array = new Float64Array(n * 2);\n\n  for (var i = 0; i < n; ++i) {\n    var p = points[i];\n    array[i * 2] = fx.call(that, p, i, points);\n    array[i * 2 + 1] = fy.call(that, p, i, points);\n  }\n\n  return array;\n}\n\nfunction flatIterable(points, fx, fy, that) {\n  var i, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step2, p;\n\n  return _regeneratorRuntime.wrap(function flatIterable$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          i = 0;\n          _iteratorNormalCompletion = true;\n          _didIteratorError = false;\n          _iteratorError = undefined;\n          _context3.prev = 4;\n          _iterator = points[Symbol.iterator]();\n\n        case 6:\n          if (_iteratorNormalCompletion = (_step2 = _iterator.next()).done) {\n            _context3.next = 16;\n            break;\n          }\n\n          p = _step2.value;\n          _context3.next = 10;\n          return fx.call(that, p, i, points);\n\n        case 10:\n          _context3.next = 12;\n          return fy.call(that, p, i, points);\n\n        case 12:\n          ++i;\n\n        case 13:\n          _iteratorNormalCompletion = true;\n          _context3.next = 6;\n          break;\n\n        case 16:\n          _context3.next = 22;\n          break;\n\n        case 18:\n          _context3.prev = 18;\n          _context3.t0 = _context3[\"catch\"](4);\n          _didIteratorError = true;\n          _iteratorError = _context3.t0;\n\n        case 22:\n          _context3.prev = 22;\n          _context3.prev = 23;\n\n          if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n            _iterator[\"return\"]();\n          }\n\n        case 25:\n          _context3.prev = 25;\n\n          if (!_didIteratorError) {\n            _context3.next = 28;\n            break;\n          }\n\n          throw _iteratorError;\n\n        case 28:\n          return _context3.finish(25);\n\n        case 29:\n          return _context3.finish(22);\n\n        case 30:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, _marked, null, [[4, 18, 22, 30], [23,, 25, 29]]);\n}","import React, { Fragment, useMemo, useRef, useState, useCallback } from 'react';\nimport { withTheme, withDimensions, Container, SvgWrapper, ResponsiveWrapper, getRelativeCursor } from '@nivo/core';\nimport { scaleLinear } from 'd3-scale';\nimport { Delaunay } from 'd3-delaunay';\nimport compose from 'recompose/compose';\nimport defaultProps from 'recompose/defaultProps';\nimport withPropsOnChange from 'recompose/withPropsOnChange';\nimport pure from 'recompose/pure';\nimport PropTypes from 'prop-types';\n\nvar VoronoiPropTypes = {\n  data: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n    x: PropTypes.number.isRequired,\n    y: PropTypes.number.isRequired\n  })).isRequired,\n  xDomain: PropTypes.arrayOf(PropTypes.number).isRequired,\n  yDomain: PropTypes.arrayOf(PropTypes.number).isRequired,\n  layers: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.oneOf(['links', 'cells', 'points', 'bounds']), PropTypes.func])).isRequired,\n  enableLinks: PropTypes.bool.isRequired,\n  linkLineWidth: PropTypes.number.isRequired,\n  linkLineColor: PropTypes.string.isRequired,\n  enableCells: PropTypes.bool.isRequired,\n  cellLineWidth: PropTypes.number.isRequired,\n  cellLineColor: PropTypes.string.isRequired,\n  enablePoints: PropTypes.bool.isRequired,\n  pointSize: PropTypes.number.isRequired,\n  pointColor: PropTypes.string.isRequired,\n  delaunay: PropTypes.object.isRequired,\n  voronoi: PropTypes.object.isRequired\n};\nvar VoronoiDefaultProps = {\n  xDomain: [0, 1],\n  yDomain: [0, 1],\n  layers: ['links', 'cells', 'points', 'bounds'],\n  enableLinks: false,\n  linkLineWidth: 1,\n  linkLineColor: '#bbb',\n  enableCells: true,\n  cellLineWidth: 2,\n  cellLineColor: '#000',\n  enablePoints: true,\n  pointSize: 4,\n  pointColor: '#666'\n};\n\nvar enhance = (function (Component) {\n  return compose(defaultProps(VoronoiDefaultProps), withTheme(), withDimensions(), withPropsOnChange(['xDomain', 'yDomain', 'width', 'height'], function (_ref) {\n    var xDomain = _ref.xDomain,\n        yDomain = _ref.yDomain,\n        width = _ref.width,\n        height = _ref.height;\n    return {\n      xScale: scaleLinear().domain(xDomain).range([0, width]),\n      yScale: scaleLinear().domain(yDomain).range([0, height])\n    };\n  }), withPropsOnChange(['data', 'xScale', 'yScale'], function (_ref2) {\n    var data = _ref2.data,\n        xScale = _ref2.xScale,\n        yScale = _ref2.yScale;\n    return {\n      scaledPoints: data.map(function (d) {\n        return {\n          data: d,\n          x: xScale(d.x),\n          y: yScale(d.y)\n        };\n      })\n    };\n  }), withPropsOnChange(['scaledPoints', 'width', 'height'], function (_ref3) {\n    var scaledPoints = _ref3.scaledPoints,\n        width = _ref3.width,\n        height = _ref3.height;\n    var delaunay = Delaunay.from(scaledPoints.map(function (p) {\n      return [p.x, p.y];\n    }));\n    var voronoi = delaunay.voronoi([0, 0, width, height]);\n    return {\n      delaunay: delaunay,\n      voronoi: voronoi\n    };\n  }), pure)(Component);\n});\n\nvar Voronoi = function Voronoi(_ref) {\n  var delaunay = _ref.delaunay,\n      voronoi = _ref.voronoi,\n      data = _ref.data,\n      layers = _ref.layers,\n      margin = _ref.margin,\n      width = _ref.width,\n      height = _ref.height,\n      outerWidth = _ref.outerWidth,\n      outerHeight = _ref.outerHeight,\n      enableLinks = _ref.enableLinks,\n      linkLineWidth = _ref.linkLineWidth,\n      linkLineColor = _ref.linkLineColor,\n      enableCells = _ref.enableCells,\n      cellLineWidth = _ref.cellLineWidth,\n      cellLineColor = _ref.cellLineColor,\n      enablePoints = _ref.enablePoints,\n      pointSize = _ref.pointSize,\n      pointColor = _ref.pointColor,\n      theme = _ref.theme;\n  var context = {\n    width: width,\n    height: height,\n    data: data,\n    delaunay: delaunay,\n    voronoi: voronoi\n  };\n  var layerById = {\n    bounds: React.createElement(\"path\", {\n      key: \"bounds\",\n      fill: \"none\",\n      stroke: cellLineColor,\n      strokeWidth: cellLineWidth,\n      d: voronoi.renderBounds()\n    })\n  };\n  if (enableLinks === true) {\n    layerById.links = React.createElement(\"path\", {\n      key: \"links\",\n      stroke: linkLineColor,\n      strokeWidth: linkLineWidth,\n      fill: \"none\",\n      d: delaunay.render()\n    });\n  }\n  if (enableCells === true) {\n    layerById.cells = React.createElement(\"path\", {\n      key: \"cells\",\n      d: voronoi.render(),\n      fill: \"none\",\n      stroke: cellLineColor,\n      strokeWidth: cellLineWidth\n    });\n  }\n  if (enablePoints === true) {\n    layerById.points = React.createElement(\"path\", {\n      key: \"points\",\n      stroke: \"none\",\n      fill: pointColor,\n      d: delaunay.renderPoints(undefined, pointSize / 2)\n    });\n  }\n  return React.createElement(Container, {\n    isInteractive: false,\n    theme: theme,\n    animate: false\n  }, function () {\n    return (\n      React.createElement(SvgWrapper, {\n        width: outerWidth,\n        height: outerHeight,\n        margin: margin,\n        theme: theme\n      }, layers.map(function (layer, i) {\n        if (typeof layer === 'function') {\n          return React.createElement(Fragment, {\n            key: i\n          }, layer(context));\n        }\n        return layerById[layer];\n      }))\n    );\n  });\n};\nVoronoi.propTypes = VoronoiPropTypes;\nvar Voronoi$1 = enhance(Voronoi);\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nvar ResponsiveVoronoi = function ResponsiveVoronoi(props) {\n  return React.createElement(ResponsiveWrapper, null, function (_ref) {\n    var width = _ref.width,\n        height = _ref.height;\n    return React.createElement(Voronoi$1, _extends({\n      width: width,\n      height: height\n    }, props));\n  });\n};\n\nvar getAccessor = function getAccessor(directive) {\n  return typeof directive === 'function' ? directive : function (d) {\n    return d[directive];\n  };\n};\nvar computeMeshPoints = function computeMeshPoints(_ref) {\n  var points = _ref.points,\n      _ref$x = _ref.x,\n      x = _ref$x === void 0 ? 'x' : _ref$x,\n      _ref$y = _ref.y,\n      y = _ref$y === void 0 ? 'y' : _ref$y;\n  var getX = getAccessor(x);\n  var getY = getAccessor(y);\n  return points.map(function (p) {\n    return [getX(p), getY(p)];\n  });\n};\nvar computeMesh = function computeMesh(_ref2) {\n  var points = _ref2.points,\n      width = _ref2.width,\n      height = _ref2.height,\n      debug = _ref2.debug;\n  var delaunay = Delaunay.from(points);\n  var voronoi = debug === true ? delaunay.voronoi([0, 0, width, height]) : undefined;\n  return {\n    delaunay: delaunay,\n    voronoi: voronoi\n  };\n};\n\nvar useVoronoiMesh = function useVoronoiMesh(_ref) {\n  var points = _ref.points,\n      x = _ref.x,\n      y = _ref.y,\n      width = _ref.width,\n      height = _ref.height,\n      debug = _ref.debug;\n  var points2d = useMemo(function () {\n    return computeMeshPoints({\n      points: points,\n      x: x,\n      y: y\n    });\n  }, [points, x, y]);\n  return useMemo(function () {\n    return computeMesh({\n      points: points2d,\n      width: width,\n      height: height,\n      debug: debug\n    });\n  }, [points2d, width, height, debug]);\n};\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nvar Mesh = function Mesh(_ref) {\n  var nodes = _ref.nodes,\n      width = _ref.width,\n      height = _ref.height,\n      x = _ref.x,\n      y = _ref.y,\n      debug = _ref.debug,\n      onMouseEnter = _ref.onMouseEnter,\n      onMouseMove = _ref.onMouseMove,\n      onMouseLeave = _ref.onMouseLeave,\n      onClick = _ref.onClick;\n  var elementRef = useRef(null);\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      currentIndex = _useState2[0],\n      setCurrentIndex = _useState2[1];\n  var _useVoronoiMesh = useVoronoiMesh({\n    points: nodes,\n    x: x,\n    y: y,\n    width: width,\n    height: height,\n    debug: debug\n  }),\n      delaunay = _useVoronoiMesh.delaunay,\n      voronoi = _useVoronoiMesh.voronoi;\n  var voronoiPath = useMemo(function () {\n    return debug ? voronoi.render() : undefined;\n  });\n  var getIndexAndNodeFromEvent = useCallback(function (event) {\n    var _getRelativeCursor = getRelativeCursor(elementRef.current, event),\n        _getRelativeCursor2 = _slicedToArray(_getRelativeCursor, 2),\n        x = _getRelativeCursor2[0],\n        y = _getRelativeCursor2[1];\n    var index = delaunay.find(x, y);\n    return [index, index !== undefined ? nodes[index] : null];\n  }, [delaunay]);\n  var handleMouseEnter = useCallback(function (event) {\n    var _getIndexAndNodeFromE = getIndexAndNodeFromEvent(event),\n        _getIndexAndNodeFromE2 = _slicedToArray(_getIndexAndNodeFromE, 2),\n        index = _getIndexAndNodeFromE2[0],\n        node = _getIndexAndNodeFromE2[1];\n    if (currentIndex !== index) setCurrentIndex(index);\n    node && onMouseEnter && onMouseEnter(node, event);\n  }, [getIndexAndNodeFromEvent, setCurrentIndex]);\n  var handleMouseMove = useCallback(function (event) {\n    var _getIndexAndNodeFromE3 = getIndexAndNodeFromEvent(event),\n        _getIndexAndNodeFromE4 = _slicedToArray(_getIndexAndNodeFromE3, 2),\n        index = _getIndexAndNodeFromE4[0],\n        node = _getIndexAndNodeFromE4[1];\n    if (currentIndex !== index) setCurrentIndex(index);\n    node && onMouseMove && onMouseMove(node, event);\n  }, [getIndexAndNodeFromEvent, setCurrentIndex]);\n  var handleMouseLeave = useCallback(function (event) {\n    setCurrentIndex(null);\n    if (onMouseLeave) {\n      var previousNode;\n      if (currentIndex !== undefined && currentIndex !== null) {\n        previousNode = nodes[currentIndex];\n      }\n      onMouseLeave(previousNode, event);\n    }\n  }, [setCurrentIndex]);\n  var handleClick = useCallback(function (event) {\n    var _getIndexAndNodeFromE5 = getIndexAndNodeFromEvent(event),\n        _getIndexAndNodeFromE6 = _slicedToArray(_getIndexAndNodeFromE5, 2),\n        index = _getIndexAndNodeFromE6[0],\n        node = _getIndexAndNodeFromE6[1];\n    if (currentIndex !== index) setCurrentIndex(index);\n    onClick && onClick(node, event);\n  }, [getIndexAndNodeFromEvent, setCurrentIndex]);\n  return React.createElement(\"g\", {\n    ref: elementRef\n  }, debug && React.createElement(\"path\", {\n    d: voronoiPath,\n    stroke: \"red\",\n    strokeWidth: 1,\n    opacity: 0.75\n  }), currentIndex !== null && debug && React.createElement(\"path\", {\n    fill: \"red\",\n    opacity: 0.35,\n    d: voronoi.renderCell(currentIndex)\n  }), React.createElement(\"rect\", {\n    width: width,\n    height: height,\n    fill: \"red\",\n    opacity: 0,\n    style: {\n      cursor: 'auto'\n    },\n    onMouseEnter: handleMouseEnter,\n    onMouseMove: handleMouseMove,\n    onMouseLeave: handleMouseLeave,\n    onClick: handleClick\n  }));\n};\nMesh.propTypes = {\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired,\n  nodes: PropTypes.array.isRequired,\n  x: PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.func]).isRequired,\n  y: PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.func]).isRequired,\n  onMouseEnter: PropTypes.func,\n  onMouseMove: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  onClick: PropTypes.func,\n  debug: PropTypes.bool.isRequired\n};\nMesh.defaultProps = {\n  x: 'x',\n  y: 'y',\n  debug: false\n};\n\nvar renderVoronoiToCanvas = function renderVoronoiToCanvas(ctx, voronoi) {\n  ctx.save();\n  ctx.globalAlpha = 0.75;\n  ctx.beginPath();\n  voronoi.render(ctx);\n  ctx.strokeStyle = 'red';\n  ctx.lineWidth = 1;\n  ctx.stroke();\n  ctx.restore();\n};\nvar renderVoronoiCellToCanvas = function renderVoronoiCellToCanvas(ctx, voronoi, index) {\n  ctx.save();\n  ctx.globalAlpha = 0.35;\n  ctx.beginPath();\n  voronoi.renderCell(index, ctx);\n  ctx.fillStyle = 'red';\n  ctx.fill();\n  ctx.restore();\n};\n\nexport { Mesh, ResponsiveVoronoi, Voronoi$1 as Voronoi, VoronoiDefaultProps, VoronoiPropTypes, computeMesh, computeMeshPoints, renderVoronoiCellToCanvas, renderVoronoiToCanvas, useVoronoiMesh };\n"],"sourceRoot":""}