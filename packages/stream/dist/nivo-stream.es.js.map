{"version":3,"file":"nivo-stream.es.js","sources":["../src/StreamLayer.js","../src/StreamLayers.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../src/StreamDots.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../src/StreamSlicesItem.js","../src/StreamSlices.js","../src/StreamDotsItem.js","../src/props.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../src/hooks.js","../src/Stream.js","../src/ResponsiveStream.js"],"sourcesContent":["/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo, useCallback } from 'react'\nimport PropTypes from 'prop-types'\nimport { useSpring, animated } from 'react-spring'\nimport { useMotionConfig } from '@bitbloom/nivo-core'\nimport { BasicTooltip, useTooltip } from '@bitbloom/nivo-tooltip'\n\nconst StreamLayer = ({\n    layer,\n    fillOpacity,\n    borderWidth,\n    getBorderColor,\n    getTooltipLabel,\n    isInteractive,\n}) => {\n    const { showTooltipFromEvent, hideTooltip } = useTooltip()\n    const handleMouseHover = useCallback(\n        event => {\n            showTooltipFromEvent(\n                <BasicTooltip id={getTooltipLabel(layer)} enableChip={true} color={layer.color} />,\n                event,\n                'left'\n            )\n        },\n        [showTooltipFromEvent, getTooltipLabel, layer]\n    )\n\n    const { animate, config: springConfig } = useMotionConfig()\n    const animatedProps = useSpring({\n        path: layer.path,\n        color: layer.color,\n        config: springConfig,\n        immediate: !animate,\n    })\n\n    return (\n        <animated.path\n            d={animatedProps.path}\n            fill={layer.fill ? layer.fill : animatedProps.color}\n            fillOpacity={fillOpacity}\n            stroke={getBorderColor(layer)}\n            strokeWidth={borderWidth}\n            onMouseMove={isInteractive ? handleMouseHover : undefined}\n            onMouseEnter={isInteractive ? handleMouseHover : undefined}\n            onMouseLeave={isInteractive ? hideTooltip : undefined}\n        />\n    )\n}\n\nStreamLayer.propTypes = {\n    layer: PropTypes.object.isRequired,\n    fillOpacity: PropTypes.number.isRequired,\n    borderWidth: PropTypes.number.isRequired,\n    getBorderColor: PropTypes.func.isRequired,\n    getTooltipLabel: PropTypes.func.isRequired,\n    isInteractive: PropTypes.bool.isRequired,\n}\n\nexport default memo(StreamLayer)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React from 'react'\nimport PropTypes from 'prop-types'\nimport StreamLayer from './StreamLayer'\n\nconst StreamLayers = ({\n    layers,\n    fillOpacity,\n    borderWidth,\n    getBorderColor,\n    getTooltipLabel,\n    isInteractive,\n}) => {\n    return (\n        <g>\n            {layers.map((layer, i) => (\n                <StreamLayer\n                    key={i}\n                    layer={layer}\n                    getBorderColor={getBorderColor}\n                    borderWidth={borderWidth}\n                    fillOpacity={fillOpacity}\n                    getTooltipLabel={getTooltipLabel}\n                    isInteractive={isInteractive}\n                />\n            ))}\n        </g>\n    )\n}\n\nStreamLayers.propTypes = {\n    layers: PropTypes.array.isRequired,\n    fillOpacity: PropTypes.number.isRequired,\n    borderWidth: PropTypes.number.isRequired,\n    getBorderColor: PropTypes.func.isRequired,\n    getTooltipLabel: PropTypes.func.isRequired,\n    isInteractive: PropTypes.bool.isRequired,\n}\n\nexport default StreamLayers\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\n\nconst getDotY = (datum, position) => {\n    let y = datum.y2\n    if (position === 'center') {\n        y = datum.y1 + (datum.y2 - datum.y1) / 2\n    } else if (position === 'start') {\n        y = datum.y1\n    }\n\n    return y\n}\n\nconst StreamDots = ({\n    id,\n    color,\n    data,\n    dotComponent,\n    position,\n    getSize,\n    getColor,\n    getBorderWidth,\n    getBorderColor,\n}) => {\n    return data.map((d, i) => {\n        const datum = { ...d, key: id, color }\n\n        return React.createElement(dotComponent, {\n            key: i,\n            datum,\n            x: datum.x,\n            y: getDotY(datum, position),\n            size: getSize(datum),\n            color: getColor(datum),\n            borderWidth: getBorderWidth(datum),\n            borderColor: getBorderColor(datum),\n        })\n    })\n}\n\nStreamDots.propTypes = {\n    id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n    color: PropTypes.string.isRequired,\n    data: PropTypes.arrayOf(\n        PropTypes.shape({\n            x: PropTypes.number.isRequired,\n            y1: PropTypes.number.isRequired,\n            y2: PropTypes.number.isRequired,\n        })\n    ).isRequired,\n    dotComponent: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n    position: PropTypes.oneOf(['start', 'center', 'end']).isRequired,\n    getSize: PropTypes.func.isRequired,\n    getColor: PropTypes.func.isRequired,\n    getBorderWidth: PropTypes.func.isRequired,\n    getBorderColor: PropTypes.func.isRequired,\n}\n\nexport default memo(StreamDots)\n","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo, useCallback, useMemo, useState } from 'react'\nimport PropTypes from 'prop-types'\nimport { TableTooltip, Chip } from '@bitbloom/nivo-tooltip'\nimport { useTooltip } from '@bitbloom/nivo-tooltip'\n\nconst StreamSlicesItem = ({ slice, height, getTooltipLabel, getTooltipValue }) => {\n    const [isHover, setIsHover] = useState(false)\n    const { showTooltipFromEvent, hideTooltip } = useTooltip()\n\n    const rows = useMemo(\n        () =>\n            slice.stack.map(p => [\n                <Chip key={p.id} color={p.color} />,\n                getTooltipLabel(p),\n                getTooltipValue(p.value),\n            ]),\n        [slice, getTooltipLabel, getTooltipValue]\n    )\n\n    const handleMouseHover = useCallback(\n        event => {\n            setIsHover(true)\n            showTooltipFromEvent(<TableTooltip rows={rows} />, event, 'left')\n        },\n        [setIsHover, showTooltipFromEvent, rows]\n    )\n\n    const handleMouseLeave = useCallback(() => {\n        setIsHover(false)\n        hideTooltip()\n    }, [setIsHover, hideTooltip])\n\n    return (\n        <g transform={`translate(${slice.x}, 0)`}>\n            {isHover && (\n                <line\n                    x1={0}\n                    x2={0}\n                    y1={0}\n                    y2={height}\n                    stroke=\"#000\"\n                    strokeOpacity={0.35}\n                    strokeWidth={1}\n                />\n            )}\n            <rect\n                x={-20}\n                width={40}\n                height={height}\n                fill=\"#000\"\n                fillOpacity={0}\n                onMouseEnter={handleMouseHover}\n                onMouseMove={handleMouseHover}\n                onMouseLeave={handleMouseLeave}\n            />\n        </g>\n    )\n}\n\nStreamSlicesItem.propTypes = {\n    slice: PropTypes.object.isRequired,\n    height: PropTypes.number.isRequired,\n    getTooltipLabel: PropTypes.func.isRequired,\n    getTooltipValue: PropTypes.func.isRequired,\n}\n\nexport default memo(StreamSlicesItem)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\nimport StreamSlicesItem from './StreamSlicesItem'\n\nconst StreamSlices = ({ slices, height, getTooltipLabel, getTooltipValue }) => (\n    <g>\n        {slices.map(slice => (\n            <StreamSlicesItem\n                key={slice.index}\n                slice={slice}\n                height={height}\n                getTooltipLabel={getTooltipLabel}\n                getTooltipValue={getTooltipValue}\n            />\n        ))}\n    </g>\n)\n\nStreamSlices.propTypes = {\n    slices: PropTypes.arrayOf(\n        PropTypes.shape({\n            index: PropTypes.number.isRequired,\n            x: PropTypes.number.isRequired,\n            stack: PropTypes.arrayOf(\n                PropTypes.shape({\n                    id: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,\n                    value: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,\n                    color: PropTypes.string.isRequired,\n                })\n            ).isRequired,\n        })\n    ).isRequired,\n    height: PropTypes.number.isRequired,\n    getTooltipLabel: PropTypes.func.isRequired,\n    getTooltipValue: PropTypes.func.isRequired,\n}\n\nexport default memo(StreamSlices)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\nimport { useSpring, animated } from 'react-spring'\nimport { useMotionConfig } from '@bitbloom/nivo-core'\n\nconst StreamDotsItem = ({ x, y, size, color, borderWidth, borderColor }) => {\n    const { animate, config: springConfig } = useMotionConfig()\n    const animatedProps = useSpring({\n        x,\n        y,\n        radius: size * 0.5,\n        color,\n        config: springConfig,\n        immediate: !animate,\n    })\n\n    return (\n        <animated.circle\n            cx={animatedProps.x}\n            cy={animatedProps.y}\n            r={animatedProps.radius}\n            fill={animatedProps.color}\n            strokeWidth={borderWidth}\n            stroke={borderColor}\n        />\n    )\n}\n\nStreamDotsItem.propTypes = {\n    x: PropTypes.number.isRequired,\n    y: PropTypes.number.isRequired,\n    size: PropTypes.number.isRequired,\n    color: PropTypes.string.isRequired,\n    borderWidth: PropTypes.number.isRequired,\n    borderColor: PropTypes.string.isRequired,\n}\n\nexport default memo(StreamDotsItem)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport PropTypes from 'prop-types'\nimport { areaCurvePropType, stackOrderPropType, stackOffsetPropType } from '@bitbloom/nivo-core'\nimport { ordinalColorsPropType, inheritedColorPropType } from '@bitbloom/nivo-colors'\nimport { LegendPropShape } from '@bitbloom/nivo-legends'\nimport StreamDotsItem from './StreamDotsItem'\n\nexport const StreamPropTypes = {\n    data: PropTypes.arrayOf(PropTypes.object).isRequired,\n    keys: PropTypes.array.isRequired,\n    order: stackOrderPropType.isRequired,\n    offsetType: stackOffsetPropType.isRequired,\n    curve: areaCurvePropType.isRequired,\n\n    axisTop: PropTypes.object,\n    axisRight: PropTypes.object,\n    axisBottom: PropTypes.object,\n    axisLeft: PropTypes.object,\n    enableGridX: PropTypes.bool.isRequired,\n    enableGridY: PropTypes.bool.isRequired,\n\n    colors: ordinalColorsPropType.isRequired,\n    fillOpacity: PropTypes.number.isRequired,\n    defs: PropTypes.arrayOf(\n        PropTypes.shape({\n            id: PropTypes.string.isRequired,\n        })\n    ).isRequired,\n    fill: PropTypes.arrayOf(\n        PropTypes.shape({\n            id: PropTypes.string,\n            match: PropTypes.oneOfType([PropTypes.oneOf(['*']), PropTypes.object, PropTypes.func])\n                .isRequired,\n        })\n    ).isRequired,\n    borderWidth: PropTypes.number.isRequired,\n    borderColor: inheritedColorPropType.isRequired,\n\n    enableDots: PropTypes.bool.isRequired,\n    dotComponent: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n    dotPosition: PropTypes.oneOf(['start', 'center', 'end']).isRequired,\n    dotSize: PropTypes.oneOfType([PropTypes.number, PropTypes.func]).isRequired,\n    dotColor: inheritedColorPropType.isRequired,\n    dotBorderWidth: PropTypes.oneOfType([PropTypes.number, PropTypes.func]).isRequired,\n    dotBorderColor: inheritedColorPropType.isRequired,\n\n    isInteractive: PropTypes.bool,\n    tooltipLabel: PropTypes.func,\n    tooltipFormat: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n    enableStackTooltip: PropTypes.bool.isRequired,\n\n    legends: PropTypes.arrayOf(PropTypes.shape(LegendPropShape)).isRequired,\n    role: PropTypes.string.isRequired,\n}\n\nexport const StreamDefaultProps = {\n    order: 'none',\n    offsetType: 'wiggle',\n    curve: 'catmullRom',\n\n    axisBottom: {},\n    enableGridX: true,\n    enableGridY: false,\n\n    borderWidth: 0,\n    borderColor: { from: 'color', modifiers: [['darker', 1]] },\n\n    colors: { scheme: 'nivo' },\n    fillOpacity: 1,\n    defs: [],\n    fill: [],\n\n    enableDots: false,\n    dotPosition: 'center',\n    dotComponent: StreamDotsItem,\n    dotSize: 6,\n    dotColor: { from: 'color' },\n    dotBorderWidth: 0,\n    dotBorderColor: { from: 'color' },\n\n    isInteractive: true,\n\n    enableStackTooltip: true,\n\n    legends: [],\n    role: 'img',\n\n    animate: true,\n    motionConfig: 'gentle',\n}\n","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import { useMemo } from 'react'\nimport { area, stack as d3Stack } from 'd3-shape'\nimport { scaleLinear, scalePoint } from 'd3-scale'\nimport {\n    curveFromProp,\n    useTheme,\n    stackOrderFromProp,\n    stackOffsetFromProp,\n    useValueFormatter,\n} from '@bitbloom/nivo-core'\nimport { useInheritedColor, useOrdinalColorScale } from '@bitbloom/nivo-colors'\n\nconst stackMin = layers =>\n    Math.min(...layers.reduce((acc, layer) => [...acc, ...layer.map(d => d[0])], []))\nconst stackMax = layers =>\n    Math.max(...layers.reduce((acc, layer) => [...acc, ...layer.map(d => d[1])], []))\n\nexport const useStream = ({\n    width,\n    height,\n    data,\n    keys,\n    offsetType,\n    order,\n    curve,\n    colors,\n    borderColor,\n    dotSize,\n    dotColor,\n    dotBorderWidth,\n    dotBorderColor,\n    tooltipLabel,\n    tooltipFormat,\n}) => {\n    const areaGenerator = useMemo(\n        () =>\n            area()\n                .x(({ x }) => x)\n                .y0(({ y1 }) => y1)\n                .y1(({ y2 }) => y2)\n                .curve(curveFromProp(curve)),\n        [curve]\n    )\n\n    const stack = useMemo(\n        () =>\n            d3Stack()\n                .keys(keys)\n                .offset(stackOffsetFromProp(offsetType))\n                .order(stackOrderFromProp(order)),\n        [keys, offsetType, order]\n    )\n\n    const [layers, xScale, yScale] = useMemo(() => {\n        const layers = stack(data)\n        layers.forEach(layer => {\n            layer.forEach(point => {\n                point.value = point.data[layer.key]\n            })\n        })\n\n        const minValue = stackMin(layers)\n        const maxValue = stackMax(layers)\n\n        return [\n            layers,\n            scalePoint()\n                .domain(Array.from({ length: data.length }, (_, i) => i))\n                .range([0, width]),\n            scaleLinear().domain([minValue, maxValue]).range([height, 0]),\n        ]\n    }, [stack, data, width, height])\n\n    const theme = useTheme()\n    const getColor = useOrdinalColorScale(colors, 'index')\n    const getBorderColor = useInheritedColor(borderColor, theme)\n\n    const getDotSize = useMemo(() => (typeof dotSize === 'function' ? dotSize : () => dotSize), [\n        dotSize,\n    ])\n    const getDotColor = useInheritedColor(dotColor, theme)\n    const getDotBorderWidth = useMemo(\n        () => (typeof dotBorderWidth === 'function' ? dotBorderWidth : () => dotBorderWidth),\n        [dotBorderWidth]\n    )\n    const getDotBorderColor = useInheritedColor(dotBorderColor, theme)\n\n    const enhancedLayers = useMemo(\n        () =>\n            layers.map((points, layerIndex) => {\n                const layer = points.map((point, i) => ({\n                    index: i,\n                    x: xScale(i),\n                    value: point.value,\n                    y1: yScale(point[0]),\n                    y2: yScale(point[1]),\n                }))\n\n                return {\n                    id: keys[layerIndex],\n                    layer,\n                    path: areaGenerator(layer),\n                    color: getColor({ index: layerIndex }),\n                }\n            }),\n        [layers, keys, areaGenerator, getColor]\n    )\n\n    const slices = useMemo(\n        () =>\n            Array.from({ length: data.length }, (_, i) => {\n                const sliceStack = enhancedLayers\n                    .map(layer => ({\n                        id: layer.id,\n                        color: layer.color,\n                        ...layer.layer[i],\n                    }))\n                    .sort((a, b) => a.y2 - b.y2)\n\n                return {\n                    index: i,\n                    x: enhancedLayers[0].layer[i].x,\n                    stack: sliceStack,\n                }\n            }),\n        [data.length, enhancedLayers]\n    )\n\n    const getTooltipLabel = useMemo(() => {\n        if (typeof tooltipLabel === 'function') return tooltipLabel\n\n        return d => d.id\n    }, [tooltipLabel])\n    const getTooltipValue = useValueFormatter(tooltipFormat)\n\n    return {\n        xScale,\n        yScale,\n        layers: enhancedLayers,\n        slices,\n        getBorderColor,\n        getDotSize,\n        getDotColor,\n        getDotBorderWidth,\n        getDotBorderColor,\n        getTooltipLabel,\n        getTooltipValue,\n    }\n}\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React from 'react'\nimport { bindDefs, SvgWrapper, useDimensions, withContainer } from '@bitbloom/nivo-core'\nimport { Axes, Grid } from '@bitbloom/nivo-axes'\nimport { BoxLegendSvg } from '@bitbloom/nivo-legends'\nimport StreamLayers from './StreamLayers'\nimport StreamDots from './StreamDots'\nimport StreamSlices from './StreamSlices'\nimport { StreamPropTypes, StreamDefaultProps } from './props'\nimport { useStream } from './hooks'\n\nconst Stream = ({\n    data,\n    keys,\n    offsetType,\n    order,\n    curve,\n\n    width,\n    height,\n    margin: partialMargin,\n\n    axisTop,\n    axisRight,\n    axisBottom,\n    axisLeft,\n    enableGridX,\n    enableGridY,\n\n    colors,\n    fillOpacity,\n    borderWidth,\n    borderColor,\n    defs,\n    fill,\n\n    enableDots,\n    dotPosition,\n    dotComponent,\n    dotSize,\n    dotColor,\n    dotBorderWidth,\n    dotBorderColor,\n\n    isInteractive,\n    tooltipLabel,\n    tooltipFormat,\n    enableStackTooltip,\n\n    legends,\n    role,\n}) => {\n    const { margin, innerWidth, innerHeight, outerWidth, outerHeight } = useDimensions(\n        width,\n        height,\n        partialMargin\n    )\n\n    const {\n        xScale,\n        yScale,\n        layers,\n        slices,\n        getBorderColor,\n        getDotSize,\n        getDotColor,\n        getDotBorderWidth,\n        getDotBorderColor,\n        getTooltipLabel,\n        getTooltipValue,\n    } = useStream({\n        width: innerWidth,\n        height: innerHeight,\n        data,\n        keys,\n        offsetType,\n        order,\n        curve,\n        colors,\n        borderColor,\n        dotSize,\n        dotColor,\n        dotBorderWidth,\n        dotBorderColor,\n        tooltipLabel,\n        tooltipFormat,\n    })\n\n    const boundDefs = bindDefs(defs, layers, fill)\n\n    return (\n        <SvgWrapper\n            width={outerWidth}\n            height={outerHeight}\n            margin={margin}\n            defs={boundDefs}\n            role={role}\n        >\n            <Grid\n                width={innerWidth}\n                height={innerHeight}\n                xScale={enableGridX ? xScale : null}\n                yScale={enableGridY ? yScale : null}\n            />\n            <StreamLayers\n                layers={layers}\n                fillOpacity={fillOpacity}\n                borderWidth={borderWidth}\n                getBorderColor={getBorderColor}\n                getTooltipLabel={getTooltipLabel}\n                isInteractive={isInteractive}\n            />\n            <Axes\n                xScale={xScale}\n                yScale={yScale}\n                width={innerWidth}\n                height={innerHeight}\n                top={axisTop}\n                right={axisRight}\n                bottom={axisBottom}\n                left={axisLeft}\n            />\n            {enableDots &&\n                layers.map(layer => (\n                    <StreamDots\n                        key={layer.id}\n                        id={layer.id}\n                        color={layer.color}\n                        data={layer.layer}\n                        dotComponent={dotComponent}\n                        position={dotPosition}\n                        getSize={getDotSize}\n                        getColor={getDotColor}\n                        getBorderWidth={getDotBorderWidth}\n                        getBorderColor={getDotBorderColor}\n                    />\n                ))}\n            {isInteractive && enableStackTooltip && (\n                <StreamSlices\n                    slices={slices}\n                    height={innerHeight}\n                    getTooltipValue={getTooltipValue}\n                    getTooltipLabel={getTooltipLabel}\n                />\n            )}\n            {legends.map((legend, i) => {\n                const legendData = layers\n                    .map(l => ({\n                        id: l.id,\n                        label: l.id,\n                        color: l.color,\n                        fill: l.fill,\n                    }))\n                    .reverse()\n\n                return (\n                    <BoxLegendSvg\n                        key={i}\n                        {...legend}\n                        containerWidth={innerWidth}\n                        containerHeight={innerHeight}\n                        data={legendData}\n                    />\n                )\n            })}\n        </SvgWrapper>\n    )\n}\n\nStream.propTypes = StreamPropTypes\n\nconst WrappedStream = withContainer(Stream)\nWrappedStream.defaultProps = StreamDefaultProps\n\nexport default WrappedStream\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React from 'react'\nimport { ResponsiveWrapper } from '@bitbloom/nivo-core'\nimport Stream from './Stream'\n\nconst ResponsiveStream = props => (\n    <ResponsiveWrapper>\n        {({ width, height }) => <Stream width={width} height={height} {...props} />}\n    </ResponsiveWrapper>\n)\n\nexport default ResponsiveStream\n"],"names":["StreamLayer","layer","fillOpacity","borderWidth","getBorderColor","getTooltipLabel","isInteractive","useTooltip","showTooltipFromEvent","hideTooltip","handleMouseHover","useCallback","event","color","useMotionConfig","animate","springConfig","config","animatedProps","useSpring","path","immediate","fill","undefined","memo","StreamLayers","layers","map","i","defineProperty","getDotY","datum","position","y","y2","y1","StreamDots","id","data","dotComponent","getSize","getColor","getBorderWidth","d","key","React","createElement","x","size","borderColor","arrayLikeToArray","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","StreamSlicesItem","slice","height","getTooltipValue","useState","isHover","setIsHover","rows","useMemo","stack","p","value","handleMouseLeave","StreamSlices","slices","index","StreamDotsItem","radius","StreamPropTypes","PropTypes","arrayOf","object","isRequired","keys","array","order","stackOrderPropType","offsetType","stackOffsetPropType","curve","areaCurvePropType","axisTop","axisRight","axisBottom","axisLeft","enableGridX","bool","enableGridY","colors","ordinalColorsPropType","number","defs","shape","string","match","oneOfType","oneOf","func","inheritedColorPropType","enableDots","dotPosition","dotSize","dotColor","dotBorderWidth","dotBorderColor","tooltipLabel","tooltipFormat","enableStackTooltip","legends","LegendPropShape","role","StreamDefaultProps","from","modifiers","scheme","motionConfig","arrayWithoutHoles","iterableToArray","nonIterableSpread","stackMin","Math","min","reduce","acc","stackMax","max","useStream","width","areaGenerator","area","y0","curveFromProp","d3Stack","offset","stackOffsetFromProp","stackOrderFromProp","forEach","point","minValue","maxValue","scalePoint","domain","Array","length","_","range","scaleLinear","xScale","yScale","theme","useTheme","useOrdinalColorScale","useInheritedColor","getDotSize","getDotColor","getDotBorderWidth","getDotBorderColor","enhancedLayers","points","layerIndex","sliceStack","sort","a","b","useValueFormatter","Stream","partialMargin","margin","useDimensions","innerWidth","innerHeight","outerWidth","outerHeight","boundDefs","bindDefs","legend","legendData","l","label","reverse","WrappedStream","withContainer","defaultProps","ResponsiveStream","props"],"mappings":"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"}