{"version":3,"file":"nivo-stream.umd.js","sources":["../src/StreamLayer.js","../src/StreamLayers.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../src/StreamDots.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../src/StreamSlicesItem.js","../src/StreamSlices.js","../src/StreamDotsItem.js","../src/props.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../src/hooks.js","../src/Stream.js","../src/ResponsiveStream.js"],"sourcesContent":["/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo, useCallback } from 'react'\nimport PropTypes from 'prop-types'\nimport { useSpring, animated } from 'react-spring'\nimport { useMotionConfig } from '@bitbloom/nivo-core'\nimport { BasicTooltip, useTooltip } from '@bitbloom/nivo-tooltip'\n\nconst StreamLayer = ({\n    layer,\n    fillOpacity,\n    borderWidth,\n    getBorderColor,\n    getTooltipLabel,\n    isInteractive,\n}) => {\n    const { showTooltipFromEvent, hideTooltip } = useTooltip()\n    const handleMouseHover = useCallback(\n        event => {\n            showTooltipFromEvent(\n                <BasicTooltip id={getTooltipLabel(layer)} enableChip={true} color={layer.color} />,\n                event,\n                'left'\n            )\n        },\n        [showTooltipFromEvent, getTooltipLabel, layer]\n    )\n\n    const { animate, config: springConfig } = useMotionConfig()\n    const animatedProps = useSpring({\n        path: layer.path,\n        color: layer.color,\n        config: springConfig,\n        immediate: !animate,\n    })\n\n    return (\n        <animated.path\n            d={animatedProps.path}\n            fill={layer.fill ? layer.fill : animatedProps.color}\n            fillOpacity={fillOpacity}\n            stroke={getBorderColor(layer)}\n            strokeWidth={borderWidth}\n            onMouseMove={isInteractive ? handleMouseHover : undefined}\n            onMouseEnter={isInteractive ? handleMouseHover : undefined}\n            onMouseLeave={isInteractive ? hideTooltip : undefined}\n        />\n    )\n}\n\nStreamLayer.propTypes = {\n    layer: PropTypes.object.isRequired,\n    fillOpacity: PropTypes.number.isRequired,\n    borderWidth: PropTypes.number.isRequired,\n    getBorderColor: PropTypes.func.isRequired,\n    getTooltipLabel: PropTypes.func.isRequired,\n    isInteractive: PropTypes.bool.isRequired,\n}\n\nexport default memo(StreamLayer)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React from 'react'\nimport PropTypes from 'prop-types'\nimport StreamLayer from './StreamLayer'\n\nconst StreamLayers = ({\n    layers,\n    fillOpacity,\n    borderWidth,\n    getBorderColor,\n    getTooltipLabel,\n    isInteractive,\n}) => {\n    return (\n        <g>\n            {layers.map((layer, i) => (\n                <StreamLayer\n                    key={i}\n                    layer={layer}\n                    getBorderColor={getBorderColor}\n                    borderWidth={borderWidth}\n                    fillOpacity={fillOpacity}\n                    getTooltipLabel={getTooltipLabel}\n                    isInteractive={isInteractive}\n                />\n            ))}\n        </g>\n    )\n}\n\nStreamLayers.propTypes = {\n    layers: PropTypes.array.isRequired,\n    fillOpacity: PropTypes.number.isRequired,\n    borderWidth: PropTypes.number.isRequired,\n    getBorderColor: PropTypes.func.isRequired,\n    getTooltipLabel: PropTypes.func.isRequired,\n    isInteractive: PropTypes.bool.isRequired,\n}\n\nexport default StreamLayers\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\n\nconst getDotY = (datum, position) => {\n    let y = datum.y2\n    if (position === 'center') {\n        y = datum.y1 + (datum.y2 - datum.y1) / 2\n    } else if (position === 'start') {\n        y = datum.y1\n    }\n\n    return y\n}\n\nconst StreamDots = ({\n    id,\n    color,\n    data,\n    dotComponent,\n    position,\n    getSize,\n    getColor,\n    getBorderWidth,\n    getBorderColor,\n}) => {\n    return data.map((d, i) => {\n        const datum = { ...d, key: id, color }\n\n        return React.createElement(dotComponent, {\n            key: i,\n            datum,\n            x: datum.x,\n            y: getDotY(datum, position),\n            size: getSize(datum),\n            color: getColor(datum),\n            borderWidth: getBorderWidth(datum),\n            borderColor: getBorderColor(datum),\n        })\n    })\n}\n\nStreamDots.propTypes = {\n    id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n    color: PropTypes.string.isRequired,\n    data: PropTypes.arrayOf(\n        PropTypes.shape({\n            x: PropTypes.number.isRequired,\n            y1: PropTypes.number.isRequired,\n            y2: PropTypes.number.isRequired,\n        })\n    ).isRequired,\n    dotComponent: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n    position: PropTypes.oneOf(['start', 'center', 'end']).isRequired,\n    getSize: PropTypes.func.isRequired,\n    getColor: PropTypes.func.isRequired,\n    getBorderWidth: PropTypes.func.isRequired,\n    getBorderColor: PropTypes.func.isRequired,\n}\n\nexport default memo(StreamDots)\n","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo, useCallback, useMemo, useState } from 'react'\nimport PropTypes from 'prop-types'\nimport { TableTooltip, Chip } from '@bitbloom/nivo-tooltip'\nimport { useTooltip } from '@bitbloom/nivo-tooltip'\n\nconst StreamSlicesItem = ({ slice, height, getTooltipLabel, getTooltipValue }) => {\n    const [isHover, setIsHover] = useState(false)\n    const { showTooltipFromEvent, hideTooltip } = useTooltip()\n\n    const rows = useMemo(\n        () =>\n            slice.stack.map(p => [\n                <Chip key={p.id} color={p.color} />,\n                getTooltipLabel(p),\n                getTooltipValue(p.value),\n            ]),\n        [slice, getTooltipLabel, getTooltipValue]\n    )\n\n    const handleMouseHover = useCallback(\n        event => {\n            setIsHover(true)\n            showTooltipFromEvent(<TableTooltip rows={rows} />, event, 'left')\n        },\n        [setIsHover, showTooltipFromEvent, rows]\n    )\n\n    const handleMouseLeave = useCallback(() => {\n        setIsHover(false)\n        hideTooltip()\n    }, [setIsHover, hideTooltip])\n\n    return (\n        <g transform={`translate(${slice.x}, 0)`}>\n            {isHover && (\n                <line\n                    x1={0}\n                    x2={0}\n                    y1={0}\n                    y2={height}\n                    stroke=\"#000\"\n                    strokeOpacity={0.35}\n                    strokeWidth={1}\n                />\n            )}\n            <rect\n                x={-20}\n                width={40}\n                height={height}\n                fill=\"#000\"\n                fillOpacity={0}\n                onMouseEnter={handleMouseHover}\n                onMouseMove={handleMouseHover}\n                onMouseLeave={handleMouseLeave}\n            />\n        </g>\n    )\n}\n\nStreamSlicesItem.propTypes = {\n    slice: PropTypes.object.isRequired,\n    height: PropTypes.number.isRequired,\n    getTooltipLabel: PropTypes.func.isRequired,\n    getTooltipValue: PropTypes.func.isRequired,\n}\n\nexport default memo(StreamSlicesItem)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\nimport StreamSlicesItem from './StreamSlicesItem'\n\nconst StreamSlices = ({ slices, height, getTooltipLabel, getTooltipValue }) => (\n    <g>\n        {slices.map(slice => (\n            <StreamSlicesItem\n                key={slice.index}\n                slice={slice}\n                height={height}\n                getTooltipLabel={getTooltipLabel}\n                getTooltipValue={getTooltipValue}\n            />\n        ))}\n    </g>\n)\n\nStreamSlices.propTypes = {\n    slices: PropTypes.arrayOf(\n        PropTypes.shape({\n            index: PropTypes.number.isRequired,\n            x: PropTypes.number.isRequired,\n            stack: PropTypes.arrayOf(\n                PropTypes.shape({\n                    id: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,\n                    value: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,\n                    color: PropTypes.string.isRequired,\n                })\n            ).isRequired,\n        })\n    ).isRequired,\n    height: PropTypes.number.isRequired,\n    getTooltipLabel: PropTypes.func.isRequired,\n    getTooltipValue: PropTypes.func.isRequired,\n}\n\nexport default memo(StreamSlices)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\nimport { useSpring, animated } from 'react-spring'\nimport { useMotionConfig } from '@bitbloom/nivo-core'\n\nconst StreamDotsItem = ({ x, y, size, color, borderWidth, borderColor }) => {\n    const { animate, config: springConfig } = useMotionConfig()\n    const animatedProps = useSpring({\n        x,\n        y,\n        radius: size * 0.5,\n        color,\n        config: springConfig,\n        immediate: !animate,\n    })\n\n    return (\n        <animated.circle\n            cx={animatedProps.x}\n            cy={animatedProps.y}\n            r={animatedProps.radius}\n            fill={animatedProps.color}\n            strokeWidth={borderWidth}\n            stroke={borderColor}\n        />\n    )\n}\n\nStreamDotsItem.propTypes = {\n    x: PropTypes.number.isRequired,\n    y: PropTypes.number.isRequired,\n    size: PropTypes.number.isRequired,\n    color: PropTypes.string.isRequired,\n    borderWidth: PropTypes.number.isRequired,\n    borderColor: PropTypes.string.isRequired,\n}\n\nexport default memo(StreamDotsItem)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport PropTypes from 'prop-types'\nimport { areaCurvePropType, stackOrderPropType, stackOffsetPropType } from '@bitbloom/nivo-core'\nimport { ordinalColorsPropType, inheritedColorPropType } from '@bitbloom/nivo-colors'\nimport { LegendPropShape } from '@bitbloom/nivo-legends'\nimport StreamDotsItem from './StreamDotsItem'\n\nexport const StreamPropTypes = {\n    data: PropTypes.arrayOf(PropTypes.object).isRequired,\n    keys: PropTypes.array.isRequired,\n    order: stackOrderPropType.isRequired,\n    offsetType: stackOffsetPropType.isRequired,\n    curve: areaCurvePropType.isRequired,\n\n    axisTop: PropTypes.object,\n    axisRight: PropTypes.object,\n    axisBottom: PropTypes.object,\n    axisLeft: PropTypes.object,\n    enableGridX: PropTypes.bool.isRequired,\n    enableGridY: PropTypes.bool.isRequired,\n\n    colors: ordinalColorsPropType.isRequired,\n    fillOpacity: PropTypes.number.isRequired,\n    defs: PropTypes.arrayOf(\n        PropTypes.shape({\n            id: PropTypes.string.isRequired,\n        })\n    ).isRequired,\n    fill: PropTypes.arrayOf(\n        PropTypes.shape({\n            id: PropTypes.string,\n            match: PropTypes.oneOfType([PropTypes.oneOf(['*']), PropTypes.object, PropTypes.func])\n                .isRequired,\n        })\n    ).isRequired,\n    borderWidth: PropTypes.number.isRequired,\n    borderColor: inheritedColorPropType.isRequired,\n\n    enableDots: PropTypes.bool.isRequired,\n    dotComponent: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n    dotPosition: PropTypes.oneOf(['start', 'center', 'end']).isRequired,\n    dotSize: PropTypes.oneOfType([PropTypes.number, PropTypes.func]).isRequired,\n    dotColor: inheritedColorPropType.isRequired,\n    dotBorderWidth: PropTypes.oneOfType([PropTypes.number, PropTypes.func]).isRequired,\n    dotBorderColor: inheritedColorPropType.isRequired,\n\n    isInteractive: PropTypes.bool,\n    tooltipLabel: PropTypes.func,\n    tooltipFormat: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n    enableStackTooltip: PropTypes.bool.isRequired,\n\n    legends: PropTypes.arrayOf(PropTypes.shape(LegendPropShape)).isRequired,\n    role: PropTypes.string.isRequired,\n}\n\nexport const StreamDefaultProps = {\n    order: 'none',\n    offsetType: 'wiggle',\n    curve: 'catmullRom',\n\n    axisBottom: {},\n    enableGridX: true,\n    enableGridY: false,\n\n    borderWidth: 0,\n    borderColor: { from: 'color', modifiers: [['darker', 1]] },\n\n    colors: { scheme: 'nivo' },\n    fillOpacity: 1,\n    defs: [],\n    fill: [],\n\n    enableDots: false,\n    dotPosition: 'center',\n    dotComponent: StreamDotsItem,\n    dotSize: 6,\n    dotColor: { from: 'color' },\n    dotBorderWidth: 0,\n    dotBorderColor: { from: 'color' },\n\n    isInteractive: true,\n\n    enableStackTooltip: true,\n\n    legends: [],\n    role: 'img',\n\n    animate: true,\n    motionConfig: 'gentle',\n}\n","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import { useMemo } from 'react'\nimport { area, stack as d3Stack } from 'd3-shape'\nimport { scaleLinear, scalePoint } from 'd3-scale'\nimport {\n    curveFromProp,\n    useTheme,\n    stackOrderFromProp,\n    stackOffsetFromProp,\n    useValueFormatter,\n} from '@bitbloom/nivo-core'\nimport { useInheritedColor, useOrdinalColorScale } from '@bitbloom/nivo-colors'\n\nconst stackMin = layers =>\n    Math.min(...layers.reduce((acc, layer) => [...acc, ...layer.map(d => d[0])], []))\nconst stackMax = layers =>\n    Math.max(...layers.reduce((acc, layer) => [...acc, ...layer.map(d => d[1])], []))\n\nexport const useStream = ({\n    width,\n    height,\n    data,\n    keys,\n    offsetType,\n    order,\n    curve,\n    colors,\n    borderColor,\n    dotSize,\n    dotColor,\n    dotBorderWidth,\n    dotBorderColor,\n    tooltipLabel,\n    tooltipFormat,\n}) => {\n    const areaGenerator = useMemo(\n        () =>\n            area()\n                .x(({ x }) => x)\n                .y0(({ y1 }) => y1)\n                .y1(({ y2 }) => y2)\n                .curve(curveFromProp(curve)),\n        [curve]\n    )\n\n    const stack = useMemo(\n        () =>\n            d3Stack()\n                .keys(keys)\n                .offset(stackOffsetFromProp(offsetType))\n                .order(stackOrderFromProp(order)),\n        [keys, offsetType, order]\n    )\n\n    const [layers, xScale, yScale] = useMemo(() => {\n        const layers = stack(data)\n        layers.forEach(layer => {\n            layer.forEach(point => {\n                point.value = point.data[layer.key]\n            })\n        })\n\n        const minValue = stackMin(layers)\n        const maxValue = stackMax(layers)\n\n        return [\n            layers,\n            scalePoint()\n                .domain(Array.from({ length: data.length }, (_, i) => i))\n                .range([0, width]),\n            scaleLinear().domain([minValue, maxValue]).range([height, 0]),\n        ]\n    }, [stack, data, width, height])\n\n    const theme = useTheme()\n    const getColor = useOrdinalColorScale(colors, 'index')\n    const getBorderColor = useInheritedColor(borderColor, theme)\n\n    const getDotSize = useMemo(() => (typeof dotSize === 'function' ? dotSize : () => dotSize), [\n        dotSize,\n    ])\n    const getDotColor = useInheritedColor(dotColor, theme)\n    const getDotBorderWidth = useMemo(\n        () => (typeof dotBorderWidth === 'function' ? dotBorderWidth : () => dotBorderWidth),\n        [dotBorderWidth]\n    )\n    const getDotBorderColor = useInheritedColor(dotBorderColor, theme)\n\n    const enhancedLayers = useMemo(\n        () =>\n            layers.map((points, layerIndex) => {\n                const layer = points.map((point, i) => ({\n                    index: i,\n                    x: xScale(i),\n                    value: point.value,\n                    y1: yScale(point[0]),\n                    y2: yScale(point[1]),\n                }))\n\n                return {\n                    id: keys[layerIndex],\n                    layer,\n                    path: areaGenerator(layer),\n                    color: getColor({ index: layerIndex }),\n                }\n            }),\n        [layers, keys, areaGenerator, getColor]\n    )\n\n    const slices = useMemo(\n        () =>\n            Array.from({ length: data.length }, (_, i) => {\n                const sliceStack = enhancedLayers\n                    .map(layer => ({\n                        id: layer.id,\n                        color: layer.color,\n                        ...layer.layer[i],\n                    }))\n                    .sort((a, b) => a.y2 - b.y2)\n\n                return {\n                    index: i,\n                    x: enhancedLayers[0].layer[i].x,\n                    stack: sliceStack,\n                }\n            }),\n        [data.length, enhancedLayers]\n    )\n\n    const getTooltipLabel = useMemo(() => {\n        if (typeof tooltipLabel === 'function') return tooltipLabel\n\n        return d => d.id\n    }, [tooltipLabel])\n    const getTooltipValue = useValueFormatter(tooltipFormat)\n\n    return {\n        xScale,\n        yScale,\n        layers: enhancedLayers,\n        slices,\n        getBorderColor,\n        getDotSize,\n        getDotColor,\n        getDotBorderWidth,\n        getDotBorderColor,\n        getTooltipLabel,\n        getTooltipValue,\n    }\n}\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React from 'react'\nimport { bindDefs, SvgWrapper, useDimensions, withContainer } from '@bitbloom/nivo-core'\nimport { Axes, Grid } from '@bitbloom/nivo-axes'\nimport { BoxLegendSvg } from '@bitbloom/nivo-legends'\nimport StreamLayers from './StreamLayers'\nimport StreamDots from './StreamDots'\nimport StreamSlices from './StreamSlices'\nimport { StreamPropTypes, StreamDefaultProps } from './props'\nimport { useStream } from './hooks'\n\nconst Stream = ({\n    data,\n    keys,\n    offsetType,\n    order,\n    curve,\n\n    width,\n    height,\n    margin: partialMargin,\n\n    axisTop,\n    axisRight,\n    axisBottom,\n    axisLeft,\n    enableGridX,\n    enableGridY,\n\n    colors,\n    fillOpacity,\n    borderWidth,\n    borderColor,\n    defs,\n    fill,\n\n    enableDots,\n    dotPosition,\n    dotComponent,\n    dotSize,\n    dotColor,\n    dotBorderWidth,\n    dotBorderColor,\n\n    isInteractive,\n    tooltipLabel,\n    tooltipFormat,\n    enableStackTooltip,\n\n    legends,\n    role,\n}) => {\n    const { margin, innerWidth, innerHeight, outerWidth, outerHeight } = useDimensions(\n        width,\n        height,\n        partialMargin\n    )\n\n    const {\n        xScale,\n        yScale,\n        layers,\n        slices,\n        getBorderColor,\n        getDotSize,\n        getDotColor,\n        getDotBorderWidth,\n        getDotBorderColor,\n        getTooltipLabel,\n        getTooltipValue,\n    } = useStream({\n        width: innerWidth,\n        height: innerHeight,\n        data,\n        keys,\n        offsetType,\n        order,\n        curve,\n        colors,\n        borderColor,\n        dotSize,\n        dotColor,\n        dotBorderWidth,\n        dotBorderColor,\n        tooltipLabel,\n        tooltipFormat,\n    })\n\n    const boundDefs = bindDefs(defs, layers, fill)\n\n    return (\n        <SvgWrapper\n            width={outerWidth}\n            height={outerHeight}\n            margin={margin}\n            defs={boundDefs}\n            role={role}\n        >\n            <Grid\n                width={innerWidth}\n                height={innerHeight}\n                xScale={enableGridX ? xScale : null}\n                yScale={enableGridY ? yScale : null}\n            />\n            <StreamLayers\n                layers={layers}\n                fillOpacity={fillOpacity}\n                borderWidth={borderWidth}\n                getBorderColor={getBorderColor}\n                getTooltipLabel={getTooltipLabel}\n                isInteractive={isInteractive}\n            />\n            <Axes\n                xScale={xScale}\n                yScale={yScale}\n                width={innerWidth}\n                height={innerHeight}\n                top={axisTop}\n                right={axisRight}\n                bottom={axisBottom}\n                left={axisLeft}\n            />\n            {enableDots &&\n                layers.map(layer => (\n                    <StreamDots\n                        key={layer.id}\n                        id={layer.id}\n                        color={layer.color}\n                        data={layer.layer}\n                        dotComponent={dotComponent}\n                        position={dotPosition}\n                        getSize={getDotSize}\n                        getColor={getDotColor}\n                        getBorderWidth={getDotBorderWidth}\n                        getBorderColor={getDotBorderColor}\n                    />\n                ))}\n            {isInteractive && enableStackTooltip && (\n                <StreamSlices\n                    slices={slices}\n                    height={innerHeight}\n                    getTooltipValue={getTooltipValue}\n                    getTooltipLabel={getTooltipLabel}\n                />\n            )}\n            {legends.map((legend, i) => {\n                const legendData = layers\n                    .map(l => ({\n                        id: l.id,\n                        label: l.id,\n                        color: l.color,\n                        fill: l.fill,\n                    }))\n                    .reverse()\n\n                return (\n                    <BoxLegendSvg\n                        key={i}\n                        {...legend}\n                        containerWidth={innerWidth}\n                        containerHeight={innerHeight}\n                        data={legendData}\n                    />\n                )\n            })}\n        </SvgWrapper>\n    )\n}\n\nStream.propTypes = StreamPropTypes\n\nconst WrappedStream = withContainer(Stream)\nWrappedStream.defaultProps = StreamDefaultProps\n\nexport default WrappedStream\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React from 'react'\nimport { ResponsiveWrapper } from '@bitbloom/nivo-core'\nimport Stream from './Stream'\n\nconst ResponsiveStream = props => (\n    <ResponsiveWrapper>\n        {({ width, height }) => <Stream width={width} height={height} {...props} />}\n    </ResponsiveWrapper>\n)\n\nexport default ResponsiveStream\n"],"names":["StreamLayer","layer","fillOpacity","borderWidth","getBorderColor","getTooltipLabel","isInteractive","useTooltip","showTooltipFromEvent","hideTooltip","handleMouseHover","useCallback","event","React","BasicTooltip","color","useMotionConfig","animate","springConfig","config","animatedProps","useSpring","path","immediate","animated","fill","undefined","memo","StreamLayers","layers","map","i","defineProperty","getDotY","datum","position","y","y2","y1","StreamDots","id","data","dotComponent","getSize","getColor","getBorderWidth","d","key","createElement","x","size","borderColor","arrayLikeToArray","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","StreamSlicesItem","slice","height","getTooltipValue","useState","isHover","setIsHover","rows","useMemo","stack","p","Chip","value","TableTooltip","handleMouseLeave","StreamSlices","slices","index","StreamDotsItem","radius","StreamPropTypes","PropTypes","arrayOf","object","isRequired","keys","array","order","stackOrderPropType","offsetType","stackOffsetPropType","curve","areaCurvePropType","axisTop","axisRight","axisBottom","axisLeft","enableGridX","bool","enableGridY","colors","ordinalColorsPropType","number","defs","shape","string","match","oneOfType","oneOf","func","inheritedColorPropType","enableDots","dotPosition","dotSize","dotColor","dotBorderWidth","dotBorderColor","tooltipLabel","tooltipFormat","enableStackTooltip","legends","LegendPropShape","role","StreamDefaultProps","from","modifiers","scheme","motionConfig","arrayWithoutHoles","iterableToArray","nonIterableSpread","stackMin","Math","min","reduce","acc","stackMax","max","useStream","width","areaGenerator","area","y0","curveFromProp","d3Stack","offset","stackOffsetFromProp","stackOrderFromProp","forEach","point","minValue","maxValue","scalePoint","domain","Array","length","_","range","scaleLinear","xScale","yScale","theme","useTheme","useOrdinalColorScale","useInheritedColor","getDotSize","getDotColor","getDotBorderWidth","getDotBorderColor","enhancedLayers","points","layerIndex","sliceStack","sort","a","b","useValueFormatter","Stream","partialMargin","margin","useDimensions","innerWidth","innerHeight","outerWidth","outerHeight","boundDefs","bindDefs","SvgWrapper","Grid","Axes","legend","legendData","l","label","reverse","BoxLegendSvg","WrappedStream","withContainer","defaultProps","ResponsiveStream","props","ResponsiveWrapper"],"mappings":"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"}