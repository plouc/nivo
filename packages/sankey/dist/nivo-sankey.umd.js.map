{"version":3,"file":"nivo-sankey.umd.js","sources":["../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../src/props.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../src/hooks.js","../src/SankeyNodesItem.js","../src/SankeyNodes.js","../src/SankeyLinkGradient.js","../src/SankeyLinksItem.js","../src/links.js","../src/SankeyLinks.js","../src/SankeyLabels.js","../src/Sankey.js","../src/ResponsiveSankey.js"],"sourcesContent":["export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, RaphaÃ«l Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport PropTypes from 'prop-types'\nimport { sankeyCenter, sankeyJustify, sankeyLeft, sankeyRight } from 'd3-sankey'\nimport { noop, blendModePropType, motionPropTypes } from '@bitbloom/nivo-core'\nimport { ordinalColorsPropType, inheritedColorPropType } from '@bitbloom/nivo-colors'\nimport { LegendPropShape } from '@bitbloom/nivo-legends'\n\nexport const sankeyAlignmentPropMapping = {\n    center: sankeyCenter,\n    justify: sankeyJustify,\n    start: sankeyLeft,\n    end: sankeyRight,\n}\n\nexport const sankeyAlignmentPropKeys = Object.keys(sankeyAlignmentPropMapping)\n\nexport const sankeyAlignmentPropType = PropTypes.oneOf(sankeyAlignmentPropKeys)\n\nexport const sankeyAlignmentFromProp = prop => sankeyAlignmentPropMapping[prop]\n\nexport const SankeyPropTypes = {\n    data: PropTypes.shape({\n        nodes: PropTypes.arrayOf(\n            PropTypes.shape({\n                id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n            })\n        ).isRequired,\n        links: PropTypes.arrayOf(\n            PropTypes.shape({\n                source: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n                target: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n            })\n        ).isRequired,\n    }).isRequired,\n\n    layout: PropTypes.oneOf(['horizontal', 'vertical']).isRequired,\n    align: sankeyAlignmentPropType.isRequired,\n    sort: PropTypes.oneOfType([\n        PropTypes.oneOf(['auto', 'input', 'ascending', 'descending']),\n        PropTypes.func,\n    ]).isRequired,\n\n    colors: ordinalColorsPropType.isRequired,\n\n    nodeOpacity: PropTypes.number.isRequired,\n    nodeHoverOpacity: PropTypes.number.isRequired,\n    nodeHoverOthersOpacity: PropTypes.number.isRequired,\n    nodeThickness: PropTypes.number.isRequired,\n    nodeSpacing: PropTypes.number.isRequired,\n    nodeInnerPadding: PropTypes.number.isRequired,\n    nodeBorderWidth: PropTypes.number.isRequired,\n    nodeBorderColor: inheritedColorPropType,\n\n    linkOpacity: PropTypes.number.isRequired,\n    linkHoverOpacity: PropTypes.number.isRequired,\n    linkHoverOthersOpacity: PropTypes.number.isRequired,\n    linkContract: PropTypes.number.isRequired,\n    linkBlendMode: blendModePropType.isRequired,\n    enableLinkGradient: PropTypes.bool.isRequired,\n\n    enableLabels: PropTypes.bool.isRequired,\n    labelPosition: PropTypes.oneOf(['inside', 'outside']).isRequired,\n    labelPadding: PropTypes.number.isRequired,\n    labelOrientation: PropTypes.oneOf(['horizontal', 'vertical']).isRequired,\n    labelTextColor: inheritedColorPropType,\n    label: PropTypes.oneOfType([PropTypes.string, PropTypes.func]).isRequired,\n    labelFormat: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n\n    nodeTooltip: PropTypes.func,\n    linkTooltip: PropTypes.func,\n\n    isInteractive: PropTypes.bool.isRequired,\n    onClick: PropTypes.func.isRequired,\n    tooltipFormat: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n\n    legends: PropTypes.arrayOf(PropTypes.shape(LegendPropShape)).isRequired,\n\n    layers: PropTypes.arrayOf(\n        PropTypes.oneOfType([\n            PropTypes.oneOf(['links', 'nodes', 'labels', 'legends']),\n            PropTypes.func,\n        ])\n    ).isRequired,\n\n    role: PropTypes.string.isRequired,\n\n    ...motionPropTypes,\n}\n\nexport const SankeyDefaultProps = {\n    layout: 'horizontal',\n    align: 'center',\n    sort: 'auto',\n\n    colors: { scheme: 'nivo' },\n\n    nodeOpacity: 0.75,\n    nodeHoverOpacity: 1,\n    nodeHoverOthersOpacity: 0.15,\n    nodeThickness: 12,\n    nodeSpacing: 12,\n    nodeInnerPadding: 0,\n    nodeBorderWidth: 1,\n    nodeBorderColor: { from: 'color', modifiers: [['darker', 0.5]] },\n\n    linkOpacity: 0.25,\n    linkHoverOpacity: 0.6,\n    linkHoverOthersOpacity: 0.15,\n    linkContract: 0,\n    linkBlendMode: 'multiply',\n    enableLinkGradient: false,\n\n    enableLabels: true,\n    label: 'id',\n    labelPosition: 'inside',\n    labelPadding: 9,\n    labelOrientation: 'horizontal',\n    labelTextColor: { from: 'color', modifiers: [['darker', 0.8]] },\n\n    isInteractive: true,\n    onClick: noop,\n\n    legends: [],\n\n    layers: ['links', 'nodes', 'labels', 'legends'],\n\n    role: 'img',\n\n    animate: true,\n    motionConfig: 'gentle',\n}\n","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","import { useState, useMemo } from 'react'\nimport { cloneDeep } from 'lodash'\nimport { sankey as d3Sankey } from 'd3-sankey'\nimport { useTheme, getLabelGenerator } from '@bitbloom/nivo-core'\nimport { useOrdinalColorScale, useInheritedColor } from '@bitbloom/nivo-colors'\nimport { sankeyAlignmentFromProp } from './props'\n\nconst getId = d => d.id\n\nexport const computeNodeAndLinks = ({\n    data: _data,\n    layout,\n    alignFunction,\n    sortFunction,\n    linkSortMode,\n    nodeThickness,\n    nodeSpacing,\n    nodeInnerPadding,\n    width,\n    height,\n    getColor,\n    getLinkColor,\n    getLabel,\n}) => {\n    const sankey = d3Sankey()\n        .nodeAlign(alignFunction)\n        .nodeSort(sortFunction)\n        .linkSort(linkSortMode)\n        .nodeWidth(nodeThickness)\n        .nodePadding(nodeSpacing)\n        .size(layout === 'horizontal' ? [width, height] : [height, width])\n        .nodeId(getId)\n\n    // deep clone is required as the sankey diagram mutates data\n    // we need a different identity for correct updates\n    const data = cloneDeep(_data)\n    sankey(data)\n\n    data.nodes.forEach(node => {\n        node.color = getColor(node)\n        node.label = getLabel(node)\n        if (layout === 'horizontal') {\n            node.x = node.x0 + nodeInnerPadding\n            node.y = node.y0\n            node.width = Math.max(node.x1 - node.x0 - nodeInnerPadding * 2, 0)\n            node.height = Math.max(node.y1 - node.y0, 0)\n        } else {\n            node.x = node.y0\n            node.y = node.x0 + nodeInnerPadding\n            node.width = Math.max(node.y1 - node.y0, 0)\n            node.height = Math.max(node.x1 - node.x0 - nodeInnerPadding * 2, 0)\n\n            const oldX0 = node.x0\n            const oldX1 = node.x1\n\n            node.x0 = node.y0\n            node.x1 = node.y1\n            node.y0 = oldX0\n            node.y1 = oldX1\n        }\n    })\n\n    data.links.forEach(link => {\n        link.color = getLinkColor(link)\n        link.pos0 = link.y0\n        link.pos1 = link.y1\n        link.thickness = link.width\n        delete link.y0\n        delete link.y1\n        delete link.width\n    })\n\n    return data\n}\n\nexport const useSankey = ({\n    data,\n    layout,\n    width,\n    height,\n    sort,\n    align,\n    colors,\n    nodeThickness,\n    nodeSpacing,\n    nodeInnerPadding,\n    nodeBorderColor,\n    label,\n    labelFormat,\n    labelTextColor,\n}) => {\n    const [currentNode, setCurrentNode] = useState(null)\n    const [currentLink, setCurrentLink] = useState(null)\n\n    const sortFunction = useMemo(() => {\n        if (sort === 'auto') return undefined\n        if (sort === 'input') return null\n        if (sort === 'ascending') return (a, b) => a.value - b.value\n        if (sort === 'descending') return (a, b) => b.value - a.value\n\n        return sort\n    }, [sort])\n\n    // If \"input\" sorting is used, apply this setting to links, too.\n    // (In d3, `null` means input sorting and `undefined` is the default)\n    const linkSortMode = sort === 'input' ? null : undefined\n\n    const alignFunction = useMemo(() => sankeyAlignmentFromProp(align), [align])\n\n    const theme = useTheme()\n\n    const getColor = useOrdinalColorScale(colors, 'id')\n    const getNodeBorderColor = useInheritedColor(nodeBorderColor, theme)\n    const getLinkColor = useOrdinalColorScale(colors, 'source.id')\n\n    const getLabel = useMemo(() => getLabelGenerator(label, labelFormat), [label, labelFormat])\n    const getLabelTextColor = useInheritedColor(labelTextColor, theme)\n\n    const { nodes, links } = useMemo(\n        () =>\n            computeNodeAndLinks({\n                data,\n                layout,\n                alignFunction,\n                sortFunction,\n                linkSortMode,\n                nodeThickness,\n                nodeSpacing,\n                nodeInnerPadding,\n                width,\n                height,\n                getColor,\n                getLinkColor,\n                getLabel,\n            }),\n        [\n            data,\n            layout,\n            alignFunction,\n            sortFunction,\n            linkSortMode,\n            nodeThickness,\n            nodeSpacing,\n            nodeInnerPadding,\n            width,\n            height,\n            getColor,\n            getLinkColor,\n            getLabel,\n        ]\n    )\n\n    const legendData = useMemo(\n        () =>\n            nodes.map(node => ({\n                id: node.id,\n                label: node.label,\n                color: node.color,\n            })),\n        [nodes]\n    )\n\n    return {\n        nodes,\n        links,\n        legendData,\n        getNodeBorderColor,\n        currentNode,\n        setCurrentNode,\n        currentLink,\n        setCurrentLink,\n        getLabelTextColor,\n    }\n}\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, RaphaÃ«l Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo, useCallback, useMemo } from 'react'\nimport PropTypes from 'prop-types'\nimport { useSpring, animated } from 'react-spring'\nimport { useMotionConfig } from '@bitbloom/nivo-core'\nimport { BasicTooltip, useTooltip } from '@bitbloom/nivo-tooltip'\n\nconst SankeyNodesItem = ({\n    node,\n    x,\n    y,\n    width,\n    height,\n    color,\n    opacity,\n    borderWidth,\n    borderColor,\n    setCurrent,\n    isInteractive,\n    onClick,\n    tooltip,\n}) => {\n    const { animate, config: springConfig } = useMotionConfig()\n    const animatedProps = useSpring({\n        x,\n        y,\n        width,\n        height,\n        opacity,\n        color,\n        config: springConfig,\n        immediate: !animate,\n    })\n\n    const { showTooltipFromEvent, hideTooltip } = useTooltip()\n\n    const tooltipContent = useMemo(() => {\n        if (tooltip) {\n            return <BasicTooltip id={tooltip(node)} enableChip={false} />\n        }\n\n        return <BasicTooltip id={node.label} enableChip={true} color={node.color} />\n    }, [tooltip, node])\n\n    const handleMouseEnter = useCallback(\n        event => {\n            setCurrent(node)\n            showTooltipFromEvent(tooltipContent, event, 'left')\n        },\n        [setCurrent, node, showTooltipFromEvent, tooltipContent]\n    )\n\n    const handleMouseMove = useCallback(\n        event => {\n            showTooltipFromEvent(tooltipContent, event, 'left')\n        },\n        [showTooltipFromEvent, tooltipContent]\n    )\n\n    const handleMouseLeave = useCallback(() => {\n        setCurrent(null)\n        hideTooltip()\n    }, [setCurrent, hideTooltip])\n\n    const handleClick = useCallback(\n        event => {\n            onClick(node, event)\n        },\n        [onClick, node]\n    )\n\n    return (\n        <animated.rect\n            x={animatedProps.x}\n            y={animatedProps.y}\n            width={animatedProps.width.interpolate(v => Math.max(v, 0))}\n            height={animatedProps.height.interpolate(v => Math.max(v, 0))}\n            fill={animatedProps.color}\n            fillOpacity={animatedProps.opacity}\n            strokeWidth={borderWidth}\n            stroke={borderColor}\n            strokeOpacity={opacity}\n            onMouseEnter={isInteractive ? handleMouseEnter : undefined}\n            onMouseMove={isInteractive ? handleMouseMove : undefined}\n            onMouseLeave={isInteractive ? handleMouseLeave : undefined}\n            onClick={isInteractive ? handleClick : undefined}\n        />\n    )\n}\n\nSankeyNodesItem.propTypes = {\n    node: PropTypes.shape({\n        id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n        label: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n        color: PropTypes.string.isRequired,\n    }),\n    x: PropTypes.number.isRequired,\n    y: PropTypes.number.isRequired,\n    width: PropTypes.number.isRequired,\n    height: PropTypes.number.isRequired,\n    color: PropTypes.string.isRequired,\n    opacity: PropTypes.number.isRequired,\n    borderWidth: PropTypes.number.isRequired,\n    borderColor: PropTypes.string.isRequired,\n    setCurrent: PropTypes.func.isRequired,\n    isInteractive: PropTypes.bool.isRequired,\n    onClick: PropTypes.func.isRequired,\n    tooltip: PropTypes.func,\n}\n\nexport default memo(SankeyNodesItem)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, RaphaÃ«l Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\nimport SankeyNodesItem from './SankeyNodesItem'\n\nconst SankeyNodes = ({\n    nodes,\n    nodeOpacity,\n    nodeHoverOpacity,\n    nodeHoverOthersOpacity,\n    nodeBorderWidth,\n    getNodeBorderColor,\n    setCurrentNode,\n    currentNode,\n    currentLink,\n    isCurrentNode,\n    isInteractive,\n    onClick,\n    tooltip,\n}) => {\n    const getOpacity = node => {\n        if (!currentNode && !currentLink) return nodeOpacity\n        if (isCurrentNode(node)) return nodeHoverOpacity\n        return nodeHoverOthersOpacity\n    }\n\n    return nodes.map(node => (\n        <SankeyNodesItem\n            key={node.id}\n            node={node}\n            x={node.x}\n            y={node.y}\n            width={node.width}\n            height={node.height}\n            color={node.color}\n            opacity={getOpacity(node)}\n            borderWidth={nodeBorderWidth}\n            borderColor={getNodeBorderColor(node)}\n            setCurrent={setCurrentNode}\n            isInteractive={isInteractive}\n            onClick={onClick}\n            tooltip={tooltip}\n        />\n    ))\n}\n\nSankeyNodes.propTypes = {\n    nodes: PropTypes.arrayOf(\n        PropTypes.shape({\n            id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n            x: PropTypes.number.isRequired,\n            y: PropTypes.number.isRequired,\n            width: PropTypes.number.isRequired,\n            height: PropTypes.number.isRequired,\n            color: PropTypes.string.isRequired,\n        })\n    ).isRequired,\n    nodeOpacity: PropTypes.number.isRequired,\n    nodeHoverOpacity: PropTypes.number.isRequired,\n    nodeHoverOthersOpacity: PropTypes.number.isRequired,\n    nodeBorderWidth: PropTypes.number.isRequired,\n    getNodeBorderColor: PropTypes.func.isRequired,\n    tooltip: PropTypes.func,\n    setCurrentNode: PropTypes.func.isRequired,\n    currentNode: PropTypes.object,\n    currentLink: PropTypes.object,\n    isCurrentNode: PropTypes.func.isRequired,\n    isInteractive: PropTypes.bool.isRequired,\n    onClick: PropTypes.func.isRequired,\n}\n\nexport default memo(SankeyNodes)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, RaphaÃ«l Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\n\nconst SankeyLinkGradient = memo(({ id, layout, startColor, endColor }) => {\n    const gradientProps = {}\n    if (layout === 'horizontal') {\n        gradientProps.x1 = '0%'\n        gradientProps.x2 = '100%'\n        gradientProps.y1 = '0%'\n        gradientProps.y2 = '0%'\n    } else {\n        gradientProps.x1 = '0%'\n        gradientProps.x2 = '0%'\n        gradientProps.y1 = '0%'\n        gradientProps.y2 = '100%'\n    }\n\n    return (\n        <linearGradient id={id} spreadMethod=\"pad\" {...gradientProps}>\n            <stop offset=\"0%\" stopColor={startColor} />\n            <stop offset=\"100%\" stopColor={endColor} />\n        </linearGradient>\n    )\n})\n\nSankeyLinkGradient.propTypes = {\n    id: PropTypes.string.isRequired,\n    layout: PropTypes.oneOf(['horizontal', 'vertical']).isRequired,\n    startColor: PropTypes.string.isRequired,\n    endColor: PropTypes.string.isRequired,\n}\n\nSankeyLinkGradient.displayName = 'SankeyLinkGradient'\n\nexport default SankeyLinkGradient\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, RaphaÃ«l Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo, useCallback, useMemo } from 'react'\nimport PropTypes from 'prop-types'\nimport { useSpring, animated } from 'react-spring'\nimport { blendModePropType, useMotionConfig } from '@bitbloom/nivo-core'\nimport { BasicTooltip, Chip, useTooltip } from '@bitbloom/nivo-tooltip'\nimport SankeyLinkGradient from './SankeyLinkGradient'\n\nconst tooltipStyles = {\n    container: {\n        display: 'flex',\n        alignItems: 'center',\n    },\n    sourceChip: {\n        marginRight: 7,\n    },\n    targetChip: {\n        marginLeft: 7,\n        marginRight: 7,\n    },\n}\n\nconst TooltipContent = ({ link, format }) => (\n    <span style={tooltipStyles.container}>\n        <Chip color={link.source.color} style={tooltipStyles.sourceChip} />\n        <strong>{link.source.label}</strong>\n        {' > '}\n        <strong>{link.target.label}</strong>\n        <Chip color={link.target.color} style={tooltipStyles.targetChip} />\n        <strong>{format ? format(link.value) : link.value}</strong>\n    </span>\n)\n\nTooltipContent.propTypes = {\n    link: PropTypes.shape({\n        source: PropTypes.shape({\n            id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n            label: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n            color: PropTypes.string.isRequired,\n        }).isRequired,\n        target: PropTypes.shape({\n            id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n            label: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n            color: PropTypes.string.isRequired,\n        }).isRequired,\n        color: PropTypes.string.isRequired,\n        value: PropTypes.number.isRequired,\n    }).isRequired,\n    format: PropTypes.func,\n}\n\nconst SankeyLinksItem = ({\n    link,\n    layout,\n    path,\n    color,\n    opacity,\n    blendMode,\n    enableGradient,\n    setCurrent,\n    tooltip,\n    tooltipFormat,\n    isInteractive,\n    onClick,\n}) => {\n    const linkId = `${link.source.id}.${link.target.id}`\n\n    const { animate, config: springConfig } = useMotionConfig()\n    const animatedProps = useSpring({\n        path,\n        color,\n        opacity,\n        config: springConfig,\n        immediate: !animate,\n    })\n\n    const { showTooltipFromEvent, hideTooltip } = useTooltip()\n\n    const tooltipContent = useMemo(() => {\n        if (tooltip) {\n            return <BasicTooltip id={tooltip(link)} enableChip={false} />\n        }\n\n        return <BasicTooltip id={<TooltipContent format={tooltipFormat} link={link} />} />\n    }, [tooltip, tooltipFormat, link])\n\n    const handleMouseEnter = useCallback(\n        event => {\n            setCurrent(link)\n            showTooltipFromEvent(tooltipContent, event, 'left')\n        },\n        [setCurrent, link, showTooltipFromEvent, tooltipContent]\n    )\n\n    const handleMouseMove = useCallback(\n        event => {\n            showTooltipFromEvent(tooltipContent, event, 'left')\n        },\n        [showTooltipFromEvent, tooltipContent]\n    )\n\n    const handleMouseLeave = useCallback(() => {\n        setCurrent(null)\n        hideTooltip()\n    }, [setCurrent, hideTooltip])\n\n    const handleClick = useCallback(\n        event => {\n            onClick(link, event)\n        },\n        [onClick, link]\n    )\n\n    return (\n        <>\n            {enableGradient && (\n                <SankeyLinkGradient\n                    id={linkId}\n                    layout={layout}\n                    startColor={link.startColor || link.source.color}\n                    endColor={link.endColor || link.target.color}\n                />\n            )}\n            <animated.path\n                fill={enableGradient ? `url(#${encodeURI(linkId)})` : animatedProps.color}\n                d={animatedProps.path}\n                fillOpacity={animatedProps.opacity}\n                onMouseEnter={isInteractive ? handleMouseEnter : undefined}\n                onMouseMove={isInteractive ? handleMouseMove : undefined}\n                onMouseLeave={isInteractive ? handleMouseLeave : undefined}\n                onClick={isInteractive ? handleClick : undefined}\n                style={{ mixBlendMode: blendMode }}\n            />\n        </>\n    )\n}\n\nSankeyLinksItem.propTypes = {\n    link: PropTypes.shape({\n        source: PropTypes.shape({\n            id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n            label: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n            color: PropTypes.string.isRequired,\n        }).isRequired,\n        target: PropTypes.shape({\n            id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n            label: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n            color: PropTypes.string.isRequired,\n        }).isRequired,\n        color: PropTypes.string.isRequired,\n        value: PropTypes.number.isRequired,\n        startColor: PropTypes.string,\n        endColor: PropTypes.string,\n    }).isRequired,\n    layout: PropTypes.oneOf(['horizontal', 'vertical']).isRequired,\n    path: PropTypes.string.isRequired,\n    color: PropTypes.string.isRequired,\n    opacity: PropTypes.number.isRequired,\n    blendMode: blendModePropType.isRequired,\n    enableGradient: PropTypes.bool.isRequired,\n    setCurrent: PropTypes.func.isRequired,\n    isInteractive: PropTypes.bool.isRequired,\n    onClick: PropTypes.func.isRequired,\n    tooltip: PropTypes.func,\n    tooltipFormat: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n}\n\nexport default memo(SankeyLinksItem)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, RaphaÃ«l Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { line, curveMonotoneX, curveMonotoneY } from 'd3-shape'\n\nexport const sankeyLinkHorizontal = () => {\n    const lineGenerator = line().curve(curveMonotoneX)\n\n    return (n, contract) => {\n        const thickness = Math.max(1, n.thickness - contract * 2)\n        const halfThickness = thickness / 2\n        const linkLength = n.target.x0 - n.source.x1\n        const padLength = linkLength * 0.12\n\n        const dots = [\n            [n.source.x1, n.pos0 - halfThickness],\n            [n.source.x1 + padLength, n.pos0 - halfThickness],\n            [n.target.x0 - padLength, n.pos1 - halfThickness],\n            [n.target.x0, n.pos1 - halfThickness],\n            [n.target.x0, n.pos1 + halfThickness],\n            [n.target.x0 - padLength, n.pos1 + halfThickness],\n            [n.source.x1 + padLength, n.pos0 + halfThickness],\n            [n.source.x1, n.pos0 + halfThickness],\n            [n.source.x1, n.pos0 - halfThickness],\n        ]\n\n        return lineGenerator(dots) + 'Z'\n    }\n}\n\nexport const sankeyLinkVertical = () => {\n    const lineGenerator = line().curve(curveMonotoneY)\n\n    return (n, contract) => {\n        const thickness = Math.max(1, n.thickness - contract * 2)\n        const halfThickness = thickness / 2\n        const linkLength = n.target.y0 - n.source.y1\n        const padLength = linkLength * 0.12\n\n        const dots = [\n            [n.pos0 + halfThickness, n.source.y1],\n            [n.pos0 + halfThickness, n.source.y1 + padLength],\n            [n.pos1 + halfThickness, n.target.y0 - padLength],\n            [n.pos1 + halfThickness, n.target.y0],\n            [n.pos1 - halfThickness, n.target.y0],\n            [n.pos1 - halfThickness, n.target.y0 - padLength],\n            [n.pos0 - halfThickness, n.source.y1 + padLength],\n            [n.pos0 - halfThickness, n.source.y1],\n            [n.pos0 + halfThickness, n.source.y1],\n        ]\n\n        return lineGenerator(dots) + 'Z'\n    }\n}\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, RaphaÃ«l Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\nimport { blendModePropType } from '@bitbloom/nivo-core'\nimport SankeyLinksItem from './SankeyLinksItem'\nimport { sankeyLinkHorizontal, sankeyLinkVertical } from './links'\n\nconst SankeyLinks = ({\n    links,\n    layout,\n    linkOpacity,\n    linkHoverOpacity,\n    linkHoverOthersOpacity,\n    linkContract,\n    linkBlendMode,\n    enableLinkGradient,\n    setCurrentLink,\n    currentNode,\n    currentLink,\n    isCurrentLink,\n    isInteractive,\n    onClick,\n    tooltipFormat,\n    tooltip,\n}) => {\n    const getOpacity = link => {\n        if (!currentNode && !currentLink) return linkOpacity\n        if (isCurrentLink(link)) return linkHoverOpacity\n        return linkHoverOthersOpacity\n    }\n\n    const getLinkPath = layout === 'horizontal' ? sankeyLinkHorizontal() : sankeyLinkVertical()\n\n    return links.map(link => (\n        <SankeyLinksItem\n            key={`${link.source.id}.${link.target.id}`}\n            link={link}\n            layout={layout}\n            path={getLinkPath(link, linkContract)}\n            color={link.color}\n            opacity={getOpacity(link)}\n            blendMode={linkBlendMode}\n            enableGradient={enableLinkGradient}\n            setCurrent={setCurrentLink}\n            isInteractive={isInteractive}\n            onClick={onClick}\n            tooltip={tooltip}\n            tooltipFormat={tooltipFormat}\n        />\n    ))\n}\n\nSankeyLinks.propTypes = {\n    layout: PropTypes.oneOf(['horizontal', 'vertical']).isRequired,\n    links: PropTypes.arrayOf(\n        PropTypes.shape({\n            source: PropTypes.shape({\n                id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n                label: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n            }).isRequired,\n            target: PropTypes.shape({\n                id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n                label: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n            }).isRequired,\n            thickness: PropTypes.number.isRequired,\n            color: PropTypes.string.isRequired,\n        })\n    ).isRequired,\n    linkOpacity: PropTypes.number.isRequired,\n    linkHoverOpacity: PropTypes.number.isRequired,\n    linkHoverOthersOpacity: PropTypes.number.isRequired,\n    linkContract: PropTypes.number.isRequired,\n    linkBlendMode: blendModePropType.isRequired,\n    enableLinkGradient: PropTypes.bool.isRequired,\n    tooltip: PropTypes.func,\n    setCurrentLink: PropTypes.func.isRequired,\n    currentLink: PropTypes.object,\n    isCurrentLink: PropTypes.func.isRequired,\n    isInteractive: PropTypes.bool.isRequired,\n    onClick: PropTypes.func.isRequired,\n}\n\nexport default memo(SankeyLinks)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, RaphaÃ«l Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\nimport { useSprings, animated } from 'react-spring'\nimport { useTheme, useMotionConfig } from '@bitbloom/nivo-core'\n\nconst SankeyLabels = ({\n    nodes,\n    layout,\n    width,\n    height,\n    labelPosition,\n    labelPadding,\n    labelOrientation,\n    getLabelTextColor,\n}) => {\n    const theme = useTheme()\n\n    const labelRotation = labelOrientation === 'vertical' ? -90 : 0\n    const labels = nodes.map(node => {\n        let x\n        let y\n        let textAnchor\n        if (layout === 'horizontal') {\n            y = node.y + node.height / 2\n            if (node.x < width / 2) {\n                if (labelPosition === 'inside') {\n                    x = node.x1 + labelPadding\n                    textAnchor = labelOrientation === 'vertical' ? 'middle' : 'start'\n                } else {\n                    x = node.x - labelPadding\n                    textAnchor = labelOrientation === 'vertical' ? 'middle' : 'end'\n                }\n            } else {\n                if (labelPosition === 'inside') {\n                    x = node.x - labelPadding\n                    textAnchor = labelOrientation === 'vertical' ? 'middle' : 'end'\n                } else {\n                    x = node.x1 + labelPadding\n                    textAnchor = labelOrientation === 'vertical' ? 'middle' : 'start'\n                }\n            }\n        } else if (layout === 'vertical') {\n            x = node.x + node.width / 2\n            if (node.y < height / 2) {\n                if (labelPosition === 'inside') {\n                    y = node.y1 + labelPadding\n                    textAnchor = labelOrientation === 'vertical' ? 'end' : 'middle'\n                } else {\n                    y = node.y - labelPadding\n                    textAnchor = labelOrientation === 'vertical' ? 'start' : 'middle'\n                }\n            } else {\n                if (labelPosition === 'inside') {\n                    y = node.y - labelPadding\n                    textAnchor = labelOrientation === 'vertical' ? 'start' : 'middle'\n                } else {\n                    y = node.y1 + labelPadding\n                    textAnchor = labelOrientation === 'vertical' ? 'end' : 'middle'\n                }\n            }\n        }\n\n        return {\n            id: node.id,\n            label: node.label,\n            x,\n            y,\n            textAnchor,\n            color: getLabelTextColor(node),\n        }\n    })\n\n    const { animate, config: springConfig } = useMotionConfig()\n    const springs = useSprings(\n        labels.length,\n        labels.map(label => ({\n            transform: `translate(${label.x}, ${label.y}) rotate(${labelRotation})`,\n            color: label.color,\n            config: springConfig,\n            immediate: !animate,\n        }))\n    )\n\n    return springs.map((animatedProps, index) => {\n        const label = labels[index]\n\n        return (\n            <animated.text\n                key={label.id}\n                dominantBaseline=\"central\"\n                textAnchor={label.textAnchor}\n                transform={animatedProps.transform}\n                style={{\n                    ...theme.labels.text,\n                    fill: animatedProps.color,\n                    pointerEvents: 'none',\n                }}\n            >\n                {label.label}\n            </animated.text>\n        )\n    })\n}\n\nSankeyLabels.propTypes = {\n    nodes: PropTypes.arrayOf(\n        PropTypes.shape({\n            id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n            label: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n            x1: PropTypes.number.isRequired,\n            x: PropTypes.number.isRequired,\n            y: PropTypes.number.isRequired,\n            width: PropTypes.number.isRequired,\n            height: PropTypes.number.isRequired,\n        })\n    ).isRequired,\n    layout: PropTypes.oneOf(['horizontal', 'vertical']).isRequired,\n    width: PropTypes.number.isRequired,\n    height: PropTypes.number.isRequired,\n    labelPosition: PropTypes.oneOf(['inside', 'outside']).isRequired,\n    labelPadding: PropTypes.number.isRequired,\n    labelOrientation: PropTypes.oneOf(['horizontal', 'vertical']).isRequired,\n    getLabelTextColor: PropTypes.func.isRequired,\n}\n\nexport default memo(SankeyLabels)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, RaphaÃ«l Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { Fragment } from 'react'\nimport { uniq } from 'lodash'\nimport { SvgWrapper, useDimensions, withContainer } from '@bitbloom/nivo-core'\nimport { BoxLegendSvg } from '@bitbloom/nivo-legends'\nimport { SankeyDefaultProps, SankeyPropTypes } from './props'\nimport { useSankey } from './hooks'\nimport SankeyNodes from './SankeyNodes'\nimport SankeyLinks from './SankeyLinks'\nimport SankeyLabels from './SankeyLabels'\n\nconst Sankey = ({\n    data,\n    layout,\n    sort,\n    align,\n    width,\n    height,\n    margin: partialMargin,\n    colors,\n    nodeThickness,\n    nodeSpacing,\n    nodeInnerPadding,\n    nodeBorderColor,\n    nodeOpacity,\n    nodeHoverOpacity,\n    nodeHoverOthersOpacity,\n    nodeBorderWidth,\n    linkOpacity,\n    linkHoverOpacity,\n    linkHoverOthersOpacity,\n    linkContract,\n    linkBlendMode,\n    enableLinkGradient,\n    enableLabels,\n    labelPosition,\n    labelPadding,\n    labelOrientation,\n    label,\n    labelFormat,\n    labelTextColor,\n    nodeTooltip,\n    linkTooltip,\n    isInteractive,\n    onClick,\n    tooltipFormat,\n    legends,\n    layers,\n    role,\n}) => {\n    const { margin, innerWidth, innerHeight, outerWidth, outerHeight } = useDimensions(\n        width,\n        height,\n        partialMargin\n    )\n\n    const {\n        nodes,\n        links,\n        legendData,\n        getNodeBorderColor,\n        currentNode,\n        setCurrentNode,\n        currentLink,\n        setCurrentLink,\n        getLabelTextColor,\n    } = useSankey({\n        data,\n        layout,\n        width: innerWidth,\n        height: innerHeight,\n        sort,\n        align,\n        colors,\n        nodeThickness,\n        nodeSpacing,\n        nodeInnerPadding,\n        nodeBorderColor,\n        label,\n        labelFormat,\n        labelTextColor,\n    })\n\n    let isCurrentNode = () => false\n    let isCurrentLink = () => false\n\n    if (currentLink) {\n        isCurrentNode = ({ id }) => id === currentLink.source.id || id === currentLink.target.id\n        isCurrentLink = ({ source, target }) =>\n            source.id === currentLink.source.id && target.id === currentLink.target.id\n    }\n\n    if (currentNode) {\n        let currentNodeIds = [currentNode.id]\n        links\n            .filter(\n                ({ source, target }) => source.id === currentNode.id || target.id === currentNode.id\n            )\n            .forEach(({ source, target }) => {\n                currentNodeIds.push(source.id)\n                currentNodeIds.push(target.id)\n            })\n\n        currentNodeIds = uniq(currentNodeIds)\n        isCurrentNode = ({ id }) => currentNodeIds.includes(id)\n        isCurrentLink = ({ source, target }) =>\n            source.id === currentNode.id || target.id === currentNode.id\n    }\n\n    const layerProps = {\n        links,\n        nodes,\n        margin,\n        width,\n        height,\n        outerWidth,\n        outerHeight,\n    }\n\n    const layerById = {\n        links: (\n            <SankeyLinks\n                key=\"links\"\n                links={links}\n                layout={layout}\n                linkContract={linkContract}\n                linkOpacity={linkOpacity}\n                linkHoverOpacity={linkHoverOpacity}\n                linkHoverOthersOpacity={linkHoverOthersOpacity}\n                linkBlendMode={linkBlendMode}\n                enableLinkGradient={enableLinkGradient}\n                setCurrentLink={setCurrentLink}\n                currentNode={currentNode}\n                currentLink={currentLink}\n                isCurrentLink={isCurrentLink}\n                isInteractive={isInteractive}\n                onClick={onClick}\n                tooltip={linkTooltip}\n                tooltipFormat={tooltipFormat}\n            />\n        ),\n        nodes: (\n            <SankeyNodes\n                key=\"nodes\"\n                nodes={nodes}\n                nodeOpacity={nodeOpacity}\n                nodeHoverOpacity={nodeHoverOpacity}\n                nodeHoverOthersOpacity={nodeHoverOthersOpacity}\n                nodeBorderWidth={nodeBorderWidth}\n                getNodeBorderColor={getNodeBorderColor}\n                setCurrentNode={setCurrentNode}\n                currentNode={currentNode}\n                currentLink={currentLink}\n                isCurrentNode={isCurrentNode}\n                isInteractive={isInteractive}\n                onClick={onClick}\n                tooltip={nodeTooltip}\n                tooltipFormat={tooltipFormat}\n            />\n        ),\n        labels: null,\n        legends: legends.map((legend, i) => (\n            <BoxLegendSvg\n                key={`legend${i}`}\n                {...legend}\n                containerWidth={innerWidth}\n                containerHeight={innerHeight}\n                data={legendData}\n            />\n        )),\n    }\n\n    if (enableLabels) {\n        layerById.labels = (\n            <SankeyLabels\n                key=\"labels\"\n                nodes={nodes}\n                layout={layout}\n                width={innerWidth}\n                height={innerHeight}\n                labelPosition={labelPosition}\n                labelPadding={labelPadding}\n                labelOrientation={labelOrientation}\n                getLabelTextColor={getLabelTextColor}\n            />\n        )\n    }\n\n    return (\n        <SvgWrapper width={outerWidth} height={outerHeight} margin={margin} role={role}>\n            {layers.map((layer, i) => {\n                if (typeof layer === 'function') {\n                    return <Fragment key={i}>{layer(layerProps)}</Fragment>\n                }\n\n                return layerById[layer]\n            })}\n        </SvgWrapper>\n    )\n}\n\nSankey.propTypes = SankeyPropTypes\n\nconst WrappedSankey = withContainer(Sankey)\nWrappedSankey.defaultProps = SankeyDefaultProps\n\nexport default WrappedSankey\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, RaphaÃ«l Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React from 'react'\nimport { ResponsiveWrapper } from '@bitbloom/nivo-core'\nimport Sankey from './Sankey'\n\nconst ResponsiveSankey = props => (\n    <ResponsiveWrapper>\n        {({ width, height }) => <Sankey width={width} height={height} {...props} />}\n    </ResponsiveWrapper>\n)\n\nexport default ResponsiveSankey\n"],"names":["defineProperty","sankeyAlignmentPropMapping","center","sankeyCenter","justify","sankeyJustify","start","sankeyLeft","end","sankeyRight","sankeyAlignmentPropKeys","Object","keys","sankeyAlignmentPropType","PropTypes","oneOf","sankeyAlignmentFromProp","prop","SankeyPropTypes","data","shape","nodes","arrayOf","id","oneOfType","string","number","isRequired","links","source","target","layout","align","sort","func","colors","ordinalColorsPropType","nodeOpacity","nodeHoverOpacity","nodeHoverOthersOpacity","nodeThickness","nodeSpacing","nodeInnerPadding","nodeBorderWidth","nodeBorderColor","inheritedColorPropType","linkOpacity","linkHoverOpacity","linkHoverOthersOpacity","linkContract","linkBlendMode","blendModePropType","enableLinkGradient","bool","enableLabels","labelPosition","labelPadding","labelOrientation","labelTextColor","label","labelFormat","nodeTooltip","linkTooltip","isInteractive","onClick","tooltipFormat","legends","LegendPropShape","layers","role","motionPropTypes","SankeyDefaultProps","scheme","from","modifiers","noop","animate","motionConfig","arrayLikeToArray","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","getId","d","computeNodeAndLinks","_data","alignFunction","sortFunction","linkSortMode","width","height","getColor","getLinkColor","getLabel","sankey","d3Sankey","nodeAlign","nodeSort","linkSort","nodeWidth","nodePadding","size","nodeId","cloneDeep","forEach","node","color","x","x0","y","y0","Math","max","x1","y1","oldX0","oldX1","link","pos0","pos1","thickness","useSankey","useState","currentNode","setCurrentNode","currentLink","setCurrentLink","useMemo","undefined","a","b","value","theme","useTheme","useOrdinalColorScale","getNodeBorderColor","useInheritedColor","getLabelGenerator","getLabelTextColor","legendData","map","SankeyNodesItem","opacity","borderWidth","borderColor","setCurrent","tooltip","useMotionConfig","springConfig","config","animatedProps","useSpring","immediate","useTooltip","showTooltipFromEvent","hideTooltip","tooltipContent","React","BasicTooltip","handleMouseEnter","useCallback","event","handleMouseMove","handleMouseLeave","handleClick","animated","interpolate","v","memo","SankeyNodes","isCurrentNode","getOpacity","SankeyLinkGradient","startColor","endColor","gradientProps","x2","y2","displayName","tooltipStyles","container","display","alignItems","sourceChip","marginRight","targetChip","marginLeft","TooltipContent","format","Chip","SankeyLinksItem","path","blendMode","enableGradient","linkId","encodeURI","mixBlendMode","sankeyLinkHorizontal","lineGenerator","line","curve","curveMonotoneX","n","contract","halfThickness","linkLength","padLength","dots","sankeyLinkVertical","curveMonotoneY","SankeyLinks","isCurrentLink","getLinkPath","SankeyLabels","labelRotation","labels","textAnchor","springs","useSprings","length","transform","index","text","fill","pointerEvents","Sankey","partialMargin","margin","useDimensions","innerWidth","innerHeight","outerWidth","outerHeight","currentNodeIds","filter","push","uniq","includes","layerProps","layerById","legend","i","BoxLegendSvg","SvgWrapper","layer","Fragment","WrappedSankey","withContainer","defaultProps","ResponsiveSankey","props","ResponsiveWrapper"],"mappings":"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"}