{"version":3,"file":"nivo-calendar.umd.js","sources":["../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../src/CalendarTooltip.js","../src/props.js","../src/CalendarYearLegends.js","../src/CalendarMonthPath.js","../src/CalendarMonthLegends.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../src/compute.js","../src/hooks.js","../src/CalendarDay.js","../src/Calendar.js","../src/ResponsiveCalendar.js","../src/CalendarCanvas.js","../src/ResponsiveCalendarCanvas.js"],"sourcesContent":["export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\nimport { BasicTooltip } from '@bitbloom/nivo-tooltip'\n\nconst CalendarTooltip = memo(({ value, day, color }) => {\n    if (value === undefined || isNaN(value)) return null\n    return <BasicTooltip id={day} value={value} color={color} enableChip={true} />\n})\n\nCalendarTooltip.displayName = 'CalendarTooltip'\nCalendarTooltip.propTypes = {\n    value: PropTypes.object.isRequired,\n    day: PropTypes.object.isRequired,\n    color: PropTypes.object.isRequired,\n}\n\nexport default CalendarTooltip\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport PropTypes from 'prop-types'\nimport { timeFormat } from 'd3-time-format'\nimport { boxAlignments } from '@bitbloom/nivo-core'\nimport { LegendPropShape } from '@bitbloom/nivo-legends'\nimport CalendarTooltip from './CalendarTooltip'\n\nconst monthLabelFormat = timeFormat('%b')\n\nconst commonPropTypes = {\n    from: PropTypes.oneOfType([PropTypes.string, PropTypes.instanceOf(Date)]).isRequired,\n    to: PropTypes.oneOfType([PropTypes.string, PropTypes.instanceOf(Date)]).isRequired,\n    data: PropTypes.arrayOf(\n        PropTypes.shape({\n            day: PropTypes.string.isRequired,\n            value: PropTypes.number.isRequired,\n        })\n    ).isRequired,\n\n    align: PropTypes.oneOf(boxAlignments).isRequired,\n\n    minValue: PropTypes.oneOfType([PropTypes.oneOf(['auto']), PropTypes.number]).isRequired,\n    maxValue: PropTypes.oneOfType([PropTypes.oneOf(['auto']), PropTypes.number]).isRequired,\n\n    colors: PropTypes.arrayOf(PropTypes.string).isRequired,\n    colorScale: PropTypes.func,\n\n    direction: PropTypes.oneOf(['horizontal', 'vertical']),\n    emptyColor: PropTypes.string.isRequired,\n\n    yearLegend: PropTypes.func.isRequired,\n    yearSpacing: PropTypes.number.isRequired,\n    yearLegendPosition: PropTypes.oneOf(['before', 'after']).isRequired,\n    yearLegendOffset: PropTypes.number.isRequired,\n\n    monthBorderWidth: PropTypes.number.isRequired,\n    monthBorderColor: PropTypes.string.isRequired,\n    monthLegend: PropTypes.func.isRequired,\n    monthSpacing: PropTypes.number.isRequired,\n    monthLegendPosition: PropTypes.oneOf(['before', 'after']).isRequired,\n    monthLegendOffset: PropTypes.number.isRequired,\n\n    daySpacing: PropTypes.number.isRequired,\n    dayBorderWidth: PropTypes.number.isRequired,\n    dayBorderColor: PropTypes.string.isRequired,\n\n    isInteractive: PropTypes.bool,\n    onClick: PropTypes.func,\n    onMouseEnter: PropTypes.func,\n    onMouseLeave: PropTypes.func,\n    onMouseMove: PropTypes.func,\n    tooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n    valueFormat: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n    legendFormat: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n    legends: PropTypes.arrayOf(\n        PropTypes.shape({\n            ...LegendPropShape,\n            itemCount: PropTypes.number.isRequired,\n        })\n    ).isRequired,\n}\n\nexport const CalendarPropTypes = {\n    ...commonPropTypes,\n    role: PropTypes.string.isRequired,\n}\n\nexport const CalendarCanvasPropTypes = {\n    ...commonPropTypes,\n    pixelRatio: PropTypes.number.isRequired,\n}\n\nconst commonDefaultProps = {\n    colors: ['#61cdbb', '#97e3d5', '#e8c1a0', '#f47560'],\n\n    align: 'center',\n    direction: 'horizontal',\n    emptyColor: '#fff',\n\n    minValue: 0,\n    maxValue: 'auto',\n\n    yearSpacing: 30,\n    yearLegend: year => year,\n    yearLegendPosition: 'before',\n    yearLegendOffset: 10,\n\n    monthBorderWidth: 2,\n    monthBorderColor: '#000',\n    monthSpacing: 0,\n    monthLegend: (year, month, date) => monthLabelFormat(date),\n    monthLegendPosition: 'before',\n    monthLegendOffset: 10,\n\n    weekdayLegend: d => d,\n    daySpacing: 0,\n    dayBorderWidth: 1,\n    dayBorderColor: '#000',\n\n    isInteractive: true,\n\n    legends: [],\n    tooltip: CalendarTooltip,\n}\n\nexport const CalendarDefaultProps = {\n    ...commonDefaultProps,\n    role: 'img',\n}\n\nexport const CalendarCanvasDefaultProps = {\n    ...commonDefaultProps,\n    pixelRatio:\n        global.window && global.window.devicePixelRatio ? global.window.devicePixelRatio : 1,\n}\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\n\nconst CalendarYearLegends = memo(({ years, legend, theme }) => {\n    return (\n        <>\n            {years.map(year => {\n                return (\n                    <text\n                        key={year.year}\n                        transform={`translate(${year.x},${year.y}) rotate(${year.rotation})`}\n                        textAnchor=\"middle\"\n                        style={theme.labels.text}\n                    >\n                        {legend(year.year)}\n                    </text>\n                )\n            })}\n        </>\n    )\n})\n\nCalendarYearLegends.propTypes = {\n    years: PropTypes.array.isRequired,\n    legend: PropTypes.func.isRequired,\n    theme: PropTypes.object.isRequired,\n}\n\nCalendarYearLegends.displayName = 'CalendarYearLegends'\n\nexport default CalendarYearLegends\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\n\nconst CalendarMonthPath = memo(({ path, borderWidth, borderColor }) => {\n    return (\n        <path\n            d={path}\n            style={{\n                fill: 'none',\n                strokeWidth: borderWidth,\n                stroke: borderColor,\n                pointerEvents: 'none',\n            }}\n        />\n    )\n})\n\nCalendarMonthPath.propTypes = {\n    path: PropTypes.string.isRequired,\n    borderWidth: PropTypes.number.isRequired,\n    borderColor: PropTypes.string.isRequired,\n}\n\nCalendarMonthPath.displayName = 'CalendarMonthPath'\n\nexport default CalendarMonthPath\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\n\nconst CalendarMonthLegends = memo(({ months, legend, theme }) => {\n    return (\n        <>\n            {months.map(month => {\n                return (\n                    <text\n                        key={`${month.date.toString()}.legend`}\n                        transform={`translate(${month.x},${month.y}) rotate(${month.rotation})`}\n                        textAnchor=\"middle\"\n                        style={theme.labels.text}\n                    >\n                        {legend(month.year, month.month, month.date)}\n                    </text>\n                )\n            })}\n        </>\n    )\n})\n\nCalendarMonthLegends.propTypes = {\n    months: PropTypes.array.isRequired,\n    legend: PropTypes.func.isRequired,\n    theme: PropTypes.object.isRequired,\n}\n\nCalendarMonthLegends.displayName = 'CalendarMonthLegends'\n\nexport default CalendarMonthLegends\n","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport memoize from 'lodash.memoize'\nimport isDate from 'lodash.isdate'\nimport range from 'lodash.range'\nimport { alignBox } from '@bitbloom/nivo-core'\nimport { timeFormat } from 'd3-time-format'\nimport { timeDays, timeWeek, timeWeeks, timeMonths, timeYear } from 'd3-time'\n\n/**\n * Compute min/max values.\n *\n * @param {Array<>}       data\n * @param {number|'auto'} minSpec - Define the strategy to use to compute min value, if number, it will be used, if 'auto', will use the lower value from the dataset\n * @param {number|'auto'} maxSpec - Define the strategy to use to compute max value, if number, it will be used, if 'auto', will use the higher value from the dataset\n * @return {[number, string]}\n */\nexport const computeDomain = (data, minSpec, maxSpec) => {\n    const allValues = data.map(d => d.value)\n    const minValue = minSpec === 'auto' ? Math.min(...allValues) : minSpec\n    const maxValue = maxSpec === 'auto' ? Math.max(...allValues) : maxSpec\n\n    return [minValue, maxValue]\n}\n\n/**\n * Compute day cell size according to current context.\n *\n * @param {number} width\n * @param {number} height\n * @param {number} direction\n * @param {array}  yearRange\n * @param {number} yearSpacing\n * @param {number} monthSpacing\n * @param {number} daySpacing\n * @param {number} maxWeeks\n * @returns {number}\n */\nconst computeCellSize = ({\n    width,\n    height,\n    direction,\n    yearRange,\n    yearSpacing,\n    monthSpacing,\n    daySpacing,\n    maxWeeks,\n}) => {\n    let hCellSize\n    let vCellSize\n\n    if (direction === 'horizontal') {\n        hCellSize = (width - monthSpacing * 12 - daySpacing * maxWeeks) / maxWeeks\n        vCellSize =\n            (height - (yearRange.length - 1) * yearSpacing - yearRange.length * (8 * daySpacing)) /\n            (yearRange.length * 7)\n    } else {\n        hCellSize =\n            (width - (yearRange.length - 1) * yearSpacing - yearRange.length * (8 * daySpacing)) /\n            (yearRange.length * 7)\n        vCellSize = (height - monthSpacing * 12 - daySpacing * maxWeeks) / maxWeeks\n    }\n\n    return Math.min(hCellSize, vCellSize)\n}\n\n/**\n * Computes month path and bounding box.\n *\n * @param {Date}   date\n * @param {number} cellSize\n * @param {number} yearIndex\n * @param {number} yearSpacing\n * @param {number} monthSpacing\n * @param {number} daySpacing\n * @param {string} direction\n * @param {number} originX\n * @param {number} originY\n * @returns { { path: string, bbox: { x: number, y: number, width: number, height: number } } }\n */\nconst monthPathAndBBox = ({\n    date,\n    cellSize,\n    yearIndex,\n    yearSpacing,\n    monthSpacing,\n    daySpacing,\n    direction,\n    originX,\n    originY,\n}) => {\n    // first day of next month\n    const t1 = new Date(date.getFullYear(), date.getMonth() + 1, 0)\n\n    // ranges\n    const firstWeek = timeWeek.count(timeYear(date), date)\n    const lastWeek = timeWeek.count(timeYear(t1), t1)\n    const firstDay = date.getDay()\n    const lastDay = t1.getDay()\n\n    // offset according to year index and month\n    let xO = originX\n    let yO = originY\n    const yearOffset = yearIndex * (7 * (cellSize + daySpacing) + yearSpacing)\n    const monthOffset = date.getMonth() * monthSpacing\n    if (direction === 'horizontal') {\n        yO += yearOffset\n        xO += monthOffset\n    } else {\n        yO += monthOffset\n        xO += yearOffset\n    }\n\n    let path\n    let bbox = { x: xO, y: yO, width: 0, height: 0 }\n    if (direction === 'horizontal') {\n        path = [\n            `M${xO + (firstWeek + 1) * (cellSize + daySpacing)},${\n                yO + firstDay * (cellSize + daySpacing)\n            }`,\n            `H${xO + firstWeek * (cellSize + daySpacing)}V${yO + 7 * (cellSize + daySpacing)}`,\n            `H${xO + lastWeek * (cellSize + daySpacing)}V${\n                yO + (lastDay + 1) * (cellSize + daySpacing)\n            }`,\n            `H${xO + (lastWeek + 1) * (cellSize + daySpacing)}V${yO}`,\n            `H${xO + (firstWeek + 1) * (cellSize + daySpacing)}Z`,\n        ].join('')\n\n        bbox.x = xO + firstWeek * (cellSize + daySpacing)\n        bbox.width = xO + (lastWeek + 1) * (cellSize + daySpacing) - bbox.x\n        bbox.height = 7 * (cellSize + daySpacing)\n    } else {\n        path = [\n            `M${xO + firstDay * (cellSize + daySpacing)},${\n                yO + (firstWeek + 1) * (cellSize + daySpacing)\n            }`,\n            `H${xO}V${yO + (lastWeek + 1) * (cellSize + daySpacing)}`,\n            `H${xO + (lastDay + 1) * (cellSize + daySpacing)}V${\n                yO + lastWeek * (cellSize + daySpacing)\n            }`,\n            `H${xO + 7 * (cellSize + daySpacing)}V${yO + firstWeek * (cellSize + daySpacing)}`,\n            `H${xO + firstDay * (cellSize + daySpacing)}Z`,\n        ].join('')\n\n        bbox.y = yO + firstWeek * (cellSize + daySpacing)\n        bbox.width = 7 * (cellSize + daySpacing)\n        bbox.height = yO + (lastWeek + 1) * (cellSize + daySpacing) - bbox.y\n    }\n\n    return { path, bbox }\n}\n\n/**\n * Creates a memoized version of monthPathAndBBox function.\n */\nconst memoMonthPathAndBBox = memoize(\n    monthPathAndBBox,\n    ({\n        date,\n        cellSize,\n        yearIndex,\n        yearSpacing,\n        monthSpacing,\n        daySpacing,\n        direction,\n        originX,\n        originY,\n    }) => {\n        return `${date.toString()}.${cellSize}.${yearIndex}.${yearSpacing}.${monthSpacing}.${daySpacing}.${direction}.${originX}.${originY}`\n    }\n)\n\n/**\n * Returns a function to Compute day cell position for horizontal layout.\n *\n * @param {number} cellSize\n * @param {number} yearSpacing\n * @param {number} monthSpacing\n * @param {number} daySpacing\n * @returns { function(): { x: number, y: number } }\n */\nconst cellPositionHorizontal = (cellSize, yearSpacing, monthSpacing, daySpacing) => {\n    return (originX, originY, d, yearIndex) => {\n        const weekOfYear = timeWeek.count(timeYear(d), d)\n\n        return {\n            x:\n                originX +\n                weekOfYear * (cellSize + daySpacing) +\n                daySpacing / 2 +\n                d.getMonth() * monthSpacing,\n            y:\n                originY +\n                d.getDay() * (cellSize + daySpacing) +\n                daySpacing / 2 +\n                yearIndex * (yearSpacing + 7 * (cellSize + daySpacing)),\n        }\n    }\n}\n\n/**\n * Returns a function to Compute day cell position for vertical layout.\n *\n * @param {number} cellSize\n * @param {number} yearSpacing\n * @param {number} monthSpacing\n * @param {number} daySpacing\n * @returns { function(): { x: number, y: number } }\n */\nconst cellPositionVertical = (cellSize, yearSpacing, monthSpacing, daySpacing) => {\n    return (originX, originY, d, yearIndex) => {\n        const weekOfYear = timeWeek.count(timeYear(d), d)\n\n        return {\n            x:\n                originX +\n                d.getDay() * (cellSize + daySpacing) +\n                daySpacing / 2 +\n                yearIndex * (yearSpacing + 7 * (cellSize + daySpacing)),\n            y:\n                originY +\n                weekOfYear * (cellSize + daySpacing) +\n                daySpacing / 2 +\n                d.getMonth() * monthSpacing,\n        }\n    }\n}\n\n// used for days range and data matching\nconst dayFormat = timeFormat('%Y-%m-%d')\n\n/**\n * Compute base layout, without caring about the current data.\n *\n * @param {number}      width\n * @param {number}      height\n * @param {string|Date} from\n * @param {string|Date} to\n * @param {string}      direction\n * @param {number}      yearSpacing\n * @param {number}      monthSpacing\n * @param {number}      daySpacing\n * @param {string}      align\n * @returns {object}\n */\nexport const computeLayout = ({\n    width,\n    height,\n    from,\n    to,\n    direction,\n    yearSpacing,\n    monthSpacing,\n    daySpacing,\n    align,\n}) => {\n    const fromDate = isDate(from) ? from : new Date(from)\n    const toDate = isDate(to) ? to : new Date(to)\n\n    let yearRange = range(fromDate.getFullYear(), toDate.getFullYear() + 1)\n    const maxWeeks =\n        Math.max(\n            ...yearRange.map(\n                year => timeWeeks(new Date(year, 0, 1), new Date(year + 1, 0, 1)).length\n            )\n        ) + 1\n\n    const cellSize = computeCellSize({\n        width,\n        height,\n        direction,\n        yearRange,\n        yearSpacing,\n        monthSpacing,\n        daySpacing,\n        maxWeeks,\n    })\n\n    const monthsSize = cellSize * maxWeeks + daySpacing * maxWeeks + monthSpacing * 12\n    const yearsSize =\n        (cellSize + daySpacing) * 7 * yearRange.length + yearSpacing * (yearRange.length - 1)\n\n    const calendarWidth = direction === 'horizontal' ? monthsSize : yearsSize\n    const calendarHeight = direction === 'horizontal' ? yearsSize : monthsSize\n    const [originX, originY] = alignBox(\n        {\n            x: 0,\n            y: 0,\n            width: calendarWidth,\n            height: calendarHeight,\n        },\n        {\n            x: 0,\n            y: 0,\n            width,\n            height,\n        },\n        align\n    )\n\n    let cellPosition\n    if (direction === 'horizontal') {\n        cellPosition = cellPositionHorizontal(cellSize, yearSpacing, monthSpacing, daySpacing)\n    } else {\n        cellPosition = cellPositionVertical(cellSize, yearSpacing, monthSpacing, daySpacing)\n    }\n\n    let years = []\n    let months = []\n    let days = []\n\n    yearRange.forEach((year, i) => {\n        const yearStart = new Date(year, 0, 1)\n        const yearEnd = new Date(year + 1, 0, 1)\n\n        days = days.concat(\n            timeDays(yearStart, yearEnd).map(dayDate => {\n                return {\n                    date: dayDate,\n                    day: dayFormat(dayDate),\n                    size: cellSize,\n                    ...cellPosition(originX, originY, dayDate, i),\n                }\n            })\n        )\n\n        const yearMonths = timeMonths(yearStart, yearEnd).map(monthDate => ({\n            date: monthDate,\n            year: monthDate.getFullYear(),\n            month: monthDate.getMonth(),\n            ...memoMonthPathAndBBox({\n                originX,\n                originY,\n                date: monthDate,\n                direction,\n                yearIndex: i,\n                yearSpacing,\n                monthSpacing,\n                daySpacing,\n                cellSize,\n            }),\n        }))\n\n        months = months.concat(yearMonths)\n\n        years.push({\n            year,\n            bbox: {\n                x: yearMonths[0].bbox.x,\n                y: yearMonths[0].bbox.y,\n                width: yearMonths[11].bbox.x - yearMonths[0].bbox.x + yearMonths[11].bbox.width,\n                height: yearMonths[11].bbox.y - yearMonths[0].bbox.y + yearMonths[11].bbox.height,\n            },\n        })\n    })\n\n    return { years, months, days, cellSize, calendarWidth, calendarHeight, originX, originY }\n}\n\n/**\n * Bind current data to computed day cells.\n *\n * @param {array}  days\n * @param {array}  data\n * @param {object} colorScale\n * @param {string} emptyColor\n * @returns {Array}\n */\nexport const bindDaysData = ({ days, data, colorScale, emptyColor }) => {\n    return days.map(day => {\n        const dayData = data.find(item => item.day === day.day)\n\n        if (!dayData) {\n            return { ...day, color: emptyColor }\n        }\n\n        return {\n            ...day,\n            color: colorScale(dayData.value),\n            data: dayData,\n            value: dayData.value,\n        }\n    })\n}\n\nexport const computeYearLegendPositions = ({ years, direction, position, offset }) => {\n    return years.map(year => {\n        let x = 0\n        let y = 0\n        let rotation = 0\n        if (direction === 'horizontal' && position === 'before') {\n            x = year.bbox.x - offset\n            y = year.bbox.y + year.bbox.height / 2\n            rotation = -90\n        } else if (direction === 'horizontal' && position === 'after') {\n            x = year.bbox.x + year.bbox.width + offset\n            y = year.bbox.y + year.bbox.height / 2\n            rotation = -90\n        } else if (direction === 'vertical' && position === 'before') {\n            x = year.bbox.x + year.bbox.width / 2\n            y = year.bbox.y - offset\n        } else {\n            x = year.bbox.x + year.bbox.width / 2\n            y = year.bbox.y + year.bbox.height + offset\n        }\n\n        return {\n            ...year,\n            x,\n            y,\n            rotation,\n        }\n    })\n}\n\nexport const computeMonthLegendPositions = ({ months, direction, position, offset }) => {\n    return months.map(month => {\n        let x = 0\n        let y = 0\n        let rotation = 0\n        if (direction === 'horizontal' && position === 'before') {\n            x = month.bbox.x + month.bbox.width / 2\n            y = month.bbox.y - offset\n        } else if (direction === 'horizontal' && position === 'after') {\n            x = month.bbox.x + month.bbox.width / 2\n            y = month.bbox.y + month.bbox.height + offset\n        } else if (direction === 'vertical' && position === 'before') {\n            x = month.bbox.x - offset\n            y = month.bbox.y + month.bbox.height / 2\n            rotation = -90\n        } else {\n            x = month.bbox.x + month.bbox.width + offset\n            y = month.bbox.y + month.bbox.height / 2\n            rotation = -90\n        }\n\n        return {\n            ...month,\n            x,\n            y,\n            rotation,\n        }\n    })\n}\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { useMemo } from 'react'\nimport { scaleQuantize } from 'd3-scale'\nimport {\n    computeDomain,\n    computeYearLegendPositions,\n    computeMonthLegendPositions,\n    bindDaysData,\n    computeLayout,\n} from './compute'\n\nexport const useCalendarLayout = ({\n    width,\n    height,\n    from,\n    to,\n    direction,\n    yearSpacing,\n    monthSpacing,\n    daySpacing,\n    align,\n}) =>\n    useMemo(\n        () =>\n            computeLayout({\n                width,\n                height,\n                from,\n                to,\n                direction,\n                yearSpacing,\n                monthSpacing,\n                daySpacing,\n                align,\n            }),\n        [width, height, from, to, direction, yearSpacing, monthSpacing, daySpacing, align]\n    )\n\nexport const useColorScale = ({ data, minValue, maxValue, colors, colorScale }) =>\n    useMemo(() => {\n        if (colorScale) return colorScale\n        const domain = computeDomain(data, minValue, maxValue)\n        const defaultColorScale = scaleQuantize().domain(domain).range(colors)\n        return defaultColorScale\n    }, [data, minValue, maxValue, colors, colorScale])\n\nexport const useYearLegends = ({ years, direction, yearLegendPosition, yearLegendOffset }) =>\n    useMemo(\n        () =>\n            computeYearLegendPositions({\n                years,\n                direction,\n                position: yearLegendPosition,\n                offset: yearLegendOffset,\n            }),\n        [years, direction, yearLegendPosition, yearLegendOffset]\n    )\n\nexport const useMonthLegends = ({ months, direction, monthLegendPosition, monthLegendOffset }) =>\n    useMemo(\n        () =>\n            computeMonthLegendPositions({\n                months,\n                direction,\n                position: monthLegendPosition,\n                offset: monthLegendOffset,\n            }),\n        [months, direction, monthLegendPosition, monthLegendOffset]\n    )\n\nexport const useDays = ({ days, data, colorScale, emptyColor }) =>\n    useMemo(\n        () =>\n            bindDaysData({\n                days,\n                data,\n                colorScale,\n                emptyColor,\n            }),\n        [days, data, colorScale, emptyColor]\n    )\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo, useCallback } from 'react'\nimport PropTypes from 'prop-types'\nimport { useTooltip } from '@bitbloom/nivo-tooltip'\n\nconst CalendarDay = memo(\n    ({\n        data,\n        x,\n        y,\n        size,\n        color,\n        borderWidth,\n        borderColor,\n        isInteractive,\n        tooltip,\n        onMouseEnter,\n        onMouseMove,\n        onMouseLeave,\n        onClick,\n        formatValue,\n    }) => {\n        const { showTooltipFromEvent, hideTooltip } = useTooltip()\n\n        const handleMouseEnter = useCallback(\n            event => {\n                const formatedData = {\n                    ...data,\n                    value: formatValue(data.value),\n                    data: { ...data.data },\n                }\n                showTooltipFromEvent(React.createElement(tooltip, { ...formatedData }), event)\n                onMouseEnter && onMouseEnter(data, event)\n            },\n            [showTooltipFromEvent, tooltip, data, onMouseEnter, formatValue]\n        )\n        const handleMouseMove = useCallback(\n            event => {\n                const formatedData = {\n                    ...data,\n                    value: formatValue(data.value),\n                    data: { ...data.data },\n                }\n                showTooltipFromEvent(React.createElement(tooltip, { ...formatedData }), event)\n                onMouseMove && onMouseMove(data, event)\n            },\n            [showTooltipFromEvent, tooltip, data, onMouseMove, formatValue]\n        )\n        const handleMouseLeave = useCallback(\n            event => {\n                hideTooltip()\n                onMouseLeave && onMouseLeave(data, event)\n            },\n            [isInteractive, hideTooltip, data, onMouseLeave]\n        )\n        const handleClick = useCallback(event => onClick && onClick(data, event), [\n            isInteractive,\n            data,\n            onClick,\n        ])\n\n        return (\n            <rect\n                x={x}\n                y={y}\n                width={size}\n                height={size}\n                style={{\n                    fill: color,\n                    strokeWidth: borderWidth,\n                    stroke: borderColor,\n                }}\n                onMouseEnter={isInteractive ? handleMouseEnter : undefined}\n                onMouseMove={isInteractive ? handleMouseMove : undefined}\n                onMouseLeave={isInteractive ? handleMouseLeave : undefined}\n                onClick={isInteractive ? handleClick : undefined}\n            />\n        )\n    }\n)\n\nCalendarDay.displayName = 'CalendarDay'\nCalendarDay.propTypes = {\n    onClick: PropTypes.func,\n    onMouseEnter: PropTypes.func,\n    onMouseLeave: PropTypes.func,\n    onMouseMove: PropTypes.func,\n    data: PropTypes.object.isRequired,\n    x: PropTypes.number.isRequired,\n    y: PropTypes.number.isRequired,\n    size: PropTypes.number.isRequired,\n    spacing: PropTypes.number.isRequired,\n    color: PropTypes.string.isRequired,\n    borderWidth: PropTypes.number.isRequired,\n    borderColor: PropTypes.string.isRequired,\n    isInteractive: PropTypes.bool.isRequired,\n    formatValue: PropTypes.func,\n\n    tooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n\n    theme: PropTypes.shape({\n        tooltip: PropTypes.shape({}).isRequired,\n    }).isRequired,\n}\n\nexport default CalendarDay\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React from 'react'\nimport { SvgWrapper, useTheme, useDimensions, withContainer, useValueFormatter } from '@bitbloom/nivo-core'\nimport { BoxLegendSvg } from '@bitbloom/nivo-legends'\nimport { CalendarPropTypes, CalendarDefaultProps } from './props'\nimport CalendarYearLegends from './CalendarYearLegends'\nimport CalendarMonthPath from './CalendarMonthPath'\nimport CalendarMonthLegends from './CalendarMonthLegends'\nimport { useMonthLegends, useYearLegends, useCalendarLayout, useDays, useColorScale } from './hooks'\nimport CalendarDay from './CalendarDay'\n\nconst Calendar = ({\n    margin: partialMargin,\n    width,\n    height,\n\n    align,\n    colors,\n    colorScale,\n    data,\n    direction,\n    emptyColor,\n    from,\n    to,\n    minValue,\n    maxValue,\n    valueFormat,\n    legendFormat,\n\n    yearLegend,\n    yearLegendOffset,\n    yearLegendPosition,\n    yearSpacing,\n\n    monthBorderColor,\n    monthBorderWidth,\n    monthLegend,\n    monthLegendOffset,\n    monthLegendPosition,\n    monthSpacing,\n\n    dayBorderColor,\n    dayBorderWidth,\n    daySpacing,\n\n    isInteractive,\n    tooltip,\n    onClick,\n    onMouseEnter,\n    onMouseLeave,\n    onMouseMove,\n\n    legends,\n    role,\n}) => {\n    const theme = useTheme()\n    const { margin, innerWidth, innerHeight, outerWidth, outerHeight } = useDimensions(\n        width,\n        height,\n        partialMargin\n    )\n    const { months, years, ...rest } = useCalendarLayout({\n        width: innerWidth,\n        height: innerHeight,\n        from,\n        to,\n        direction,\n        yearSpacing,\n        monthSpacing,\n        daySpacing,\n        align,\n    })\n    const colorScaleFn = useColorScale({ data, minValue, maxValue, colors, colorScale })\n    const monthLegends = useMonthLegends({\n        months,\n        direction,\n        monthLegendPosition,\n        monthLegendOffset,\n    })\n    const yearLegends = useYearLegends({ years, direction, yearLegendPosition, yearLegendOffset })\n    const days = useDays({ days: rest.days, data, colorScale: colorScaleFn, emptyColor })\n    const formatLegend = useValueFormatter(legendFormat)\n    const formatValue = useValueFormatter(valueFormat)\n\n    return (\n        <SvgWrapper\n            width={outerWidth}\n            height={outerHeight}\n            margin={margin}\n            theme={theme}\n            role={role}\n        >\n            {days.map(d => (\n                <CalendarDay\n                    key={d.date.toString()}\n                    data={d}\n                    x={d.x}\n                    y={d.y}\n                    size={d.size}\n                    spacing={daySpacing}\n                    color={d.color}\n                    borderWidth={dayBorderWidth}\n                    borderColor={dayBorderColor}\n                    onMouseEnter={onMouseEnter}\n                    onMouseLeave={onMouseLeave}\n                    onMouseMove={onMouseMove}\n                    isInteractive={isInteractive}\n                    tooltip={tooltip}\n                    theme={theme}\n                    onClick={onClick}\n                    formatValue={formatValue}\n                />\n            ))}\n            {months.map(m => (\n                <CalendarMonthPath\n                    key={m.date.toString()}\n                    path={m.path}\n                    borderWidth={monthBorderWidth}\n                    borderColor={monthBorderColor}\n                />\n            ))}\n            <CalendarMonthLegends months={monthLegends} legend={monthLegend} theme={theme} />\n            <CalendarYearLegends years={yearLegends} legend={yearLegend} theme={theme} />\n            {legends.map((legend, i) => {\n                const legendData = colorScaleFn.ticks(legend.itemCount).map(value => ({\n                    id: value,\n                    label: formatLegend(value),\n                    color: colorScaleFn(value),\n                }))\n\n                return (\n                    <BoxLegendSvg\n                        key={i}\n                        {...legend}\n                        containerWidth={width}\n                        containerHeight={height}\n                        data={legendData}\n                        theme={theme}\n                    />\n                )\n            })}\n        </SvgWrapper>\n    )\n}\n\nCalendar.displayName = 'Calendar'\nCalendar.defaultProps = CalendarDefaultProps\nCalendar.propTypes = CalendarPropTypes\n\nexport default withContainer(Calendar)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React from 'react'\nimport { ResponsiveWrapper } from '@bitbloom/nivo-core'\nimport Calendar from './Calendar'\n\nconst ResponsiveCalendar = props => (\n    <ResponsiveWrapper>\n        {({ width, height }) => <Calendar width={width} height={height} {...props} />}\n    </ResponsiveWrapper>\n)\n\nexport default ResponsiveCalendar\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo, useRef, useState, useEffect, useCallback } from 'react'\nimport {\n    isCursorInRect,\n    getRelativeCursor,\n    degreesToRadians,\n    useDimensions,\n    useTheme,\n    withContainer,\n    useValueFormatter,\n} from '@bitbloom/nivo-core'\nimport { renderLegendToCanvas } from '@bitbloom/nivo-legends'\nimport { CalendarCanvasPropTypes, CalendarCanvasDefaultProps } from './props'\nimport { useCalendarLayout, useColorScale, useMonthLegends, useYearLegends, useDays } from './hooks'\nimport { useTooltip } from '@bitbloom/nivo-tooltip'\n\nconst findDayUnderCursor = (event, canvasEl, days, size, dayBorderWidth, margin) => {\n    const [x, y] = getRelativeCursor(canvasEl, event)\n    return days.find(day => {\n        return (\n            day.value !== undefined &&\n            isCursorInRect(\n                day.x + margin.left - dayBorderWidth / 2,\n                day.y + margin.top - dayBorderWidth / 2,\n                size + dayBorderWidth,\n                size + dayBorderWidth,\n                x,\n                y\n            )\n        )\n    })\n}\n\nconst CalendarCanvas = memo(\n    ({\n        margin: partialMargin,\n        width,\n        height,\n        pixelRatio,\n\n        align,\n        colors,\n        colorScale,\n        data,\n        direction,\n        emptyColor,\n        from,\n        to,\n        minValue,\n        maxValue,\n        valueFormat,\n        legendFormat,\n\n        yearLegend,\n        yearLegendOffset,\n        yearLegendPosition,\n        yearSpacing,\n\n        monthLegend,\n        monthLegendOffset,\n        monthLegendPosition,\n        monthSpacing,\n\n        dayBorderColor,\n        dayBorderWidth,\n        daySpacing,\n\n        isInteractive,\n        tooltip,\n        onClick,\n        onMouseEnter,\n        onMouseLeave,\n        onMouseMove,\n\n        legends,\n    }) => {\n        const canvasEl = useRef(null)\n        const { innerWidth, innerHeight, outerWidth, outerHeight, margin } = useDimensions(\n            width,\n            height,\n            partialMargin\n        )\n        const { months, years, ...rest } = useCalendarLayout({\n            width: innerWidth,\n            height: innerHeight,\n            from,\n            to,\n            direction,\n            yearSpacing,\n            monthSpacing,\n            daySpacing,\n            align,\n        })\n        const colorScaleFn = useColorScale({ data, minValue, maxValue, colors, colorScale })\n        const monthLegends = useMonthLegends({\n            months,\n            direction,\n            monthLegendPosition,\n            monthLegendOffset,\n        })\n        const yearLegends = useYearLegends({\n            years,\n            direction,\n            yearLegendPosition,\n            yearLegendOffset,\n        })\n        const days = useDays({ days: rest.days, data, colorScale: colorScaleFn, emptyColor })\n        const [currentDay, setCurrentDay] = useState(null)\n        const theme = useTheme()\n        const formatValue = useValueFormatter(valueFormat)\n        const formatLegend = useValueFormatter(legendFormat)\n\n        const { showTooltipFromEvent, hideTooltip } = useTooltip()\n\n        useEffect(() => {\n            canvasEl.current.width = outerWidth * pixelRatio\n            canvasEl.current.height = outerHeight * pixelRatio\n\n            const ctx = canvasEl.current.getContext('2d')\n\n            ctx.scale(pixelRatio, pixelRatio)\n\n            ctx.fillStyle = theme.background\n            ctx.fillRect(0, 0, outerWidth, outerHeight)\n            ctx.translate(margin.left, margin.top)\n\n            days.forEach(day => {\n                ctx.fillStyle = day.color\n                if (dayBorderWidth > 0) {\n                    ctx.strokeStyle = dayBorderColor\n                    ctx.lineWidth = dayBorderWidth\n                }\n\n                ctx.beginPath()\n                ctx.rect(day.x, day.y, day.size, day.size)\n                ctx.fill()\n\n                if (dayBorderWidth > 0) {\n                    ctx.stroke()\n                }\n            })\n\n            ctx.textAlign = 'center'\n            ctx.textBaseline = 'middle'\n            ctx.fillStyle = theme.labels.text.fill\n            ctx.font = `${theme.labels.text.fontSize}px ${theme.labels.text.fontFamily}`\n\n            monthLegends.forEach(month => {\n                ctx.save()\n                ctx.translate(month.x, month.y)\n                ctx.rotate(degreesToRadians(month.rotation))\n                ctx.fillText(monthLegend(month.year, month.month, month.date), 0, 0)\n                ctx.restore()\n            })\n\n            yearLegends.forEach(year => {\n                ctx.save()\n                ctx.translate(year.x, year.y)\n                ctx.rotate(degreesToRadians(year.rotation))\n                ctx.fillText(yearLegend(year.year), 0, 0)\n                ctx.restore()\n            })\n\n            legends.forEach(legend => {\n                const legendData = colorScaleFn.ticks(legend.itemCount).map(value => ({\n                    id: value,\n                    label: formatLegend(value),\n                    color: colorScaleFn(value),\n                }))\n\n                renderLegendToCanvas(ctx, {\n                    ...legend,\n                    data: legendData,\n                    containerWidth: innerWidth,\n                    containerHeight: innerHeight,\n                    theme,\n                })\n            })\n        }, [\n            canvasEl,\n            innerHeight,\n            innerWidth,\n            outerWidth,\n            outerHeight,\n            pixelRatio,\n            margin,\n            days,\n            dayBorderColor,\n            dayBorderWidth,\n            colorScale,\n            yearLegend,\n            yearLegends,\n            monthLegend,\n            monthLegends,\n            legends,\n            theme,\n            formatLegend,\n        ])\n\n        const handleMouseHover = useCallback(\n            event => {\n                const data = findDayUnderCursor(\n                    event,\n                    canvasEl.current,\n                    days,\n                    days[0].size,\n                    dayBorderWidth,\n                    margin\n                )\n\n                if (data) {\n                    setCurrentDay(data)\n                    const formatedData = {\n                        ...data,\n                        value: formatValue(data.value),\n                        data: { ...data.data },\n                    }\n                    showTooltipFromEvent(React.createElement(tooltip, { ...formatedData }), event)\n                    !currentDay && onMouseEnter && onMouseEnter(data, event)\n                    onMouseMove && onMouseMove(data, event)\n                    currentDay &&\n                        currentDay.id !== data.id &&\n                        onMouseLeave &&\n                        onMouseLeave(data, event)\n                } else {\n                    hideTooltip()\n                    onMouseLeave && onMouseLeave(data, event)\n                }\n            },\n            [\n                canvasEl,\n                margin,\n                days,\n                setCurrentDay,\n                formatValue,\n                daySpacing,\n                showTooltipFromEvent,\n                hideTooltip,\n                onMouseEnter,\n                onMouseMove,\n                onMouseLeave,\n            ]\n        )\n\n        const handleMouseLeave = useCallback(() => {\n            setCurrentDay(null)\n            hideTooltip()\n        }, [setCurrentDay, hideTooltip])\n\n        const handleClick = useCallback(\n            event => {\n                if (!onClick) return\n\n                const data = findDayUnderCursor(\n                    event,\n                    canvasEl.current,\n                    days,\n                    days[0].size,\n                    daySpacing,\n                    margin\n                )\n\n                data && onClick(data, event)\n            },\n            [canvasEl, daySpacing, margin, setCurrentDay, days, onClick]\n        )\n\n        return (\n            <canvas\n                ref={canvasEl}\n                width={outerWidth * pixelRatio}\n                height={outerHeight * pixelRatio}\n                style={{\n                    width: outerWidth,\n                    height: outerHeight,\n                }}\n                onMouseEnter={isInteractive ? handleMouseHover : undefined}\n                onMouseMove={isInteractive ? handleMouseHover : undefined}\n                onMouseLeave={isInteractive ? handleMouseLeave : undefined}\n                onClick={isInteractive ? handleClick : undefined}\n            />\n        )\n    }\n)\n\nCalendarCanvas.displayName = 'CalendarCanvas'\nCalendarCanvas.defaultProps = CalendarCanvasDefaultProps\nCalendarCanvas.propTypes = CalendarCanvasPropTypes\n\nexport default withContainer(CalendarCanvas)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React from 'react'\nimport { ResponsiveWrapper } from '@bitbloom/nivo-core'\nimport CalendarCanvas from './CalendarCanvas'\n\nconst ResponsiveCalendarCanvas = props => (\n    <ResponsiveWrapper>\n        {({ width, height }) => <CalendarCanvas width={width} height={height} {...props} />}\n    </ResponsiveWrapper>\n)\n\nexport default ResponsiveCalendarCanvas\n"],"names":["objectWithoutPropertiesLoose","defineProperty","CalendarTooltip","memo","value","day","color","undefined","isNaN","React","BasicTooltip","displayName","monthLabelFormat","timeFormat","commonPropTypes","from","PropTypes","oneOfType","string","instanceOf","Date","isRequired","to","data","arrayOf","shape","number","align","oneOf","boxAlignments","minValue","maxValue","colors","colorScale","func","direction","emptyColor","yearLegend","yearSpacing","yearLegendPosition","yearLegendOffset","monthBorderWidth","monthBorderColor","monthLegend","monthSpacing","monthLegendPosition","monthLegendOffset","daySpacing","dayBorderWidth","dayBorderColor","isInteractive","bool","onClick","onMouseEnter","onMouseLeave","onMouseMove","tooltip","object","valueFormat","legendFormat","legends","LegendPropShape","itemCount","CalendarPropTypes","role","CalendarCanvasPropTypes","pixelRatio","commonDefaultProps","year","month","date","weekdayLegend","d","CalendarDefaultProps","CalendarCanvasDefaultProps","global","window","devicePixelRatio","CalendarYearLegends","years","legend","theme","map","x","y","rotation","labels","text","CalendarMonthPath","path","borderWidth","borderColor","fill","strokeWidth","stroke","pointerEvents","CalendarMonthLegends","months","toString","arrayLikeToArray","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","arrayWithoutHoles","iterableToArray","nonIterableSpread","computeDomain","minSpec","maxSpec","allValues","Math","min","max","computeCellSize","width","height","yearRange","maxWeeks","hCellSize","vCellSize","length","monthPathAndBBox","cellSize","yearIndex","originX","originY","t1","getFullYear","getMonth","firstWeek","timeWeek","count","timeYear","lastWeek","firstDay","getDay","lastDay","xO","yO","yearOffset","monthOffset","bbox","join","memoMonthPathAndBBox","memoize","cellPositionHorizontal","weekOfYear","cellPositionVertical","dayFormat","computeLayout","fromDate","isDate","toDate","range","timeWeeks","monthsSize","yearsSize","calendarWidth","calendarHeight","alignBox","cellPosition","days","forEach","i","yearStart","yearEnd","concat","timeDays","dayDate","size","yearMonths","timeMonths","monthDate","push","bindDaysData","dayData","find","item","computeYearLegendPositions","position","offset","computeMonthLegendPositions","useCalendarLayout","useMemo","useColorScale","domain","defaultColorScale","scaleQuantize","useYearLegends","useMonthLegends","useDays","CalendarDay","formatValue","useTooltip","showTooltipFromEvent","hideTooltip","handleMouseEnter","useCallback","event","formatedData","createElement","handleMouseMove","handleMouseLeave","handleClick","Calendar","partialMargin","margin","useTheme","useDimensions","innerWidth","innerHeight","outerWidth","outerHeight","rest","colorScaleFn","monthLegends","yearLegends","formatLegend","useValueFormatter","SvgWrapper","m","legendData","ticks","id","label","BoxLegendSvg","defaultProps","withContainer","ResponsiveCalendar","props","ResponsiveWrapper","findDayUnderCursor","canvasEl","getRelativeCursor","isCursorInRect","left","top","CalendarCanvas","useRef","useState","currentDay","setCurrentDay","useEffect","current","ctx","getContext","scale","fillStyle","background","fillRect","translate","strokeStyle","lineWidth","beginPath","rect","textAlign","textBaseline","font","fontSize","fontFamily","save","rotate","degreesToRadians","fillText","restore","renderLegendToCanvas","containerWidth","containerHeight","handleMouseHover","ResponsiveCalendarCanvas"],"mappings":"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"}