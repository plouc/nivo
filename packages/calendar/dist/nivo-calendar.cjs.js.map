{"version":3,"file":"nivo-calendar.cjs.js","sources":["../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../src/CalendarTooltip.js","../src/props.js","../src/CalendarYearLegends.js","../src/CalendarMonthPath.js","../src/CalendarMonthLegends.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../src/compute.js","../src/hooks.js","../src/CalendarDay.js","../src/Calendar.js","../src/ResponsiveCalendar.js","../src/CalendarCanvas.js","../src/ResponsiveCalendarCanvas.js"],"sourcesContent":["export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\nimport { BasicTooltip } from '@bitbloom/nivo-tooltip'\n\nconst CalendarTooltip = memo(({ value, day, color }) => {\n    if (value === undefined || isNaN(value)) return null\n    return <BasicTooltip id={day} value={value} color={color} enableChip={true} />\n})\n\nCalendarTooltip.displayName = 'CalendarTooltip'\nCalendarTooltip.propTypes = {\n    value: PropTypes.object.isRequired,\n    day: PropTypes.object.isRequired,\n    color: PropTypes.object.isRequired,\n}\n\nexport default CalendarTooltip\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport PropTypes from 'prop-types'\nimport { timeFormat } from 'd3-time-format'\nimport { boxAlignments } from '@bitbloom/nivo-core'\nimport { LegendPropShape } from '@bitbloom/nivo-legends'\nimport CalendarTooltip from './CalendarTooltip'\n\nconst monthLabelFormat = timeFormat('%b')\n\nconst commonPropTypes = {\n    from: PropTypes.oneOfType([PropTypes.string, PropTypes.instanceOf(Date)]).isRequired,\n    to: PropTypes.oneOfType([PropTypes.string, PropTypes.instanceOf(Date)]).isRequired,\n    data: PropTypes.arrayOf(\n        PropTypes.shape({\n            day: PropTypes.string.isRequired,\n            value: PropTypes.number.isRequired,\n        })\n    ).isRequired,\n\n    align: PropTypes.oneOf(boxAlignments).isRequired,\n\n    minValue: PropTypes.oneOfType([PropTypes.oneOf(['auto']), PropTypes.number]).isRequired,\n    maxValue: PropTypes.oneOfType([PropTypes.oneOf(['auto']), PropTypes.number]).isRequired,\n\n    colors: PropTypes.arrayOf(PropTypes.string).isRequired,\n    colorScale: PropTypes.func,\n\n    direction: PropTypes.oneOf(['horizontal', 'vertical']),\n    emptyColor: PropTypes.string.isRequired,\n\n    yearLegend: PropTypes.func.isRequired,\n    yearSpacing: PropTypes.number.isRequired,\n    yearLegendPosition: PropTypes.oneOf(['before', 'after']).isRequired,\n    yearLegendOffset: PropTypes.number.isRequired,\n\n    monthBorderWidth: PropTypes.number.isRequired,\n    monthBorderColor: PropTypes.string.isRequired,\n    monthLegend: PropTypes.func.isRequired,\n    monthSpacing: PropTypes.number.isRequired,\n    monthLegendPosition: PropTypes.oneOf(['before', 'after']).isRequired,\n    monthLegendOffset: PropTypes.number.isRequired,\n\n    daySpacing: PropTypes.number.isRequired,\n    dayBorderWidth: PropTypes.number.isRequired,\n    dayBorderColor: PropTypes.string.isRequired,\n\n    isInteractive: PropTypes.bool,\n    onClick: PropTypes.func,\n    onMouseEnter: PropTypes.func,\n    onMouseLeave: PropTypes.func,\n    onMouseMove: PropTypes.func,\n    tooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n    valueFormat: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n    legendFormat: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n    legends: PropTypes.arrayOf(\n        PropTypes.shape({\n            ...LegendPropShape,\n            itemCount: PropTypes.number.isRequired,\n        })\n    ).isRequired,\n}\n\nexport const CalendarPropTypes = {\n    ...commonPropTypes,\n    role: PropTypes.string.isRequired,\n}\n\nexport const CalendarCanvasPropTypes = {\n    ...commonPropTypes,\n    pixelRatio: PropTypes.number.isRequired,\n}\n\nconst commonDefaultProps = {\n    colors: ['#61cdbb', '#97e3d5', '#e8c1a0', '#f47560'],\n\n    align: 'center',\n    direction: 'horizontal',\n    emptyColor: '#fff',\n\n    minValue: 0,\n    maxValue: 'auto',\n\n    yearSpacing: 30,\n    yearLegend: year => year,\n    yearLegendPosition: 'before',\n    yearLegendOffset: 10,\n\n    monthBorderWidth: 2,\n    monthBorderColor: '#000',\n    monthSpacing: 0,\n    monthLegend: (year, month, date) => monthLabelFormat(date),\n    monthLegendPosition: 'before',\n    monthLegendOffset: 10,\n\n    weekdayLegend: d => d,\n    daySpacing: 0,\n    dayBorderWidth: 1,\n    dayBorderColor: '#000',\n\n    isInteractive: true,\n\n    legends: [],\n    tooltip: CalendarTooltip,\n}\n\nexport const CalendarDefaultProps = {\n    ...commonDefaultProps,\n    role: 'img',\n}\n\nexport const CalendarCanvasDefaultProps = {\n    ...commonDefaultProps,\n    pixelRatio:\n        global.window && global.window.devicePixelRatio ? global.window.devicePixelRatio : 1,\n}\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\n\nconst CalendarYearLegends = memo(({ years, legend, theme }) => {\n    return (\n        <>\n            {years.map(year => {\n                return (\n                    <text\n                        key={year.year}\n                        transform={`translate(${year.x},${year.y}) rotate(${year.rotation})`}\n                        textAnchor=\"middle\"\n                        style={theme.labels.text}\n                    >\n                        {legend(year.year)}\n                    </text>\n                )\n            })}\n        </>\n    )\n})\n\nCalendarYearLegends.propTypes = {\n    years: PropTypes.array.isRequired,\n    legend: PropTypes.func.isRequired,\n    theme: PropTypes.object.isRequired,\n}\n\nCalendarYearLegends.displayName = 'CalendarYearLegends'\n\nexport default CalendarYearLegends\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\n\nconst CalendarMonthPath = memo(({ path, borderWidth, borderColor }) => {\n    return (\n        <path\n            d={path}\n            style={{\n                fill: 'none',\n                strokeWidth: borderWidth,\n                stroke: borderColor,\n                pointerEvents: 'none',\n            }}\n        />\n    )\n})\n\nCalendarMonthPath.propTypes = {\n    path: PropTypes.string.isRequired,\n    borderWidth: PropTypes.number.isRequired,\n    borderColor: PropTypes.string.isRequired,\n}\n\nCalendarMonthPath.displayName = 'CalendarMonthPath'\n\nexport default CalendarMonthPath\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\n\nconst CalendarMonthLegends = memo(({ months, legend, theme }) => {\n    return (\n        <>\n            {months.map(month => {\n                return (\n                    <text\n                        key={`${month.date.toString()}.legend`}\n                        transform={`translate(${month.x},${month.y}) rotate(${month.rotation})`}\n                        textAnchor=\"middle\"\n                        style={theme.labels.text}\n                    >\n                        {legend(month.year, month.month, month.date)}\n                    </text>\n                )\n            })}\n        </>\n    )\n})\n\nCalendarMonthLegends.propTypes = {\n    months: PropTypes.array.isRequired,\n    legend: PropTypes.func.isRequired,\n    theme: PropTypes.object.isRequired,\n}\n\nCalendarMonthLegends.displayName = 'CalendarMonthLegends'\n\nexport default CalendarMonthLegends\n","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport memoize from 'lodash.memoize'\nimport isDate from 'lodash.isdate'\nimport range from 'lodash.range'\nimport { alignBox } from '@bitbloom/nivo-core'\nimport { timeFormat } from 'd3-time-format'\nimport { timeDays, timeWeek, timeWeeks, timeMonths, timeYear } from 'd3-time'\n\n/**\n * Compute min/max values.\n *\n * @param {Array<>}       data\n * @param {number|'auto'} minSpec - Define the strategy to use to compute min value, if number, it will be used, if 'auto', will use the lower value from the dataset\n * @param {number|'auto'} maxSpec - Define the strategy to use to compute max value, if number, it will be used, if 'auto', will use the higher value from the dataset\n * @return {[number, string]}\n */\nexport const computeDomain = (data, minSpec, maxSpec) => {\n    const allValues = data.map(d => d.value)\n    const minValue = minSpec === 'auto' ? Math.min(...allValues) : minSpec\n    const maxValue = maxSpec === 'auto' ? Math.max(...allValues) : maxSpec\n\n    return [minValue, maxValue]\n}\n\n/**\n * Compute day cell size according to current context.\n *\n * @param {number} width\n * @param {number} height\n * @param {number} direction\n * @param {array}  yearRange\n * @param {number} yearSpacing\n * @param {number} monthSpacing\n * @param {number} daySpacing\n * @param {number} maxWeeks\n * @returns {number}\n */\nconst computeCellSize = ({\n    width,\n    height,\n    direction,\n    yearRange,\n    yearSpacing,\n    monthSpacing,\n    daySpacing,\n    maxWeeks,\n}) => {\n    let hCellSize\n    let vCellSize\n\n    if (direction === 'horizontal') {\n        hCellSize = (width - monthSpacing * 12 - daySpacing * maxWeeks) / maxWeeks\n        vCellSize =\n            (height - (yearRange.length - 1) * yearSpacing - yearRange.length * (8 * daySpacing)) /\n            (yearRange.length * 7)\n    } else {\n        hCellSize =\n            (width - (yearRange.length - 1) * yearSpacing - yearRange.length * (8 * daySpacing)) /\n            (yearRange.length * 7)\n        vCellSize = (height - monthSpacing * 12 - daySpacing * maxWeeks) / maxWeeks\n    }\n\n    return Math.min(hCellSize, vCellSize)\n}\n\n/**\n * Computes month path and bounding box.\n *\n * @param {Date}   date\n * @param {number} cellSize\n * @param {number} yearIndex\n * @param {number} yearSpacing\n * @param {number} monthSpacing\n * @param {number} daySpacing\n * @param {string} direction\n * @param {number} originX\n * @param {number} originY\n * @returns { { path: string, bbox: { x: number, y: number, width: number, height: number } } }\n */\nconst monthPathAndBBox = ({\n    date,\n    cellSize,\n    yearIndex,\n    yearSpacing,\n    monthSpacing,\n    daySpacing,\n    direction,\n    originX,\n    originY,\n}) => {\n    // first day of next month\n    const t1 = new Date(date.getFullYear(), date.getMonth() + 1, 0)\n\n    // ranges\n    const firstWeek = timeWeek.count(timeYear(date), date)\n    const lastWeek = timeWeek.count(timeYear(t1), t1)\n    const firstDay = date.getDay()\n    const lastDay = t1.getDay()\n\n    // offset according to year index and month\n    let xO = originX\n    let yO = originY\n    const yearOffset = yearIndex * (7 * (cellSize + daySpacing) + yearSpacing)\n    const monthOffset = date.getMonth() * monthSpacing\n    if (direction === 'horizontal') {\n        yO += yearOffset\n        xO += monthOffset\n    } else {\n        yO += monthOffset\n        xO += yearOffset\n    }\n\n    let path\n    let bbox = { x: xO, y: yO, width: 0, height: 0 }\n    if (direction === 'horizontal') {\n        path = [\n            `M${xO + (firstWeek + 1) * (cellSize + daySpacing)},${\n                yO + firstDay * (cellSize + daySpacing)\n            }`,\n            `H${xO + firstWeek * (cellSize + daySpacing)}V${yO + 7 * (cellSize + daySpacing)}`,\n            `H${xO + lastWeek * (cellSize + daySpacing)}V${\n                yO + (lastDay + 1) * (cellSize + daySpacing)\n            }`,\n            `H${xO + (lastWeek + 1) * (cellSize + daySpacing)}V${yO}`,\n            `H${xO + (firstWeek + 1) * (cellSize + daySpacing)}Z`,\n        ].join('')\n\n        bbox.x = xO + firstWeek * (cellSize + daySpacing)\n        bbox.width = xO + (lastWeek + 1) * (cellSize + daySpacing) - bbox.x\n        bbox.height = 7 * (cellSize + daySpacing)\n    } else {\n        path = [\n            `M${xO + firstDay * (cellSize + daySpacing)},${\n                yO + (firstWeek + 1) * (cellSize + daySpacing)\n            }`,\n            `H${xO}V${yO + (lastWeek + 1) * (cellSize + daySpacing)}`,\n            `H${xO + (lastDay + 1) * (cellSize + daySpacing)}V${\n                yO + lastWeek * (cellSize + daySpacing)\n            }`,\n            `H${xO + 7 * (cellSize + daySpacing)}V${yO + firstWeek * (cellSize + daySpacing)}`,\n            `H${xO + firstDay * (cellSize + daySpacing)}Z`,\n        ].join('')\n\n        bbox.y = yO + firstWeek * (cellSize + daySpacing)\n        bbox.width = 7 * (cellSize + daySpacing)\n        bbox.height = yO + (lastWeek + 1) * (cellSize + daySpacing) - bbox.y\n    }\n\n    return { path, bbox }\n}\n\n/**\n * Creates a memoized version of monthPathAndBBox function.\n */\nconst memoMonthPathAndBBox = memoize(\n    monthPathAndBBox,\n    ({\n        date,\n        cellSize,\n        yearIndex,\n        yearSpacing,\n        monthSpacing,\n        daySpacing,\n        direction,\n        originX,\n        originY,\n    }) => {\n        return `${date.toString()}.${cellSize}.${yearIndex}.${yearSpacing}.${monthSpacing}.${daySpacing}.${direction}.${originX}.${originY}`\n    }\n)\n\n/**\n * Returns a function to Compute day cell position for horizontal layout.\n *\n * @param {number} cellSize\n * @param {number} yearSpacing\n * @param {number} monthSpacing\n * @param {number} daySpacing\n * @returns { function(): { x: number, y: number } }\n */\nconst cellPositionHorizontal = (cellSize, yearSpacing, monthSpacing, daySpacing) => {\n    return (originX, originY, d, yearIndex) => {\n        const weekOfYear = timeWeek.count(timeYear(d), d)\n\n        return {\n            x:\n                originX +\n                weekOfYear * (cellSize + daySpacing) +\n                daySpacing / 2 +\n                d.getMonth() * monthSpacing,\n            y:\n                originY +\n                d.getDay() * (cellSize + daySpacing) +\n                daySpacing / 2 +\n                yearIndex * (yearSpacing + 7 * (cellSize + daySpacing)),\n        }\n    }\n}\n\n/**\n * Returns a function to Compute day cell position for vertical layout.\n *\n * @param {number} cellSize\n * @param {number} yearSpacing\n * @param {number} monthSpacing\n * @param {number} daySpacing\n * @returns { function(): { x: number, y: number } }\n */\nconst cellPositionVertical = (cellSize, yearSpacing, monthSpacing, daySpacing) => {\n    return (originX, originY, d, yearIndex) => {\n        const weekOfYear = timeWeek.count(timeYear(d), d)\n\n        return {\n            x:\n                originX +\n                d.getDay() * (cellSize + daySpacing) +\n                daySpacing / 2 +\n                yearIndex * (yearSpacing + 7 * (cellSize + daySpacing)),\n            y:\n                originY +\n                weekOfYear * (cellSize + daySpacing) +\n                daySpacing / 2 +\n                d.getMonth() * monthSpacing,\n        }\n    }\n}\n\n// used for days range and data matching\nconst dayFormat = timeFormat('%Y-%m-%d')\n\n/**\n * Compute base layout, without caring about the current data.\n *\n * @param {number}      width\n * @param {number}      height\n * @param {string|Date} from\n * @param {string|Date} to\n * @param {string}      direction\n * @param {number}      yearSpacing\n * @param {number}      monthSpacing\n * @param {number}      daySpacing\n * @param {string}      align\n * @returns {object}\n */\nexport const computeLayout = ({\n    width,\n    height,\n    from,\n    to,\n    direction,\n    yearSpacing,\n    monthSpacing,\n    daySpacing,\n    align,\n}) => {\n    const fromDate = isDate(from) ? from : new Date(from)\n    const toDate = isDate(to) ? to : new Date(to)\n\n    let yearRange = range(fromDate.getFullYear(), toDate.getFullYear() + 1)\n    const maxWeeks =\n        Math.max(\n            ...yearRange.map(\n                year => timeWeeks(new Date(year, 0, 1), new Date(year + 1, 0, 1)).length\n            )\n        ) + 1\n\n    const cellSize = computeCellSize({\n        width,\n        height,\n        direction,\n        yearRange,\n        yearSpacing,\n        monthSpacing,\n        daySpacing,\n        maxWeeks,\n    })\n\n    const monthsSize = cellSize * maxWeeks + daySpacing * maxWeeks + monthSpacing * 12\n    const yearsSize =\n        (cellSize + daySpacing) * 7 * yearRange.length + yearSpacing * (yearRange.length - 1)\n\n    const calendarWidth = direction === 'horizontal' ? monthsSize : yearsSize\n    const calendarHeight = direction === 'horizontal' ? yearsSize : monthsSize\n    const [originX, originY] = alignBox(\n        {\n            x: 0,\n            y: 0,\n            width: calendarWidth,\n            height: calendarHeight,\n        },\n        {\n            x: 0,\n            y: 0,\n            width,\n            height,\n        },\n        align\n    )\n\n    let cellPosition\n    if (direction === 'horizontal') {\n        cellPosition = cellPositionHorizontal(cellSize, yearSpacing, monthSpacing, daySpacing)\n    } else {\n        cellPosition = cellPositionVertical(cellSize, yearSpacing, monthSpacing, daySpacing)\n    }\n\n    let years = []\n    let months = []\n    let days = []\n\n    yearRange.forEach((year, i) => {\n        const yearStart = new Date(year, 0, 1)\n        const yearEnd = new Date(year + 1, 0, 1)\n\n        days = days.concat(\n            timeDays(yearStart, yearEnd).map(dayDate => {\n                return {\n                    date: dayDate,\n                    day: dayFormat(dayDate),\n                    size: cellSize,\n                    ...cellPosition(originX, originY, dayDate, i),\n                }\n            })\n        )\n\n        const yearMonths = timeMonths(yearStart, yearEnd).map(monthDate => ({\n            date: monthDate,\n            year: monthDate.getFullYear(),\n            month: monthDate.getMonth(),\n            ...memoMonthPathAndBBox({\n                originX,\n                originY,\n                date: monthDate,\n                direction,\n                yearIndex: i,\n                yearSpacing,\n                monthSpacing,\n                daySpacing,\n                cellSize,\n            }),\n        }))\n\n        months = months.concat(yearMonths)\n\n        years.push({\n            year,\n            bbox: {\n                x: yearMonths[0].bbox.x,\n                y: yearMonths[0].bbox.y,\n                width: yearMonths[11].bbox.x - yearMonths[0].bbox.x + yearMonths[11].bbox.width,\n                height: yearMonths[11].bbox.y - yearMonths[0].bbox.y + yearMonths[11].bbox.height,\n            },\n        })\n    })\n\n    return { years, months, days, cellSize, calendarWidth, calendarHeight, originX, originY }\n}\n\n/**\n * Bind current data to computed day cells.\n *\n * @param {array}  days\n * @param {array}  data\n * @param {object} colorScale\n * @param {string} emptyColor\n * @returns {Array}\n */\nexport const bindDaysData = ({ days, data, colorScale, emptyColor }) => {\n    return days.map(day => {\n        const dayData = data.find(item => item.day === day.day)\n\n        if (!dayData) {\n            return { ...day, color: emptyColor }\n        }\n\n        return {\n            ...day,\n            color: colorScale(dayData.value),\n            data: dayData,\n            value: dayData.value,\n        }\n    })\n}\n\nexport const computeYearLegendPositions = ({ years, direction, position, offset }) => {\n    return years.map(year => {\n        let x = 0\n        let y = 0\n        let rotation = 0\n        if (direction === 'horizontal' && position === 'before') {\n            x = year.bbox.x - offset\n            y = year.bbox.y + year.bbox.height / 2\n            rotation = -90\n        } else if (direction === 'horizontal' && position === 'after') {\n            x = year.bbox.x + year.bbox.width + offset\n            y = year.bbox.y + year.bbox.height / 2\n            rotation = -90\n        } else if (direction === 'vertical' && position === 'before') {\n            x = year.bbox.x + year.bbox.width / 2\n            y = year.bbox.y - offset\n        } else {\n            x = year.bbox.x + year.bbox.width / 2\n            y = year.bbox.y + year.bbox.height + offset\n        }\n\n        return {\n            ...year,\n            x,\n            y,\n            rotation,\n        }\n    })\n}\n\nexport const computeMonthLegendPositions = ({ months, direction, position, offset }) => {\n    return months.map(month => {\n        let x = 0\n        let y = 0\n        let rotation = 0\n        if (direction === 'horizontal' && position === 'before') {\n            x = month.bbox.x + month.bbox.width / 2\n            y = month.bbox.y - offset\n        } else if (direction === 'horizontal' && position === 'after') {\n            x = month.bbox.x + month.bbox.width / 2\n            y = month.bbox.y + month.bbox.height + offset\n        } else if (direction === 'vertical' && position === 'before') {\n            x = month.bbox.x - offset\n            y = month.bbox.y + month.bbox.height / 2\n            rotation = -90\n        } else {\n            x = month.bbox.x + month.bbox.width + offset\n            y = month.bbox.y + month.bbox.height / 2\n            rotation = -90\n        }\n\n        return {\n            ...month,\n            x,\n            y,\n            rotation,\n        }\n    })\n}\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { useMemo } from 'react'\nimport { scaleQuantize } from 'd3-scale'\nimport {\n    computeDomain,\n    computeYearLegendPositions,\n    computeMonthLegendPositions,\n    bindDaysData,\n    computeLayout,\n} from './compute'\n\nexport const useCalendarLayout = ({\n    width,\n    height,\n    from,\n    to,\n    direction,\n    yearSpacing,\n    monthSpacing,\n    daySpacing,\n    align,\n}) =>\n    useMemo(\n        () =>\n            computeLayout({\n                width,\n                height,\n                from,\n                to,\n                direction,\n                yearSpacing,\n                monthSpacing,\n                daySpacing,\n                align,\n            }),\n        [width, height, from, to, direction, yearSpacing, monthSpacing, daySpacing, align]\n    )\n\nexport const useColorScale = ({ data, minValue, maxValue, colors, colorScale }) =>\n    useMemo(() => {\n        if (colorScale) return colorScale\n        const domain = computeDomain(data, minValue, maxValue)\n        const defaultColorScale = scaleQuantize().domain(domain).range(colors)\n        return defaultColorScale\n    }, [data, minValue, maxValue, colors, colorScale])\n\nexport const useYearLegends = ({ years, direction, yearLegendPosition, yearLegendOffset }) =>\n    useMemo(\n        () =>\n            computeYearLegendPositions({\n                years,\n                direction,\n                position: yearLegendPosition,\n                offset: yearLegendOffset,\n            }),\n        [years, direction, yearLegendPosition, yearLegendOffset]\n    )\n\nexport const useMonthLegends = ({ months, direction, monthLegendPosition, monthLegendOffset }) =>\n    useMemo(\n        () =>\n            computeMonthLegendPositions({\n                months,\n                direction,\n                position: monthLegendPosition,\n                offset: monthLegendOffset,\n            }),\n        [months, direction, monthLegendPosition, monthLegendOffset]\n    )\n\nexport const useDays = ({ days, data, colorScale, emptyColor }) =>\n    useMemo(\n        () =>\n            bindDaysData({\n                days,\n                data,\n                colorScale,\n                emptyColor,\n            }),\n        [days, data, colorScale, emptyColor]\n    )\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo, useCallback } from 'react'\nimport PropTypes from 'prop-types'\nimport { useTooltip } from '@bitbloom/nivo-tooltip'\n\nconst CalendarDay = memo(\n    ({\n        data,\n        x,\n        y,\n        size,\n        color,\n        borderWidth,\n        borderColor,\n        isInteractive,\n        tooltip,\n        onMouseEnter,\n        onMouseMove,\n        onMouseLeave,\n        onClick,\n        formatValue,\n    }) => {\n        const { showTooltipFromEvent, hideTooltip } = useTooltip()\n\n        const handleMouseEnter = useCallback(\n            event => {\n                const formatedData = {\n                    ...data,\n                    value: formatValue(data.value),\n                    data: { ...data.data },\n                }\n                showTooltipFromEvent(React.createElement(tooltip, { ...formatedData }), event)\n                onMouseEnter && onMouseEnter(data, event)\n            },\n            [showTooltipFromEvent, tooltip, data, onMouseEnter, formatValue]\n        )\n        const handleMouseMove = useCallback(\n            event => {\n                const formatedData = {\n                    ...data,\n                    value: formatValue(data.value),\n                    data: { ...data.data },\n                }\n                showTooltipFromEvent(React.createElement(tooltip, { ...formatedData }), event)\n                onMouseMove && onMouseMove(data, event)\n            },\n            [showTooltipFromEvent, tooltip, data, onMouseMove, formatValue]\n        )\n        const handleMouseLeave = useCallback(\n            event => {\n                hideTooltip()\n                onMouseLeave && onMouseLeave(data, event)\n            },\n            [isInteractive, hideTooltip, data, onMouseLeave]\n        )\n        const handleClick = useCallback(event => onClick && onClick(data, event), [\n            isInteractive,\n            data,\n            onClick,\n        ])\n\n        return (\n            <rect\n                x={x}\n                y={y}\n                width={size}\n                height={size}\n                style={{\n                    fill: color,\n                    strokeWidth: borderWidth,\n                    stroke: borderColor,\n                }}\n                onMouseEnter={isInteractive ? handleMouseEnter : undefined}\n                onMouseMove={isInteractive ? handleMouseMove : undefined}\n                onMouseLeave={isInteractive ? handleMouseLeave : undefined}\n                onClick={isInteractive ? handleClick : undefined}\n            />\n        )\n    }\n)\n\nCalendarDay.displayName = 'CalendarDay'\nCalendarDay.propTypes = {\n    onClick: PropTypes.func,\n    onMouseEnter: PropTypes.func,\n    onMouseLeave: PropTypes.func,\n    onMouseMove: PropTypes.func,\n    data: PropTypes.object.isRequired,\n    x: PropTypes.number.isRequired,\n    y: PropTypes.number.isRequired,\n    size: PropTypes.number.isRequired,\n    spacing: PropTypes.number.isRequired,\n    color: PropTypes.string.isRequired,\n    borderWidth: PropTypes.number.isRequired,\n    borderColor: PropTypes.string.isRequired,\n    isInteractive: PropTypes.bool.isRequired,\n    formatValue: PropTypes.func,\n\n    tooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n\n    theme: PropTypes.shape({\n        tooltip: PropTypes.shape({}).isRequired,\n    }).isRequired,\n}\n\nexport default CalendarDay\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React from 'react'\nimport { SvgWrapper, useTheme, useDimensions, withContainer, useValueFormatter } from '@bitbloom/nivo-core'\nimport { BoxLegendSvg } from '@bitbloom/nivo-legends'\nimport { CalendarPropTypes, CalendarDefaultProps } from './props'\nimport CalendarYearLegends from './CalendarYearLegends'\nimport CalendarMonthPath from './CalendarMonthPath'\nimport CalendarMonthLegends from './CalendarMonthLegends'\nimport { useMonthLegends, useYearLegends, useCalendarLayout, useDays, useColorScale } from './hooks'\nimport CalendarDay from './CalendarDay'\n\nconst Calendar = ({\n    margin: partialMargin,\n    width,\n    height,\n\n    align,\n    colors,\n    colorScale,\n    data,\n    direction,\n    emptyColor,\n    from,\n    to,\n    minValue,\n    maxValue,\n    valueFormat,\n    legendFormat,\n\n    yearLegend,\n    yearLegendOffset,\n    yearLegendPosition,\n    yearSpacing,\n\n    monthBorderColor,\n    monthBorderWidth,\n    monthLegend,\n    monthLegendOffset,\n    monthLegendPosition,\n    monthSpacing,\n\n    dayBorderColor,\n    dayBorderWidth,\n    daySpacing,\n\n    isInteractive,\n    tooltip,\n    onClick,\n    onMouseEnter,\n    onMouseLeave,\n    onMouseMove,\n\n    legends,\n    role,\n}) => {\n    const theme = useTheme()\n    const { margin, innerWidth, innerHeight, outerWidth, outerHeight } = useDimensions(\n        width,\n        height,\n        partialMargin\n    )\n    const { months, years, ...rest } = useCalendarLayout({\n        width: innerWidth,\n        height: innerHeight,\n        from,\n        to,\n        direction,\n        yearSpacing,\n        monthSpacing,\n        daySpacing,\n        align,\n    })\n    const colorScaleFn = useColorScale({ data, minValue, maxValue, colors, colorScale })\n    const monthLegends = useMonthLegends({\n        months,\n        direction,\n        monthLegendPosition,\n        monthLegendOffset,\n    })\n    const yearLegends = useYearLegends({ years, direction, yearLegendPosition, yearLegendOffset })\n    const days = useDays({ days: rest.days, data, colorScale: colorScaleFn, emptyColor })\n    const formatLegend = useValueFormatter(legendFormat)\n    const formatValue = useValueFormatter(valueFormat)\n\n    return (\n        <SvgWrapper\n            width={outerWidth}\n            height={outerHeight}\n            margin={margin}\n            theme={theme}\n            role={role}\n        >\n            {days.map(d => (\n                <CalendarDay\n                    key={d.date.toString()}\n                    data={d}\n                    x={d.x}\n                    y={d.y}\n                    size={d.size}\n                    spacing={daySpacing}\n                    color={d.color}\n                    borderWidth={dayBorderWidth}\n                    borderColor={dayBorderColor}\n                    onMouseEnter={onMouseEnter}\n                    onMouseLeave={onMouseLeave}\n                    onMouseMove={onMouseMove}\n                    isInteractive={isInteractive}\n                    tooltip={tooltip}\n                    theme={theme}\n                    onClick={onClick}\n                    formatValue={formatValue}\n                />\n            ))}\n            {months.map(m => (\n                <CalendarMonthPath\n                    key={m.date.toString()}\n                    path={m.path}\n                    borderWidth={monthBorderWidth}\n                    borderColor={monthBorderColor}\n                />\n            ))}\n            <CalendarMonthLegends months={monthLegends} legend={monthLegend} theme={theme} />\n            <CalendarYearLegends years={yearLegends} legend={yearLegend} theme={theme} />\n            {legends.map((legend, i) => {\n                const legendData = colorScaleFn.ticks(legend.itemCount).map(value => ({\n                    id: value,\n                    label: formatLegend(value),\n                    color: colorScaleFn(value),\n                }))\n\n                return (\n                    <BoxLegendSvg\n                        key={i}\n                        {...legend}\n                        containerWidth={width}\n                        containerHeight={height}\n                        data={legendData}\n                        theme={theme}\n                    />\n                )\n            })}\n        </SvgWrapper>\n    )\n}\n\nCalendar.displayName = 'Calendar'\nCalendar.defaultProps = CalendarDefaultProps\nCalendar.propTypes = CalendarPropTypes\n\nexport default withContainer(Calendar)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React from 'react'\nimport { ResponsiveWrapper } from '@bitbloom/nivo-core'\nimport Calendar from './Calendar'\n\nconst ResponsiveCalendar = props => (\n    <ResponsiveWrapper>\n        {({ width, height }) => <Calendar width={width} height={height} {...props} />}\n    </ResponsiveWrapper>\n)\n\nexport default ResponsiveCalendar\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo, useRef, useState, useEffect, useCallback } from 'react'\nimport {\n    isCursorInRect,\n    getRelativeCursor,\n    degreesToRadians,\n    useDimensions,\n    useTheme,\n    withContainer,\n    useValueFormatter,\n} from '@bitbloom/nivo-core'\nimport { renderLegendToCanvas } from '@bitbloom/nivo-legends'\nimport { CalendarCanvasPropTypes, CalendarCanvasDefaultProps } from './props'\nimport { useCalendarLayout, useColorScale, useMonthLegends, useYearLegends, useDays } from './hooks'\nimport { useTooltip } from '@bitbloom/nivo-tooltip'\n\nconst findDayUnderCursor = (event, canvasEl, days, size, dayBorderWidth, margin) => {\n    const [x, y] = getRelativeCursor(canvasEl, event)\n    return days.find(day => {\n        return (\n            day.value !== undefined &&\n            isCursorInRect(\n                day.x + margin.left - dayBorderWidth / 2,\n                day.y + margin.top - dayBorderWidth / 2,\n                size + dayBorderWidth,\n                size + dayBorderWidth,\n                x,\n                y\n            )\n        )\n    })\n}\n\nconst CalendarCanvas = memo(\n    ({\n        margin: partialMargin,\n        width,\n        height,\n        pixelRatio,\n\n        align,\n        colors,\n        colorScale,\n        data,\n        direction,\n        emptyColor,\n        from,\n        to,\n        minValue,\n        maxValue,\n        valueFormat,\n        legendFormat,\n\n        yearLegend,\n        yearLegendOffset,\n        yearLegendPosition,\n        yearSpacing,\n\n        monthLegend,\n        monthLegendOffset,\n        monthLegendPosition,\n        monthSpacing,\n\n        dayBorderColor,\n        dayBorderWidth,\n        daySpacing,\n\n        isInteractive,\n        tooltip,\n        onClick,\n        onMouseEnter,\n        onMouseLeave,\n        onMouseMove,\n\n        legends,\n    }) => {\n        const canvasEl = useRef(null)\n        const { innerWidth, innerHeight, outerWidth, outerHeight, margin } = useDimensions(\n            width,\n            height,\n            partialMargin\n        )\n        const { months, years, ...rest } = useCalendarLayout({\n            width: innerWidth,\n            height: innerHeight,\n            from,\n            to,\n            direction,\n            yearSpacing,\n            monthSpacing,\n            daySpacing,\n            align,\n        })\n        const colorScaleFn = useColorScale({ data, minValue, maxValue, colors, colorScale })\n        const monthLegends = useMonthLegends({\n            months,\n            direction,\n            monthLegendPosition,\n            monthLegendOffset,\n        })\n        const yearLegends = useYearLegends({\n            years,\n            direction,\n            yearLegendPosition,\n            yearLegendOffset,\n        })\n        const days = useDays({ days: rest.days, data, colorScale: colorScaleFn, emptyColor })\n        const [currentDay, setCurrentDay] = useState(null)\n        const theme = useTheme()\n        const formatValue = useValueFormatter(valueFormat)\n        const formatLegend = useValueFormatter(legendFormat)\n\n        const { showTooltipFromEvent, hideTooltip } = useTooltip()\n\n        useEffect(() => {\n            canvasEl.current.width = outerWidth * pixelRatio\n            canvasEl.current.height = outerHeight * pixelRatio\n\n            const ctx = canvasEl.current.getContext('2d')\n\n            ctx.scale(pixelRatio, pixelRatio)\n\n            ctx.fillStyle = theme.background\n            ctx.fillRect(0, 0, outerWidth, outerHeight)\n            ctx.translate(margin.left, margin.top)\n\n            days.forEach(day => {\n                ctx.fillStyle = day.color\n                if (dayBorderWidth > 0) {\n                    ctx.strokeStyle = dayBorderColor\n                    ctx.lineWidth = dayBorderWidth\n                }\n\n                ctx.beginPath()\n                ctx.rect(day.x, day.y, day.size, day.size)\n                ctx.fill()\n\n                if (dayBorderWidth > 0) {\n                    ctx.stroke()\n                }\n            })\n\n            ctx.textAlign = 'center'\n            ctx.textBaseline = 'middle'\n            ctx.fillStyle = theme.labels.text.fill\n            ctx.font = `${theme.labels.text.fontSize}px ${theme.labels.text.fontFamily}`\n\n            monthLegends.forEach(month => {\n                ctx.save()\n                ctx.translate(month.x, month.y)\n                ctx.rotate(degreesToRadians(month.rotation))\n                ctx.fillText(monthLegend(month.year, month.month, month.date), 0, 0)\n                ctx.restore()\n            })\n\n            yearLegends.forEach(year => {\n                ctx.save()\n                ctx.translate(year.x, year.y)\n                ctx.rotate(degreesToRadians(year.rotation))\n                ctx.fillText(yearLegend(year.year), 0, 0)\n                ctx.restore()\n            })\n\n            legends.forEach(legend => {\n                const legendData = colorScaleFn.ticks(legend.itemCount).map(value => ({\n                    id: value,\n                    label: formatLegend(value),\n                    color: colorScaleFn(value),\n                }))\n\n                renderLegendToCanvas(ctx, {\n                    ...legend,\n                    data: legendData,\n                    containerWidth: innerWidth,\n                    containerHeight: innerHeight,\n                    theme,\n                })\n            })\n        }, [\n            canvasEl,\n            innerHeight,\n            innerWidth,\n            outerWidth,\n            outerHeight,\n            pixelRatio,\n            margin,\n            days,\n            dayBorderColor,\n            dayBorderWidth,\n            colorScale,\n            yearLegend,\n            yearLegends,\n            monthLegend,\n            monthLegends,\n            legends,\n            theme,\n            formatLegend,\n        ])\n\n        const handleMouseHover = useCallback(\n            event => {\n                const data = findDayUnderCursor(\n                    event,\n                    canvasEl.current,\n                    days,\n                    days[0].size,\n                    dayBorderWidth,\n                    margin\n                )\n\n                if (data) {\n                    setCurrentDay(data)\n                    const formatedData = {\n                        ...data,\n                        value: formatValue(data.value),\n                        data: { ...data.data },\n                    }\n                    showTooltipFromEvent(React.createElement(tooltip, { ...formatedData }), event)\n                    !currentDay && onMouseEnter && onMouseEnter(data, event)\n                    onMouseMove && onMouseMove(data, event)\n                    currentDay &&\n                        currentDay.id !== data.id &&\n                        onMouseLeave &&\n                        onMouseLeave(data, event)\n                } else {\n                    hideTooltip()\n                    onMouseLeave && onMouseLeave(data, event)\n                }\n            },\n            [\n                canvasEl,\n                margin,\n                days,\n                setCurrentDay,\n                formatValue,\n                daySpacing,\n                showTooltipFromEvent,\n                hideTooltip,\n                onMouseEnter,\n                onMouseMove,\n                onMouseLeave,\n            ]\n        )\n\n        const handleMouseLeave = useCallback(() => {\n            setCurrentDay(null)\n            hideTooltip()\n        }, [setCurrentDay, hideTooltip])\n\n        const handleClick = useCallback(\n            event => {\n                if (!onClick) return\n\n                const data = findDayUnderCursor(\n                    event,\n                    canvasEl.current,\n                    days,\n                    days[0].size,\n                    daySpacing,\n                    margin\n                )\n\n                data && onClick(data, event)\n            },\n            [canvasEl, daySpacing, margin, setCurrentDay, days, onClick]\n        )\n\n        return (\n            <canvas\n                ref={canvasEl}\n                width={outerWidth * pixelRatio}\n                height={outerHeight * pixelRatio}\n                style={{\n                    width: outerWidth,\n                    height: outerHeight,\n                }}\n                onMouseEnter={isInteractive ? handleMouseHover : undefined}\n                onMouseMove={isInteractive ? handleMouseHover : undefined}\n                onMouseLeave={isInteractive ? handleMouseLeave : undefined}\n                onClick={isInteractive ? handleClick : undefined}\n            />\n        )\n    }\n)\n\nCalendarCanvas.displayName = 'CalendarCanvas'\nCalendarCanvas.defaultProps = CalendarCanvasDefaultProps\nCalendarCanvas.propTypes = CalendarCanvasPropTypes\n\nexport default withContainer(CalendarCanvas)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React from 'react'\nimport { ResponsiveWrapper } from '@bitbloom/nivo-core'\nimport CalendarCanvas from './CalendarCanvas'\n\nconst ResponsiveCalendarCanvas = props => (\n    <ResponsiveWrapper>\n        {({ width, height }) => <CalendarCanvas width={width} height={height} {...props} />}\n    </ResponsiveWrapper>\n)\n\nexport default ResponsiveCalendarCanvas\n"],"names":["objectWithoutPropertiesLoose","defineProperty","CalendarTooltip","memo","value","day","color","undefined","isNaN","React","BasicTooltip","displayName","monthLabelFormat","timeFormat","commonPropTypes","from","PropTypes","oneOfType","string","instanceOf","Date","isRequired","to","data","arrayOf","shape","number","align","oneOf","boxAlignments","minValue","maxValue","colors","colorScale","func","direction","emptyColor","yearLegend","yearSpacing","yearLegendPosition","yearLegendOffset","monthBorderWidth","monthBorderColor","monthLegend","monthSpacing","monthLegendPosition","monthLegendOffset","daySpacing","dayBorderWidth","dayBorderColor","isInteractive","bool","onClick","onMouseEnter","onMouseLeave","onMouseMove","tooltip","object","valueFormat","legendFormat","legends","LegendPropShape","itemCount","CalendarPropTypes","role","CalendarCanvasPropTypes","pixelRatio","commonDefaultProps","year","month","date","weekdayLegend","d","CalendarDefaultProps","CalendarCanvasDefaultProps","global","window","devicePixelRatio","CalendarYearLegends","years","legend","theme","map","x","y","rotation","labels","text","CalendarMonthPath","path","borderWidth","borderColor","fill","strokeWidth","stroke","pointerEvents","CalendarMonthLegends","months","toString","arrayLikeToArray","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","arrayWithoutHoles","iterableToArray","nonIterableSpread","computeDomain","minSpec","maxSpec","allValues","Math","min","max","computeCellSize","width","height","yearRange","maxWeeks","hCellSize","vCellSize","length","monthPathAndBBox","cellSize","yearIndex","originX","originY","t1","getFullYear","getMonth","firstWeek","timeWeek","count","timeYear","lastWeek","firstDay","getDay","lastDay","xO","yO","yearOffset","monthOffset","bbox","join","memoMonthPathAndBBox","memoize","cellPositionHorizontal","weekOfYear","cellPositionVertical","dayFormat","computeLayout","fromDate","isDate","toDate","range","timeWeeks","monthsSize","yearsSize","calendarWidth","calendarHeight","alignBox","cellPosition","days","forEach","i","yearStart","yearEnd","concat","timeDays","dayDate","size","yearMonths","timeMonths","monthDate","push","bindDaysData","dayData","find","item","computeYearLegendPositions","position","offset","computeMonthLegendPositions","useCalendarLayout","useMemo","useColorScale","domain","defaultColorScale","scaleQuantize","useYearLegends","useMonthLegends","useDays","CalendarDay","formatValue","useTooltip","showTooltipFromEvent","hideTooltip","handleMouseEnter","useCallback","event","formatedData","createElement","handleMouseMove","handleMouseLeave","handleClick","Calendar","partialMargin","margin","useTheme","useDimensions","innerWidth","innerHeight","outerWidth","outerHeight","rest","colorScaleFn","monthLegends","yearLegends","formatLegend","useValueFormatter","SvgWrapper","m","legendData","ticks","id","label","BoxLegendSvg","defaultProps","withContainer","ResponsiveCalendar","props","ResponsiveWrapper","findDayUnderCursor","canvasEl","getRelativeCursor","isCursorInRect","left","top","CalendarCanvas","useRef","useState","currentDay","setCurrentDay","useEffect","current","ctx","getContext","scale","fillStyle","background","fillRect","translate","strokeStyle","lineWidth","beginPath","rect","textAlign","textBaseline","font","fontSize","fontFamily","save","rotate","degreesToRadians","fillText","restore","renderLegendToCanvas","containerWidth","containerHeight","handleMouseHover","ResponsiveCalendarCanvas"],"mappings":"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"}