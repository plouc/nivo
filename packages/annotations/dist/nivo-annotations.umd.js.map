{"version":3,"file":"nivo-annotations.umd.js","sources":["../src/props.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../src/compute.js","../src/hooks.js","../src/AnnotationNote.js","../src/AnnotationLink.js","../src/CircleAnnotationOutline.js","../src/DotAnnotationOutline.js","../src/RectAnnotationOutline.js","../src/Annotation.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../src/canvas.js"],"sourcesContent":["/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport PropTypes from 'prop-types'\n\nexport const annotationSpecPropType = PropTypes.shape({\n    match: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n\n    type: PropTypes.oneOf(['circle', 'rect', 'dot']).isRequired,\n\n    noteX: PropTypes.oneOfType([\n        PropTypes.number,\n        PropTypes.shape({\n            abs: PropTypes.number.isRequired,\n        }),\n    ]).isRequired,\n    noteY: PropTypes.oneOfType([\n        PropTypes.number,\n        PropTypes.shape({\n            abs: PropTypes.number.isRequired,\n        }),\n    ]).isRequired,\n    noteWidth: PropTypes.number,\n    noteTextOffset: PropTypes.number,\n    note: PropTypes.oneOfType([PropTypes.node, PropTypes.func]).isRequired,\n\n    offset: PropTypes.number,\n})\n\nexport const defaultProps = {\n    noteWidth: 120,\n    noteTextOffset: 8,\n\n    animate: true,\n    motionStiffness: 90,\n    motionDamping: 13,\n}\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport isPlainObject from 'lodash/isPlainObject'\nimport filter from 'lodash/filter'\nimport omit from 'lodash/omit'\nimport {\n    radiansToDegrees,\n    absoluteAngleDegrees,\n    degreesToRadians,\n    positionFromAngle,\n} from '@bitbloom/nivo-core'\nimport { defaultProps } from './props'\n\nconst defaultPositionAccessor = item => ({ x: item.x, y: item.y })\n\nexport const bindAnnotations = ({\n    items,\n    annotations,\n    getPosition = defaultPositionAccessor,\n    getDimensions,\n}) =>\n    annotations.reduce((acc, annotation) => {\n        filter(items, annotation.match).forEach(item => {\n            const position = getPosition(item)\n            const dimensions = getDimensions(item, annotation.offset || 0)\n\n            acc.push({\n                ...omit(annotation, ['match', 'offset']),\n                ...position,\n                ...dimensions,\n                datum: item,\n                size: annotation.size || dimensions.size,\n            })\n        })\n\n        return acc\n    }, [])\n\nexport const getLinkAngle = (sourceX, sourceY, targetX, targetY) => {\n    const angle = Math.atan2(targetY - sourceY, targetX - sourceX)\n    return absoluteAngleDegrees(radiansToDegrees(angle))\n}\n\nexport const computeAnnotation = ({\n    type,\n    // containerWidth,\n    // containerHeight,\n    x,\n    y,\n    size,\n    width,\n    height,\n    noteX,\n    noteY,\n    noteWidth = defaultProps.noteWidth,\n    noteTextOffset = defaultProps.noteTextOffset,\n}) => {\n    let computedNoteX\n    let computedNoteY\n\n    if (isPlainObject(noteX)) {\n        if (noteX.abs !== undefined) {\n            computedNoteX = noteX.abs\n        }\n    } else {\n        computedNoteX = x + noteX\n    }\n\n    if (isPlainObject(noteY)) {\n        if (noteY.abs !== undefined) {\n            computedNoteY = noteY.abs\n        }\n    } else {\n        computedNoteY = y + noteY\n    }\n\n    let computedX = x\n    let computedY = y\n\n    const angle = getLinkAngle(x, y, computedNoteX, computedNoteY)\n\n    if (type === 'circle') {\n        const position = positionFromAngle(degreesToRadians(angle), size / 2)\n        computedX += position.x\n        computedY += position.y\n    }\n\n    if (type === 'rect') {\n        const eighth = Math.round((angle + 90) / 45) % 8\n        if (eighth === 0) {\n            computedY -= height / 2\n        }\n        if (eighth === 1) {\n            computedX += width / 2\n            computedY -= height / 2\n        }\n        if (eighth === 2) {\n            computedX += width / 2\n        }\n        if (eighth === 3) {\n            computedX += width / 2\n            computedY += height / 2\n        }\n        if (eighth === 4) {\n            computedY += height / 2\n        }\n        if (eighth === 5) {\n            computedX -= width / 2\n            computedY += height / 2\n        }\n        if (eighth === 6) {\n            computedX -= width / 2\n        }\n        if (eighth === 7) {\n            computedX -= width / 2\n            computedY -= height / 2\n        }\n    }\n\n    let textX = computedNoteX\n    let textY = computedNoteY - noteTextOffset\n\n    let noteLineX = computedNoteX\n    let noteLineY = computedNoteY\n\n    if ((angle + 90) % 360 > 180) {\n        textX -= noteWidth\n        noteLineX -= noteWidth\n    } else {\n        noteLineX += noteWidth\n    }\n\n    return {\n        points: [\n            [computedX, computedY],\n            [computedNoteX, computedNoteY],\n            [noteLineX, noteLineY],\n        ],\n        text: [textX, textY],\n        angle: angle + 90,\n    }\n}\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { useMemo } from 'react'\nimport { bindAnnotations, computeAnnotation } from './compute'\n\nexport const useAnnotations = ({ items, annotations, getPosition, getDimensions }) =>\n    useMemo(\n        () =>\n            bindAnnotations({\n                items,\n                annotations,\n                getPosition,\n                getDimensions,\n            }),\n        [items, annotations, getPosition, getDimensions]\n    )\n\nexport const useComputedAnnotations = ({ annotations, containerWidth, containerHeight }) =>\n    useMemo(\n        () =>\n            annotations.map(annotation => ({\n                ...annotation,\n                computed: computeAnnotation({\n                    containerWidth,\n                    containerHeight,\n                    ...annotation,\n                }),\n            })),\n        [annotations, containerWidth, containerHeight]\n    )\n\nexport const useComputedAnnotation = ({\n    type,\n    containerWidth,\n    containerHeight,\n    x,\n    y,\n    size,\n    width,\n    height,\n    noteX,\n    noteY,\n    noteWidth,\n    noteTextOffset,\n}) =>\n    useMemo(\n        () =>\n            computeAnnotation({\n                type,\n                containerWidth,\n                containerHeight,\n                x,\n                y,\n                size,\n                width,\n                height,\n                noteX,\n                noteY,\n                noteWidth,\n                noteTextOffset,\n            }),\n        [\n            type,\n            containerWidth,\n            containerHeight,\n            x,\n            y,\n            size,\n            width,\n            height,\n            noteX,\n            noteY,\n            noteWidth,\n            noteTextOffset,\n        ]\n    )\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport omit from 'lodash/omit'\nimport PropTypes from 'prop-types'\nimport { useSpring, animated } from 'react-spring'\nimport { useTheme, useMotionConfig } from '@bitbloom/nivo-core'\n\nconst AnnotationNote = memo(({ datum, x, y, note }) => {\n    const theme = useTheme()\n    const { animate, config: springConfiig } = useMotionConfig()\n\n    const animatedProps = useSpring({\n        x,\n        y,\n        config: springConfiig,\n        immediate: !animate,\n    })\n\n    if (typeof note === 'function') {\n        return note({ x, y, datum })\n    }\n\n    return (\n        <>\n            {theme.annotations.text.outlineWidth > 0 && (\n                <animated.text\n                    x={animatedProps.x}\n                    y={animatedProps.y}\n                    style={{\n                        ...theme.annotations.text,\n                        strokeLinejoin: 'round',\n                        strokeWidth: theme.annotations.text.outlineWidth * 2,\n                        stroke: theme.annotations.text.outlineColor,\n                    }}\n                >\n                    {note}\n                </animated.text>\n            )}\n            <animated.text\n                x={animatedProps.x}\n                y={animatedProps.y}\n                style={omit(theme.annotations.text, ['outlineWidth', 'outlineColor'])}\n            >\n                {note}\n            </animated.text>\n        </>\n    )\n})\n\nAnnotationNote.displayName = 'AnnotationNote'\nAnnotationNote.propTypes = {\n    datum: PropTypes.object.isRequired,\n    x: PropTypes.number.isRequired,\n    y: PropTypes.number.isRequired,\n    note: PropTypes.oneOfType([PropTypes.node, PropTypes.func]).isRequired,\n}\nAnnotationNote.defaultProps = {}\n\nexport default AnnotationNote\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\nimport { useSpring, animated } from 'react-spring'\nimport { useTheme, useMotionConfig } from '@bitbloom/nivo-core'\n\nconst AnnotationLink = memo(({ points, isOutline }) => {\n    const theme = useTheme()\n\n    let path = `M${points[0][0]},${points[0][1]}`\n    points.slice(1).forEach(point => {\n        path = `${path} L${point[0]},${point[1]}`\n    })\n\n    const { animate, config: springConfig } = useMotionConfig()\n    const animatedProps = useSpring({\n        path,\n        config: springConfig,\n        immediate: !animate,\n    })\n\n    if (isOutline && theme.annotations.link.outlineWidth <= 0) {\n        return null\n    }\n\n    const style = { ...theme.annotations.link }\n    if (isOutline) {\n        style.strokeLinecap = 'square'\n        style.strokeWidth =\n            theme.annotations.link.strokeWidth + theme.annotations.link.outlineWidth * 2\n        style.stroke = theme.annotations.link.outlineColor\n    }\n\n    return <animated.path fill=\"none\" d={animatedProps.path} style={style} />\n})\n\nAnnotationLink.displayName = 'AnnotationLink'\nAnnotationLink.propTypes = {\n    points: PropTypes.arrayOf(PropTypes.array).isRequired,\n    isOutline: PropTypes.bool.isRequired,\n}\nAnnotationLink.defaultProps = {\n    isOutline: false,\n}\n\nexport default AnnotationLink\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\nimport { useSpring, animated } from 'react-spring'\nimport { useMotionConfig, useTheme } from '@bitbloom/nivo-core'\n\nconst CircleAnnotationOutline = memo(({ x, y, size }) => {\n    const theme = useTheme()\n    const { animate, config: springConfig } = useMotionConfig()\n\n    const animatedProps = useSpring({\n        x,\n        y,\n        radius: size / 2,\n        config: springConfig,\n        immediate: !animate,\n    })\n\n    return (\n        <>\n            {theme.annotations.outline.outlineWidth > 0 && (\n                <animated.circle\n                    cx={animatedProps.x}\n                    cy={animatedProps.y}\n                    r={animatedProps.radius}\n                    style={{\n                        ...theme.annotations.outline,\n                        fill: 'none',\n                        strokeWidth:\n                            theme.annotations.outline.strokeWidth +\n                            theme.annotations.outline.outlineWidth * 2,\n                        stroke: theme.annotations.outline.outlineColor,\n                    }}\n                />\n            )}\n            <animated.circle\n                cx={animatedProps.x}\n                cy={animatedProps.y}\n                r={animatedProps.radius}\n                style={theme.annotations.outline}\n            />\n        </>\n    )\n})\n\nCircleAnnotationOutline.displayName = 'CircleAnnotationOutline'\nCircleAnnotationOutline.propTypes = {\n    x: PropTypes.number.isRequired,\n    y: PropTypes.number.isRequired,\n    size: PropTypes.number.isRequired,\n}\n\nexport default CircleAnnotationOutline\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\nimport { useSpring, animated } from 'react-spring'\nimport { useMotionConfig, useTheme } from '@bitbloom/nivo-core'\n\nconst DotAnnotationOutline = memo(({ x, y, size }) => {\n    const theme = useTheme()\n    const { animate, config: springConfig } = useMotionConfig()\n\n    const animatedProps = useSpring({\n        x,\n        y,\n        radius: size / 2,\n        config: springConfig,\n        immediate: !animate,\n    })\n\n    return (\n        <>\n            {theme.annotations.outline.outlineWidth > 0 && (\n                <animated.circle\n                    cx={animatedProps.x}\n                    cy={animatedProps.y}\n                    r={animatedProps.radius}\n                    style={{\n                        ...theme.annotations.outline,\n                        fill: 'none',\n                        strokeWidth: theme.annotations.outline.outlineWidth * 2,\n                        stroke: theme.annotations.outline.outlineColor,\n                    }}\n                />\n            )}\n            <animated.circle\n                cx={animatedProps.x}\n                cy={animatedProps.y}\n                r={animatedProps.radius}\n                style={theme.annotations.symbol}\n            />\n        </>\n    )\n})\n\nDotAnnotationOutline.displayName = 'DotAnnotationOutline'\nDotAnnotationOutline.propTypes = {\n    x: PropTypes.number.isRequired,\n    y: PropTypes.number.isRequired,\n    size: PropTypes.number.isRequired,\n}\nDotAnnotationOutline.defaultProps = {\n    size: 4,\n}\n\nexport default DotAnnotationOutline\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\nimport { useSpring, animated } from 'react-spring'\nimport { useMotionConfig, useTheme } from '@bitbloom/nivo-core'\n\nconst RectAnnotationOutline = memo(({ x, y, width, height }) => {\n    const theme = useTheme()\n    const { animate, config: springConfig } = useMotionConfig()\n\n    const animatedProps = useSpring({\n        x: x - width / 2,\n        y: y - height / 2,\n        width,\n        height,\n        config: springConfig,\n        immediate: !animate,\n    })\n\n    return (\n        <>\n            {theme.annotations.outline.outlineWidth > 0 && (\n                <animated.rect\n                    x={animatedProps.x}\n                    y={animatedProps.y}\n                    width={animatedProps.width}\n                    height={animatedProps.height}\n                    style={{\n                        ...theme.annotations.outline,\n                        fill: 'none',\n                        strokeWidth:\n                            theme.annotations.outline.strokeWidth +\n                            theme.annotations.outline.outlineWidth * 2,\n                        stroke: theme.annotations.outline.outlineColor,\n                    }}\n                />\n            )}\n            <animated.rect\n                x={animatedProps.x}\n                y={animatedProps.y}\n                width={animatedProps.width}\n                height={animatedProps.height}\n                style={theme.annotations.outline}\n            />\n        </>\n    )\n})\n\nRectAnnotationOutline.displayName = 'RectAnnotationOutline'\nRectAnnotationOutline.propTypes = {\n    x: PropTypes.number.isRequired,\n    y: PropTypes.number.isRequired,\n    width: PropTypes.number.isRequired,\n    height: PropTypes.number.isRequired,\n}\n\nexport default RectAnnotationOutline\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\nimport { defaultProps } from './props'\nimport { useComputedAnnotation } from './hooks'\nimport AnnotationNote from './AnnotationNote'\nimport AnnotationLink from './AnnotationLink'\nimport CircleAnnotationOutline from './CircleAnnotationOutline'\nimport DotAnnotationOutline from './DotAnnotationOutline'\nimport RectAnnotationOutline from './RectAnnotationOutline'\n\nconst Annotation = memo(\n    ({\n        datum,\n        type,\n        containerWidth,\n        containerHeight,\n        x,\n        y,\n        size,\n        width,\n        height,\n        noteX,\n        noteY,\n        noteWidth,\n        noteTextOffset,\n        note,\n    }) => {\n        const computed = useComputedAnnotation({\n            type,\n            containerWidth,\n            containerHeight,\n            x,\n            y,\n            size,\n            width,\n            height,\n            noteX,\n            noteY,\n            noteWidth,\n            noteTextOffset,\n        })\n\n        return (\n            <>\n                <AnnotationLink points={computed.points} isOutline={true} />\n                {type === 'circle' && <CircleAnnotationOutline x={x} y={y} size={size} />}\n                {type === 'dot' && <DotAnnotationOutline x={x} y={y} size={size} />}\n                {type === 'rect' && (\n                    <RectAnnotationOutline x={x} y={y} width={width} height={height} />\n                )}\n                <AnnotationLink points={computed.points} />\n                <AnnotationNote\n                    datum={datum}\n                    x={computed.text[0]}\n                    y={computed.text[1]}\n                    note={note}\n                />\n            </>\n        )\n    }\n)\n\nAnnotation.displayName = 'Annotation'\nAnnotation.propTypes = {\n    datum: PropTypes.object.isRequired,\n\n    type: PropTypes.oneOf(['circle', 'rect', 'dot']).isRequired,\n\n    containerWidth: PropTypes.number.isRequired,\n    containerHeight: PropTypes.number.isRequired,\n\n    x: PropTypes.number.isRequired,\n    y: PropTypes.number.isRequired,\n    size: PropTypes.number,\n    width: PropTypes.number,\n    height: PropTypes.number,\n\n    noteX: PropTypes.oneOfType([\n        PropTypes.number,\n        PropTypes.shape({\n            abs: PropTypes.number.isRequired,\n        }),\n    ]).isRequired,\n    noteY: PropTypes.oneOfType([\n        PropTypes.number,\n        PropTypes.shape({\n            abs: PropTypes.number.isRequired,\n        }),\n    ]).isRequired,\n    noteWidth: PropTypes.number.isRequired,\n    noteTextOffset: PropTypes.number.isRequired,\n    note: PropTypes.oneOfType([PropTypes.node, PropTypes.func]).isRequired,\n}\nAnnotation.defaultProps = {\n    noteWidth: defaultProps.noteWidth,\n    noteTextOffset: defaultProps.noteTextOffset,\n}\n\nexport default Annotation\n","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\n\nconst drawPoints = (ctx, points) => {\n    points.forEach(([x, y], index) => {\n        if (index === 0) {\n            ctx.moveTo(x, y)\n        } else {\n            ctx.lineTo(x, y)\n        }\n    })\n}\n\nexport const renderAnnotationsToCanvas = (ctx, { annotations, theme }) => {\n    if (annotations.length === 0) return\n\n    ctx.save()\n    annotations.forEach(annotation => {\n        if (theme.annotations.link.outlineWidth > 0) {\n            ctx.lineCap = 'square'\n            ctx.strokeStyle = theme.annotations.link.outlineColor\n            ctx.lineWidth =\n                theme.annotations.link.strokeWidth + theme.annotations.link.outlineWidth * 2\n            ctx.beginPath()\n            drawPoints(ctx, annotation.computed.points)\n            ctx.stroke()\n            ctx.lineCap = 'butt'\n        }\n\n        if (annotation.type === 'circle' && theme.annotations.outline.outlineWidth > 0) {\n            ctx.strokeStyle = theme.annotations.outline.outlineColor\n            ctx.lineWidth =\n                theme.annotations.outline.strokeWidth + theme.annotations.outline.outlineWidth * 2\n            ctx.beginPath()\n            ctx.arc(annotation.x, annotation.y, annotation.size / 2, 0, 2 * Math.PI)\n            ctx.stroke()\n        }\n        if (annotation.type === 'dot' && theme.annotations.symbol.outlineWidth > 0) {\n            ctx.strokeStyle = theme.annotations.symbol.outlineColor\n            ctx.lineWidth = theme.annotations.symbol.outlineWidth * 2\n            ctx.beginPath()\n            ctx.arc(annotation.x, annotation.y, annotation.size / 2, 0, 2 * Math.PI)\n            ctx.stroke()\n        }\n        if (annotation.type === 'rect' && theme.annotations.outline.outlineWidth > 0) {\n            ctx.strokeStyle = theme.annotations.outline.outlineColor\n            ctx.lineWidth =\n                theme.annotations.outline.strokeWidth + theme.annotations.outline.outlineWidth * 2\n            ctx.beginPath()\n            ctx.rect(\n                annotation.x - annotation.width / 2,\n                annotation.y - annotation.height / 2,\n                annotation.width,\n                annotation.height\n            )\n            ctx.stroke()\n        }\n\n        ctx.strokeStyle = theme.annotations.link.stroke\n        ctx.lineWidth = theme.annotations.link.strokeWidth\n        ctx.beginPath()\n        drawPoints(ctx, annotation.computed.points)\n        ctx.stroke()\n\n        if (annotation.type === 'circle') {\n            ctx.strokeStyle = theme.annotations.outline.stroke\n            ctx.lineWidth = theme.annotations.outline.strokeWidth\n            ctx.beginPath()\n            ctx.arc(annotation.x, annotation.y, annotation.size / 2, 0, 2 * Math.PI)\n            ctx.stroke()\n        }\n        if (annotation.type === 'dot') {\n            ctx.fillStyle = theme.annotations.symbol.fill\n            ctx.beginPath()\n            ctx.arc(annotation.x, annotation.y, annotation.size / 2, 0, 2 * Math.PI)\n            ctx.fill()\n        }\n        if (annotation.type === 'rect') {\n            ctx.strokeStyle = theme.annotations.outline.stroke\n            ctx.lineWidth = theme.annotations.outline.strokeWidth\n            ctx.beginPath()\n            ctx.rect(\n                annotation.x - annotation.width / 2,\n                annotation.y - annotation.height / 2,\n                annotation.width,\n                annotation.height\n            )\n            ctx.stroke()\n        }\n\n        if (typeof annotation.note === 'function') {\n            annotation.note(ctx, {\n                datum: annotation.datum,\n                x: annotation.computed.text[0],\n                y: annotation.computed.text[1],\n                theme,\n            })\n        } else {\n            ctx.font = `${theme.annotations.text.fontSize}px ${theme.annotations.text.fontFamily}`\n            ctx.fillStyle = theme.annotations.text.fill\n            ctx.strokeStyle = theme.annotations.text.outlineColor\n            ctx.lineWidth = theme.annotations.text.outlineWidth * 2\n            if (theme.annotations.text.outlineWidth > 0) {\n                ctx.lineJoin = 'round'\n                ctx.strokeText(\n                    annotation.note,\n                    annotation.computed.text[0],\n                    annotation.computed.text[1]\n                )\n                ctx.lineJoin = 'miter'\n            }\n            ctx.fillText(annotation.note, annotation.computed.text[0], annotation.computed.text[1])\n        }\n    })\n    ctx.restore()\n}\n"],"names":["annotationSpecPropType","PropTypes","shape","match","oneOfType","func","object","isRequired","type","oneOf","noteX","number","abs","noteY","noteWidth","noteTextOffset","note","node","offset","defaultProps","animate","motionStiffness","motionDamping","defineProperty","defaultPositionAccessor","item","x","y","bindAnnotations","items","annotations","getPosition","getDimensions","reduce","acc","annotation","filter","forEach","position","dimensions","push","omit","datum","size","getLinkAngle","sourceX","sourceY","targetX","targetY","angle","Math","atan2","absoluteAngleDegrees","radiansToDegrees","computeAnnotation","width","height","computedNoteX","computedNoteY","isPlainObject","undefined","computedX","computedY","positionFromAngle","degreesToRadians","eighth","round","textX","textY","noteLineX","noteLineY","points","text","useAnnotations","useMemo","useComputedAnnotations","containerWidth","containerHeight","map","computed","useComputedAnnotation","AnnotationNote","memo","theme","useTheme","useMotionConfig","springConfiig","config","animatedProps","useSpring","immediate","outlineWidth","React","animated","strokeLinejoin","strokeWidth","stroke","outlineColor","displayName","AnnotationLink","isOutline","path","slice","point","springConfig","link","style","strokeLinecap","CircleAnnotationOutline","radius","outline","fill","DotAnnotationOutline","symbol","RectAnnotationOutline","Annotation","arrayLikeToArray","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","drawPoints","ctx","index","moveTo","lineTo","renderAnnotationsToCanvas","length","save","lineCap","strokeStyle","lineWidth","beginPath","arc","PI","rect","fillStyle","font","fontSize","fontFamily","lineJoin","strokeText","fillText","restore"],"mappings":"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"}