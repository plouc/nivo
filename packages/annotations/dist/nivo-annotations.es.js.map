{"version":3,"file":"nivo-annotations.es.js","sources":["../src/props.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../src/compute.js","../src/hooks.js","../src/AnnotationNote.js","../src/AnnotationLink.js","../src/CircleAnnotationOutline.js","../src/DotAnnotationOutline.js","../src/RectAnnotationOutline.js","../src/Annotation.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../src/canvas.js"],"sourcesContent":["/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport PropTypes from 'prop-types'\n\nexport const annotationSpecPropType = PropTypes.shape({\n    match: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n\n    type: PropTypes.oneOf(['circle', 'rect', 'dot']).isRequired,\n\n    noteX: PropTypes.oneOfType([\n        PropTypes.number,\n        PropTypes.shape({\n            abs: PropTypes.number.isRequired,\n        }),\n    ]).isRequired,\n    noteY: PropTypes.oneOfType([\n        PropTypes.number,\n        PropTypes.shape({\n            abs: PropTypes.number.isRequired,\n        }),\n    ]).isRequired,\n    noteWidth: PropTypes.number,\n    noteTextOffset: PropTypes.number,\n    note: PropTypes.oneOfType([PropTypes.node, PropTypes.func]).isRequired,\n\n    offset: PropTypes.number,\n})\n\nexport const defaultProps = {\n    noteWidth: 120,\n    noteTextOffset: 8,\n\n    animate: true,\n    motionStiffness: 90,\n    motionDamping: 13,\n}\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport isPlainObject from 'lodash/isPlainObject'\nimport filter from 'lodash/filter'\nimport omit from 'lodash/omit'\nimport {\n    radiansToDegrees,\n    absoluteAngleDegrees,\n    degreesToRadians,\n    positionFromAngle,\n} from '@bitbloom/nivo-core'\nimport { defaultProps } from './props'\n\nconst defaultPositionAccessor = item => ({ x: item.x, y: item.y })\n\nexport const bindAnnotations = ({\n    items,\n    annotations,\n    getPosition = defaultPositionAccessor,\n    getDimensions,\n}) =>\n    annotations.reduce((acc, annotation) => {\n        filter(items, annotation.match).forEach(item => {\n            const position = getPosition(item)\n            const dimensions = getDimensions(item, annotation.offset || 0)\n\n            acc.push({\n                ...omit(annotation, ['match', 'offset']),\n                ...position,\n                ...dimensions,\n                datum: item,\n                size: annotation.size || dimensions.size,\n            })\n        })\n\n        return acc\n    }, [])\n\nexport const getLinkAngle = (sourceX, sourceY, targetX, targetY) => {\n    const angle = Math.atan2(targetY - sourceY, targetX - sourceX)\n    return absoluteAngleDegrees(radiansToDegrees(angle))\n}\n\nexport const computeAnnotation = ({\n    type,\n    // containerWidth,\n    // containerHeight,\n    x,\n    y,\n    size,\n    width,\n    height,\n    noteX,\n    noteY,\n    noteWidth = defaultProps.noteWidth,\n    noteTextOffset = defaultProps.noteTextOffset,\n}) => {\n    let computedNoteX\n    let computedNoteY\n\n    if (isPlainObject(noteX)) {\n        if (noteX.abs !== undefined) {\n            computedNoteX = noteX.abs\n        }\n    } else {\n        computedNoteX = x + noteX\n    }\n\n    if (isPlainObject(noteY)) {\n        if (noteY.abs !== undefined) {\n            computedNoteY = noteY.abs\n        }\n    } else {\n        computedNoteY = y + noteY\n    }\n\n    let computedX = x\n    let computedY = y\n\n    const angle = getLinkAngle(x, y, computedNoteX, computedNoteY)\n\n    if (type === 'circle') {\n        const position = positionFromAngle(degreesToRadians(angle), size / 2)\n        computedX += position.x\n        computedY += position.y\n    }\n\n    if (type === 'rect') {\n        const eighth = Math.round((angle + 90) / 45) % 8\n        if (eighth === 0) {\n            computedY -= height / 2\n        }\n        if (eighth === 1) {\n            computedX += width / 2\n            computedY -= height / 2\n        }\n        if (eighth === 2) {\n            computedX += width / 2\n        }\n        if (eighth === 3) {\n            computedX += width / 2\n            computedY += height / 2\n        }\n        if (eighth === 4) {\n            computedY += height / 2\n        }\n        if (eighth === 5) {\n            computedX -= width / 2\n            computedY += height / 2\n        }\n        if (eighth === 6) {\n            computedX -= width / 2\n        }\n        if (eighth === 7) {\n            computedX -= width / 2\n            computedY -= height / 2\n        }\n    }\n\n    let textX = computedNoteX\n    let textY = computedNoteY - noteTextOffset\n\n    let noteLineX = computedNoteX\n    let noteLineY = computedNoteY\n\n    if ((angle + 90) % 360 > 180) {\n        textX -= noteWidth\n        noteLineX -= noteWidth\n    } else {\n        noteLineX += noteWidth\n    }\n\n    return {\n        points: [\n            [computedX, computedY],\n            [computedNoteX, computedNoteY],\n            [noteLineX, noteLineY],\n        ],\n        text: [textX, textY],\n        angle: angle + 90,\n    }\n}\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { useMemo } from 'react'\nimport { bindAnnotations, computeAnnotation } from './compute'\n\nexport const useAnnotations = ({ items, annotations, getPosition, getDimensions }) =>\n    useMemo(\n        () =>\n            bindAnnotations({\n                items,\n                annotations,\n                getPosition,\n                getDimensions,\n            }),\n        [items, annotations, getPosition, getDimensions]\n    )\n\nexport const useComputedAnnotations = ({ annotations, containerWidth, containerHeight }) =>\n    useMemo(\n        () =>\n            annotations.map(annotation => ({\n                ...annotation,\n                computed: computeAnnotation({\n                    containerWidth,\n                    containerHeight,\n                    ...annotation,\n                }),\n            })),\n        [annotations, containerWidth, containerHeight]\n    )\n\nexport const useComputedAnnotation = ({\n    type,\n    containerWidth,\n    containerHeight,\n    x,\n    y,\n    size,\n    width,\n    height,\n    noteX,\n    noteY,\n    noteWidth,\n    noteTextOffset,\n}) =>\n    useMemo(\n        () =>\n            computeAnnotation({\n                type,\n                containerWidth,\n                containerHeight,\n                x,\n                y,\n                size,\n                width,\n                height,\n                noteX,\n                noteY,\n                noteWidth,\n                noteTextOffset,\n            }),\n        [\n            type,\n            containerWidth,\n            containerHeight,\n            x,\n            y,\n            size,\n            width,\n            height,\n            noteX,\n            noteY,\n            noteWidth,\n            noteTextOffset,\n        ]\n    )\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport omit from 'lodash/omit'\nimport PropTypes from 'prop-types'\nimport { useSpring, animated } from 'react-spring'\nimport { useTheme, useMotionConfig } from '@bitbloom/nivo-core'\n\nconst AnnotationNote = memo(({ datum, x, y, note }) => {\n    const theme = useTheme()\n    const { animate, config: springConfiig } = useMotionConfig()\n\n    const animatedProps = useSpring({\n        x,\n        y,\n        config: springConfiig,\n        immediate: !animate,\n    })\n\n    if (typeof note === 'function') {\n        return note({ x, y, datum })\n    }\n\n    return (\n        <>\n            {theme.annotations.text.outlineWidth > 0 && (\n                <animated.text\n                    x={animatedProps.x}\n                    y={animatedProps.y}\n                    style={{\n                        ...theme.annotations.text,\n                        strokeLinejoin: 'round',\n                        strokeWidth: theme.annotations.text.outlineWidth * 2,\n                        stroke: theme.annotations.text.outlineColor,\n                    }}\n                >\n                    {note}\n                </animated.text>\n            )}\n            <animated.text\n                x={animatedProps.x}\n                y={animatedProps.y}\n                style={omit(theme.annotations.text, ['outlineWidth', 'outlineColor'])}\n            >\n                {note}\n            </animated.text>\n        </>\n    )\n})\n\nAnnotationNote.displayName = 'AnnotationNote'\nAnnotationNote.propTypes = {\n    datum: PropTypes.object.isRequired,\n    x: PropTypes.number.isRequired,\n    y: PropTypes.number.isRequired,\n    note: PropTypes.oneOfType([PropTypes.node, PropTypes.func]).isRequired,\n}\nAnnotationNote.defaultProps = {}\n\nexport default AnnotationNote\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\nimport { useSpring, animated } from 'react-spring'\nimport { useTheme, useMotionConfig } from '@bitbloom/nivo-core'\n\nconst AnnotationLink = memo(({ points, isOutline }) => {\n    const theme = useTheme()\n\n    let path = `M${points[0][0]},${points[0][1]}`\n    points.slice(1).forEach(point => {\n        path = `${path} L${point[0]},${point[1]}`\n    })\n\n    const { animate, config: springConfig } = useMotionConfig()\n    const animatedProps = useSpring({\n        path,\n        config: springConfig,\n        immediate: !animate,\n    })\n\n    if (isOutline && theme.annotations.link.outlineWidth <= 0) {\n        return null\n    }\n\n    const style = { ...theme.annotations.link }\n    if (isOutline) {\n        style.strokeLinecap = 'square'\n        style.strokeWidth =\n            theme.annotations.link.strokeWidth + theme.annotations.link.outlineWidth * 2\n        style.stroke = theme.annotations.link.outlineColor\n    }\n\n    return <animated.path fill=\"none\" d={animatedProps.path} style={style} />\n})\n\nAnnotationLink.displayName = 'AnnotationLink'\nAnnotationLink.propTypes = {\n    points: PropTypes.arrayOf(PropTypes.array).isRequired,\n    isOutline: PropTypes.bool.isRequired,\n}\nAnnotationLink.defaultProps = {\n    isOutline: false,\n}\n\nexport default AnnotationLink\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\nimport { useSpring, animated } from 'react-spring'\nimport { useMotionConfig, useTheme } from '@bitbloom/nivo-core'\n\nconst CircleAnnotationOutline = memo(({ x, y, size }) => {\n    const theme = useTheme()\n    const { animate, config: springConfig } = useMotionConfig()\n\n    const animatedProps = useSpring({\n        x,\n        y,\n        radius: size / 2,\n        config: springConfig,\n        immediate: !animate,\n    })\n\n    return (\n        <>\n            {theme.annotations.outline.outlineWidth > 0 && (\n                <animated.circle\n                    cx={animatedProps.x}\n                    cy={animatedProps.y}\n                    r={animatedProps.radius}\n                    style={{\n                        ...theme.annotations.outline,\n                        fill: 'none',\n                        strokeWidth:\n                            theme.annotations.outline.strokeWidth +\n                            theme.annotations.outline.outlineWidth * 2,\n                        stroke: theme.annotations.outline.outlineColor,\n                    }}\n                />\n            )}\n            <animated.circle\n                cx={animatedProps.x}\n                cy={animatedProps.y}\n                r={animatedProps.radius}\n                style={theme.annotations.outline}\n            />\n        </>\n    )\n})\n\nCircleAnnotationOutline.displayName = 'CircleAnnotationOutline'\nCircleAnnotationOutline.propTypes = {\n    x: PropTypes.number.isRequired,\n    y: PropTypes.number.isRequired,\n    size: PropTypes.number.isRequired,\n}\n\nexport default CircleAnnotationOutline\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\nimport { useSpring, animated } from 'react-spring'\nimport { useMotionConfig, useTheme } from '@bitbloom/nivo-core'\n\nconst DotAnnotationOutline = memo(({ x, y, size }) => {\n    const theme = useTheme()\n    const { animate, config: springConfig } = useMotionConfig()\n\n    const animatedProps = useSpring({\n        x,\n        y,\n        radius: size / 2,\n        config: springConfig,\n        immediate: !animate,\n    })\n\n    return (\n        <>\n            {theme.annotations.outline.outlineWidth > 0 && (\n                <animated.circle\n                    cx={animatedProps.x}\n                    cy={animatedProps.y}\n                    r={animatedProps.radius}\n                    style={{\n                        ...theme.annotations.outline,\n                        fill: 'none',\n                        strokeWidth: theme.annotations.outline.outlineWidth * 2,\n                        stroke: theme.annotations.outline.outlineColor,\n                    }}\n                />\n            )}\n            <animated.circle\n                cx={animatedProps.x}\n                cy={animatedProps.y}\n                r={animatedProps.radius}\n                style={theme.annotations.symbol}\n            />\n        </>\n    )\n})\n\nDotAnnotationOutline.displayName = 'DotAnnotationOutline'\nDotAnnotationOutline.propTypes = {\n    x: PropTypes.number.isRequired,\n    y: PropTypes.number.isRequired,\n    size: PropTypes.number.isRequired,\n}\nDotAnnotationOutline.defaultProps = {\n    size: 4,\n}\n\nexport default DotAnnotationOutline\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\nimport { useSpring, animated } from 'react-spring'\nimport { useMotionConfig, useTheme } from '@bitbloom/nivo-core'\n\nconst RectAnnotationOutline = memo(({ x, y, width, height }) => {\n    const theme = useTheme()\n    const { animate, config: springConfig } = useMotionConfig()\n\n    const animatedProps = useSpring({\n        x: x - width / 2,\n        y: y - height / 2,\n        width,\n        height,\n        config: springConfig,\n        immediate: !animate,\n    })\n\n    return (\n        <>\n            {theme.annotations.outline.outlineWidth > 0 && (\n                <animated.rect\n                    x={animatedProps.x}\n                    y={animatedProps.y}\n                    width={animatedProps.width}\n                    height={animatedProps.height}\n                    style={{\n                        ...theme.annotations.outline,\n                        fill: 'none',\n                        strokeWidth:\n                            theme.annotations.outline.strokeWidth +\n                            theme.annotations.outline.outlineWidth * 2,\n                        stroke: theme.annotations.outline.outlineColor,\n                    }}\n                />\n            )}\n            <animated.rect\n                x={animatedProps.x}\n                y={animatedProps.y}\n                width={animatedProps.width}\n                height={animatedProps.height}\n                style={theme.annotations.outline}\n            />\n        </>\n    )\n})\n\nRectAnnotationOutline.displayName = 'RectAnnotationOutline'\nRectAnnotationOutline.propTypes = {\n    x: PropTypes.number.isRequired,\n    y: PropTypes.number.isRequired,\n    width: PropTypes.number.isRequired,\n    height: PropTypes.number.isRequired,\n}\n\nexport default RectAnnotationOutline\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\nimport { defaultProps } from './props'\nimport { useComputedAnnotation } from './hooks'\nimport AnnotationNote from './AnnotationNote'\nimport AnnotationLink from './AnnotationLink'\nimport CircleAnnotationOutline from './CircleAnnotationOutline'\nimport DotAnnotationOutline from './DotAnnotationOutline'\nimport RectAnnotationOutline from './RectAnnotationOutline'\n\nconst Annotation = memo(\n    ({\n        datum,\n        type,\n        containerWidth,\n        containerHeight,\n        x,\n        y,\n        size,\n        width,\n        height,\n        noteX,\n        noteY,\n        noteWidth,\n        noteTextOffset,\n        note,\n    }) => {\n        const computed = useComputedAnnotation({\n            type,\n            containerWidth,\n            containerHeight,\n            x,\n            y,\n            size,\n            width,\n            height,\n            noteX,\n            noteY,\n            noteWidth,\n            noteTextOffset,\n        })\n\n        return (\n            <>\n                <AnnotationLink points={computed.points} isOutline={true} />\n                {type === 'circle' && <CircleAnnotationOutline x={x} y={y} size={size} />}\n                {type === 'dot' && <DotAnnotationOutline x={x} y={y} size={size} />}\n                {type === 'rect' && (\n                    <RectAnnotationOutline x={x} y={y} width={width} height={height} />\n                )}\n                <AnnotationLink points={computed.points} />\n                <AnnotationNote\n                    datum={datum}\n                    x={computed.text[0]}\n                    y={computed.text[1]}\n                    note={note}\n                />\n            </>\n        )\n    }\n)\n\nAnnotation.displayName = 'Annotation'\nAnnotation.propTypes = {\n    datum: PropTypes.object.isRequired,\n\n    type: PropTypes.oneOf(['circle', 'rect', 'dot']).isRequired,\n\n    containerWidth: PropTypes.number.isRequired,\n    containerHeight: PropTypes.number.isRequired,\n\n    x: PropTypes.number.isRequired,\n    y: PropTypes.number.isRequired,\n    size: PropTypes.number,\n    width: PropTypes.number,\n    height: PropTypes.number,\n\n    noteX: PropTypes.oneOfType([\n        PropTypes.number,\n        PropTypes.shape({\n            abs: PropTypes.number.isRequired,\n        }),\n    ]).isRequired,\n    noteY: PropTypes.oneOfType([\n        PropTypes.number,\n        PropTypes.shape({\n            abs: PropTypes.number.isRequired,\n        }),\n    ]).isRequired,\n    noteWidth: PropTypes.number.isRequired,\n    noteTextOffset: PropTypes.number.isRequired,\n    note: PropTypes.oneOfType([PropTypes.node, PropTypes.func]).isRequired,\n}\nAnnotation.defaultProps = {\n    noteWidth: defaultProps.noteWidth,\n    noteTextOffset: defaultProps.noteTextOffset,\n}\n\nexport default Annotation\n","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\n\nconst drawPoints = (ctx, points) => {\n    points.forEach(([x, y], index) => {\n        if (index === 0) {\n            ctx.moveTo(x, y)\n        } else {\n            ctx.lineTo(x, y)\n        }\n    })\n}\n\nexport const renderAnnotationsToCanvas = (ctx, { annotations, theme }) => {\n    if (annotations.length === 0) return\n\n    ctx.save()\n    annotations.forEach(annotation => {\n        if (theme.annotations.link.outlineWidth > 0) {\n            ctx.lineCap = 'square'\n            ctx.strokeStyle = theme.annotations.link.outlineColor\n            ctx.lineWidth =\n                theme.annotations.link.strokeWidth + theme.annotations.link.outlineWidth * 2\n            ctx.beginPath()\n            drawPoints(ctx, annotation.computed.points)\n            ctx.stroke()\n            ctx.lineCap = 'butt'\n        }\n\n        if (annotation.type === 'circle' && theme.annotations.outline.outlineWidth > 0) {\n            ctx.strokeStyle = theme.annotations.outline.outlineColor\n            ctx.lineWidth =\n                theme.annotations.outline.strokeWidth + theme.annotations.outline.outlineWidth * 2\n            ctx.beginPath()\n            ctx.arc(annotation.x, annotation.y, annotation.size / 2, 0, 2 * Math.PI)\n            ctx.stroke()\n        }\n        if (annotation.type === 'dot' && theme.annotations.symbol.outlineWidth > 0) {\n            ctx.strokeStyle = theme.annotations.symbol.outlineColor\n            ctx.lineWidth = theme.annotations.symbol.outlineWidth * 2\n            ctx.beginPath()\n            ctx.arc(annotation.x, annotation.y, annotation.size / 2, 0, 2 * Math.PI)\n            ctx.stroke()\n        }\n        if (annotation.type === 'rect' && theme.annotations.outline.outlineWidth > 0) {\n            ctx.strokeStyle = theme.annotations.outline.outlineColor\n            ctx.lineWidth =\n                theme.annotations.outline.strokeWidth + theme.annotations.outline.outlineWidth * 2\n            ctx.beginPath()\n            ctx.rect(\n                annotation.x - annotation.width / 2,\n                annotation.y - annotation.height / 2,\n                annotation.width,\n                annotation.height\n            )\n            ctx.stroke()\n        }\n\n        ctx.strokeStyle = theme.annotations.link.stroke\n        ctx.lineWidth = theme.annotations.link.strokeWidth\n        ctx.beginPath()\n        drawPoints(ctx, annotation.computed.points)\n        ctx.stroke()\n\n        if (annotation.type === 'circle') {\n            ctx.strokeStyle = theme.annotations.outline.stroke\n            ctx.lineWidth = theme.annotations.outline.strokeWidth\n            ctx.beginPath()\n            ctx.arc(annotation.x, annotation.y, annotation.size / 2, 0, 2 * Math.PI)\n            ctx.stroke()\n        }\n        if (annotation.type === 'dot') {\n            ctx.fillStyle = theme.annotations.symbol.fill\n            ctx.beginPath()\n            ctx.arc(annotation.x, annotation.y, annotation.size / 2, 0, 2 * Math.PI)\n            ctx.fill()\n        }\n        if (annotation.type === 'rect') {\n            ctx.strokeStyle = theme.annotations.outline.stroke\n            ctx.lineWidth = theme.annotations.outline.strokeWidth\n            ctx.beginPath()\n            ctx.rect(\n                annotation.x - annotation.width / 2,\n                annotation.y - annotation.height / 2,\n                annotation.width,\n                annotation.height\n            )\n            ctx.stroke()\n        }\n\n        if (typeof annotation.note === 'function') {\n            annotation.note(ctx, {\n                datum: annotation.datum,\n                x: annotation.computed.text[0],\n                y: annotation.computed.text[1],\n                theme,\n            })\n        } else {\n            ctx.font = `${theme.annotations.text.fontSize}px ${theme.annotations.text.fontFamily}`\n            ctx.fillStyle = theme.annotations.text.fill\n            ctx.strokeStyle = theme.annotations.text.outlineColor\n            ctx.lineWidth = theme.annotations.text.outlineWidth * 2\n            if (theme.annotations.text.outlineWidth > 0) {\n                ctx.lineJoin = 'round'\n                ctx.strokeText(\n                    annotation.note,\n                    annotation.computed.text[0],\n                    annotation.computed.text[1]\n                )\n                ctx.lineJoin = 'miter'\n            }\n            ctx.fillText(annotation.note, annotation.computed.text[0], annotation.computed.text[1])\n        }\n    })\n    ctx.restore()\n}\n"],"names":["annotationSpecPropType","PropTypes","shape","match","oneOfType","func","object","isRequired","type","oneOf","noteX","number","abs","noteY","noteWidth","noteTextOffset","note","node","offset","defaultProps","animate","motionStiffness","motionDamping","defineProperty","defaultPositionAccessor","item","x","y","bindAnnotations","items","annotations","getPosition","getDimensions","reduce","acc","annotation","filter","forEach","position","dimensions","push","omit","datum","size","getLinkAngle","sourceX","sourceY","targetX","targetY","angle","Math","atan2","absoluteAngleDegrees","radiansToDegrees","computeAnnotation","width","height","computedNoteX","computedNoteY","isPlainObject","undefined","computedX","computedY","positionFromAngle","degreesToRadians","eighth","round","textX","textY","noteLineX","noteLineY","points","text","useAnnotations","useMemo","useComputedAnnotations","containerWidth","containerHeight","map","computed","useComputedAnnotation","AnnotationNote","memo","theme","useTheme","useMotionConfig","springConfiig","config","animatedProps","useSpring","immediate","outlineWidth","strokeLinejoin","strokeWidth","stroke","outlineColor","displayName","AnnotationLink","isOutline","path","slice","point","springConfig","link","style","strokeLinecap","CircleAnnotationOutline","radius","outline","fill","DotAnnotationOutline","symbol","RectAnnotationOutline","Annotation","arrayLikeToArray","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","drawPoints","ctx","index","moveTo","lineTo","renderAnnotationsToCanvas","length","save","lineCap","strokeStyle","lineWidth","beginPath","arc","PI","rect","fillStyle","font","fontSize","fontFamily","lineJoin","strokeText","fillText","restore"],"mappings":"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"}