{"version":3,"file":"nivo-axes.es.js","sources":["../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../src/compute.js","../src/props.js","../src/components/AxisTick.js","../src/components/Axis.js","../src/components/Axes.js","../src/components/GridLine.js","../src/components/GridLines.js","../src/components/Grid.js","../src/utils.js","../src/canvas.js"],"sourcesContent":["export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport {\n    timeMillisecond,\n    utcMillisecond,\n    timeSecond,\n    utcSecond,\n    timeMinute,\n    utcMinute,\n    timeHour,\n    utcHour,\n    timeDay,\n    utcDay,\n    timeWeek,\n    utcWeek,\n    timeSunday,\n    utcSunday,\n    timeMonday,\n    utcMonday,\n    timeTuesday,\n    utcTuesday,\n    timeWednesday,\n    utcWednesday,\n    timeThursday,\n    utcThursday,\n    timeFriday,\n    utcFriday,\n    timeSaturday,\n    utcSaturday,\n    timeMonth,\n    utcMonth,\n    timeYear,\n    utcYear,\n} from 'd3-time'\nimport { timeFormat } from 'd3-time-format'\nimport { format as d3Format } from 'd3-format'\nimport { textPropsByEngine } from '@bitbloom/nivo-core'\n\nexport const centerScale = scale => {\n    const bandwidth = scale.bandwidth()\n\n    if (bandwidth === 0) return scale\n\n    let offset = bandwidth / 2\n    if (scale.round()) {\n        offset = Math.round(offset)\n    }\n\n    return d => scale(d) + offset\n}\n\nconst timeByType = {\n    millisecond: [timeMillisecond, utcMillisecond],\n    second: [timeSecond, utcSecond],\n    minute: [timeMinute, utcMinute],\n    hour: [timeHour, utcHour],\n    day: [timeDay, utcDay],\n    week: [timeWeek, utcWeek],\n    sunday: [timeSunday, utcSunday],\n    monday: [timeMonday, utcMonday],\n    tuesday: [timeTuesday, utcTuesday],\n    wednesday: [timeWednesday, utcWednesday],\n    thursday: [timeThursday, utcThursday],\n    friday: [timeFriday, utcFriday],\n    saturday: [timeSaturday, utcSaturday],\n    month: [timeMonth, utcMonth],\n    year: [timeYear, utcYear],\n}\n\nconst timeTypes = Object.keys(timeByType)\nconst timeIntervalRegexp = new RegExp(`^every\\\\s*(\\\\d+)?\\\\s*(${timeTypes.join('|')})s?$`, 'i')\n\nconst isInteger = value =>\n    typeof value === 'number' && isFinite(value) && Math.floor(value) === value\n\nexport const getScaleTicks = (scale, spec) => {\n    // specific values\n    if (Array.isArray(spec)) {\n        return spec\n    }\n\n    // continuous scales\n    if (scale.ticks) {\n        // default behaviour\n        if (spec === undefined) {\n            return scale.ticks()\n        }\n\n        // specific tick count\n        if (isInteger(spec)) {\n            return scale.ticks(spec)\n        }\n\n        if (typeof spec === 'string') {\n            // time interval\n            const matches = spec.match(timeIntervalRegexp)\n            if (matches) {\n                // UTC is used as it's more predictible\n                // however local time could be used too\n                // let's see how it fits users' requirements\n                const timeType = timeByType[matches[2]][scale.useUTC ? 1 : 0]\n                if (matches[1] === undefined) {\n                    return scale.ticks(timeType)\n                }\n\n                return scale.ticks(timeType.every(Number(matches[1])))\n            }\n\n            throw new Error(`Invalid tickValues: ${spec}`)\n        }\n    }\n\n    // non linear scale default\n    return scale.domain()\n}\n\nexport const computeCartesianTicks = ({\n    axis,\n    scale,\n    ticksPosition,\n    tickValues,\n    tickSize,\n    tickPadding,\n    tickRotation,\n    engine = 'svg',\n}) => {\n    const values = getScaleTicks(scale, tickValues)\n\n    const textProps = textPropsByEngine[engine]\n\n    const position = scale.bandwidth ? centerScale(scale) : scale\n    const line = { lineX: 0, lineY: 0 }\n    const text = { textX: 0, textY: 0 }\n\n    let translate\n    let textAlign = textProps.align.center\n    let textBaseline = textProps.baseline.center\n\n    if (axis === 'x') {\n        translate = d => ({ x: position(d), y: 0 })\n\n        line.lineY = tickSize * (ticksPosition === 'after' ? 1 : -1)\n        text.textY = (tickSize + tickPadding) * (ticksPosition === 'after' ? 1 : -1)\n\n        if (ticksPosition === 'after') {\n            textBaseline = textProps.baseline.top\n        } else {\n            textBaseline = textProps.baseline.bottom\n        }\n\n        if (tickRotation === 0) {\n            textAlign = textProps.align.center\n        } else if (\n            (ticksPosition === 'after' && tickRotation < 0) ||\n            (ticksPosition === 'before' && tickRotation > 0)\n        ) {\n            textAlign = textProps.align.right\n            textBaseline = textProps.baseline.center\n        } else if (\n            (ticksPosition === 'after' && tickRotation > 0) ||\n            (ticksPosition === 'before' && tickRotation < 0)\n        ) {\n            textAlign = textProps.align.left\n            textBaseline = textProps.baseline.center\n        }\n    } else {\n        translate = d => ({ x: 0, y: position(d) })\n\n        line.lineX = tickSize * (ticksPosition === 'after' ? 1 : -1)\n        text.textX = (tickSize + tickPadding) * (ticksPosition === 'after' ? 1 : -1)\n\n        if (ticksPosition === 'after') {\n            textAlign = textProps.align.left\n        } else {\n            textAlign = textProps.align.right\n        }\n    }\n\n    const ticks = values.map(value => ({\n        key: value,\n        value,\n        ...translate(value),\n        ...line,\n        ...text,\n    }))\n\n    return {\n        ticks,\n        textAlign,\n        textBaseline,\n    }\n}\n\nexport const getFormatter = (format, scale) => {\n    if (!format || typeof format === 'function') return format\n\n    if (scale.type === 'time') {\n        const f = timeFormat(format)\n        return d => f(new Date(d))\n    }\n\n    return d3Format(format)\n}\n\nexport const computeGridLines = ({ width, height, scale, axis, values: _values }) => {\n    const lineValues = Array.isArray(_values) ? _values : undefined\n    const lineCount = isInteger(_values) ? _values : undefined\n\n    const values = lineValues || getScaleTicks(scale, lineCount)\n\n    const position = scale.bandwidth ? centerScale(scale) : scale\n\n    let lines\n    if (axis === 'x') {\n        lines = values.map(v => ({\n            key: `${v}`,\n            x1: position(v),\n            x2: position(v),\n            y1: 0,\n            y2: height,\n        }))\n    } else if (axis === 'y') {\n        lines = values.map(v => ({\n            key: `${v}`,\n            x1: 0,\n            x2: width,\n            y1: position(v),\n            y2: position(v),\n        }))\n    }\n\n    return lines\n}\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport PropTypes from 'prop-types'\n\nexport const axisPropTypes = {\n    ticksPosition: PropTypes.oneOf(['before', 'after']),\n    tickValues: PropTypes.oneOfType([\n        PropTypes.number,\n        PropTypes.arrayOf(\n            PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)])\n        ),\n        PropTypes.string,\n    ]),\n    tickSize: PropTypes.number,\n    tickPadding: PropTypes.number,\n    tickRotation: PropTypes.number,\n    format: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n    renderTick: PropTypes.func,\n    legend: PropTypes.node,\n    legendPosition: PropTypes.oneOf(['start', 'middle', 'end']),\n    legendOffset: PropTypes.number,\n    ariaHidden: PropTypes.bool,\n}\n\nexport const axisPropType = PropTypes.shape(axisPropTypes)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport { animated } from 'react-spring'\nimport PropTypes from 'prop-types'\nimport { useTheme } from '@bitbloom/nivo-core'\n\nconst AxisTick = ({\n    value: _value,\n    format,\n    lineX,\n    lineY,\n    onClick,\n    textBaseline,\n    textAnchor,\n    animatedProps,\n}) => {\n    const theme = useTheme()\n\n    let value = _value\n    if (format !== undefined) {\n        value = format(value)\n    }\n\n    let gStyle = { opacity: animatedProps.opacity }\n    if (onClick) {\n        gStyle['cursor'] = 'pointer'\n    }\n\n    return (\n        <animated.g\n            transform={animatedProps.transform}\n            {...(onClick ? { onClick: e => onClick(e, value) } : {})}\n            style={gStyle}\n        >\n            <line x1={0} x2={lineX} y1={0} y2={lineY} style={theme.axis.ticks.line} />\n            <animated.text\n                dominantBaseline={textBaseline}\n                textAnchor={textAnchor}\n                transform={animatedProps.textTransform}\n                style={theme.axis.ticks.text}\n            >\n                {value}\n            </animated.text>\n        </animated.g>\n    )\n}\n\nAxisTick.propTypes = {\n    value: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)])\n        .isRequired,\n    format: PropTypes.func,\n    x: PropTypes.number.isRequired,\n    y: PropTypes.number.isRequired,\n    lineX: PropTypes.number.isRequired,\n    lineY: PropTypes.number.isRequired,\n    textX: PropTypes.number.isRequired,\n    textY: PropTypes.number.isRequired,\n    textBaseline: PropTypes.string.isRequired,\n    textAnchor: PropTypes.string.isRequired,\n    opacity: PropTypes.number.isRequired,\n    rotate: PropTypes.number.isRequired,\n    onClick: PropTypes.func,\n    animatedProps: PropTypes.object.isRequired,\n}\nAxisTick.defaultProps = {\n    opacity: 1,\n    rotate: 0,\n}\n\nexport default memo(AxisTick)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo, useMemo } from 'react'\nimport PropTypes from 'prop-types'\nimport { useSpring, useTransition, animated } from 'react-spring'\nimport { useTheme, useMotionConfig } from '@bitbloom/nivo-core'\nimport { computeCartesianTicks, getFormatter } from '../compute'\nimport { axisPropTypes } from '../props'\nimport AxisTick from './AxisTick'\n\nconst defaultTickRenderer = props => <AxisTick {...props} />\n\nconst Axis = ({\n    axis,\n    scale,\n    x,\n    y,\n    length,\n    ticksPosition,\n    tickValues,\n    tickSize,\n    tickPadding,\n    tickRotation,\n    format,\n    renderTick,\n    legend,\n    legendPosition,\n    legendOffset,\n    onClick,\n    ariaHidden,\n}) => {\n    const theme = useTheme()\n\n    const formatValue = useMemo(() => getFormatter(format, scale), [format, scale])\n\n    const { ticks, textAlign, textBaseline } = computeCartesianTicks({\n        axis,\n        scale,\n        ticksPosition,\n        tickValues,\n        tickSize,\n        tickPadding,\n        tickRotation,\n    })\n\n    let legendNode = null\n    if (legend !== undefined) {\n        let legendX = 0\n        let legendY = 0\n        let legendRotation = 0\n        let textAnchor\n\n        if (axis === 'y') {\n            legendRotation = -90\n            legendX = legendOffset\n            if (legendPosition === 'start') {\n                textAnchor = 'start'\n                legendY = length\n            } else if (legendPosition === 'middle') {\n                textAnchor = 'middle'\n                legendY = length / 2\n            } else if (legendPosition === 'end') {\n                textAnchor = 'end'\n            }\n        } else {\n            legendY = legendOffset\n            if (legendPosition === 'start') {\n                textAnchor = 'start'\n            } else if (legendPosition === 'middle') {\n                textAnchor = 'middle'\n                legendX = length / 2\n            } else if (legendPosition === 'end') {\n                textAnchor = 'end'\n                legendX = length\n            }\n        }\n\n        legendNode = (\n            <text\n                transform={`translate(${legendX}, ${legendY}) rotate(${legendRotation})`}\n                textAnchor={textAnchor}\n                style={{\n                    dominantBaseline: 'central',\n                    ...theme.axis.legend.text,\n                }}\n            >\n                {legend}\n            </text>\n        )\n    }\n\n    const { animate, config: springConfig } = useMotionConfig()\n\n    const animatedProps = useSpring({\n        transform: `translate(${x},${y})`,\n        lineX2: axis === 'x' ? length : 0,\n        lineY2: axis === 'x' ? 0 : length,\n        config: springConfig,\n        immediate: !animate,\n    })\n\n    const transitions = useTransition(ticks, tick => tick.key, {\n        initial: tick => ({\n            opacity: 1,\n            transform: `translate(${tick.x},${tick.y})`,\n            textTransform: `translate(${tick.textX},${tick.textY}) rotate(${tickRotation})`,\n        }),\n        from: tick => ({\n            opacity: 0,\n            transform: `translate(${tick.x},${tick.y})`,\n            textTransform: `translate(${tick.textX},${tick.textY}) rotate(${tickRotation})`,\n        }),\n        enter: tick => ({\n            opacity: 1,\n            transform: `translate(${tick.x},${tick.y})`,\n            textTransform: `translate(${tick.textX},${tick.textY}) rotate(${tickRotation})`,\n        }),\n        update: tick => ({\n            opacity: 1,\n            transform: `translate(${tick.x},${tick.y})`,\n            textTransform: `translate(${tick.textX},${tick.textY}) rotate(${tickRotation})`,\n        }),\n        leave: {\n            opacity: 0,\n        },\n        config: springConfig,\n        immediate: !animate,\n    })\n\n    return (\n        <animated.g transform={animatedProps.transform} aria-hidden={ariaHidden}>\n            {transitions.map(({ item: tick, props: transitionProps, key }, tickIndex) => {\n                return React.createElement(renderTick, {\n                    tickIndex,\n                    format: formatValue,\n                    rotate: tickRotation,\n                    textBaseline,\n                    textAnchor: textAlign,\n                    animatedProps: transitionProps,\n                    ...tick,\n                    ...(onClick ? { onClick } : {}),\n                    key,\n                })\n            })}\n            <animated.line\n                style={theme.axis.domain.line}\n                x1={0}\n                x2={animatedProps.lineX2}\n                y1={0}\n                y2={animatedProps.lineY2}\n            />\n            {legendNode}\n        </animated.g>\n    )\n}\n\nAxis.propTypes = {\n    axis: PropTypes.oneOf(['x', 'y']).isRequired,\n    scale: PropTypes.func.isRequired,\n    x: PropTypes.number.isRequired,\n    y: PropTypes.number.isRequired,\n    length: PropTypes.number.isRequired,\n    ticksPosition: PropTypes.oneOf(['before', 'after']).isRequired,\n    tickValues: axisPropTypes.tickValues,\n    tickSize: PropTypes.number.isRequired,\n    tickPadding: PropTypes.number.isRequired,\n    tickRotation: PropTypes.number.isRequired,\n    format: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n    renderTick: PropTypes.func.isRequired,\n    legend: PropTypes.node,\n    legendPosition: PropTypes.oneOf(['start', 'middle', 'end']).isRequired,\n    legendOffset: PropTypes.number.isRequired,\n    onClick: PropTypes.func,\n    ariaHidden: PropTypes.bool,\n}\nAxis.defaultProps = {\n    x: 0,\n    y: 0,\n    tickSize: 5,\n    tickPadding: 5,\n    tickRotation: 0,\n    renderTick: defaultTickRenderer,\n    legendPosition: 'end',\n    legendOffset: 0,\n}\n\nexport default memo(Axis)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\nimport Axis from './Axis'\nimport { axisPropType } from '../props'\n\nconst positions = ['top', 'right', 'bottom', 'left']\n\nconst Axes = ({ xScale, yScale, width, height, top, right, bottom, left }) => {\n    const axes = { top, right, bottom, left }\n\n    return positions.map(position => {\n        const axis = axes[position]\n\n        if (!axis) return null\n\n        const isXAxis = position === 'top' || position === 'bottom'\n        const ticksPosition = position === 'top' || position === 'left' ? 'before' : 'after'\n\n        return (\n            <Axis\n                key={position}\n                {...axis}\n                axis={isXAxis ? 'x' : 'y'}\n                x={position === 'right' ? width : 0}\n                y={position === 'bottom' ? height : 0}\n                scale={isXAxis ? xScale : yScale}\n                length={isXAxis ? width : height}\n                ticksPosition={ticksPosition}\n            />\n        )\n    })\n}\n\nAxes.propTypes = {\n    xScale: PropTypes.func,\n    yScale: PropTypes.func,\n    width: PropTypes.number.isRequired,\n    height: PropTypes.number.isRequired,\n    top: axisPropType,\n    right: axisPropType,\n    bottom: axisPropType,\n    left: axisPropType,\n}\n\nexport default memo(Axes)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\nimport { animated } from 'react-spring'\nimport { useTheme } from '@bitbloom/nivo-core'\n\nconst GridLine = ({ animatedProps }) => {\n    const theme = useTheme()\n\n    return <animated.line {...animatedProps} {...theme.grid.line} />\n}\n\nGridLine.propTypes = {\n    x1: PropTypes.number.isRequired,\n    x2: PropTypes.number.isRequired,\n    y1: PropTypes.number.isRequired,\n    y2: PropTypes.number.isRequired,\n    animatedProps: PropTypes.object.isRequired,\n}\nGridLine.defaultProps = {\n    x1: 0,\n    x2: 0,\n    y1: 0,\n    y2: 0,\n}\n\nexport default memo(GridLine)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\nimport { useTransition } from 'react-spring'\nimport { useMotionConfig } from '@bitbloom/nivo-core'\nimport GridLine from './GridLine'\n\nconst GridLines = ({ lines }) => {\n    const { animate, config: springConfig } = useMotionConfig()\n\n    const transitions = useTransition(lines, line => line.key, {\n        initial: line => ({\n            opacity: 1,\n            x1: line.x1,\n            x2: line.x2,\n            y1: line.y1,\n            y2: line.y2,\n        }),\n        from: line => ({\n            opacity: 0,\n            x1: line.x1,\n            x2: line.x2,\n            y1: line.y1,\n            y2: line.y2,\n        }),\n        enter: line => ({\n            opacity: 1,\n            x1: line.x1,\n            x2: line.x2,\n            y1: line.y1,\n            y2: line.y2,\n        }),\n        update: line => ({\n            opacity: 1,\n            x1: line.x1,\n            x2: line.x2,\n            y1: line.y1,\n            y2: line.y2,\n        }),\n        leave: {\n            opacity: 0,\n        },\n        config: springConfig,\n        immediate: !animate,\n    })\n\n    return (\n        <g>\n            {transitions.map(({ item: line, props: animatedProps, key }) => (\n                <GridLine {...line} key={key} animatedProps={animatedProps} />\n            ))}\n        </g>\n    )\n}\n\nGridLines.propTypes = {\n    type: PropTypes.oneOf(['x', 'y']).isRequired,\n    lines: PropTypes.arrayOf(\n        PropTypes.shape({\n            key: PropTypes.string.isRequired,\n            x1: PropTypes.number,\n            x2: PropTypes.number,\n            y1: PropTypes.number,\n            y2: PropTypes.number,\n        })\n    ).isRequired,\n}\n\nexport default memo(GridLines)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo, useMemo } from 'react'\nimport PropTypes from 'prop-types'\nimport GridLines from './GridLines'\nimport { computeGridLines } from '../compute'\n\nconst Grid = ({ width, height, xScale, yScale, xValues, yValues }) => {\n    const xLines = useMemo(() => {\n        if (!xScale) return false\n\n        return computeGridLines({\n            width,\n            height,\n            scale: xScale,\n            axis: 'x',\n            values: xValues,\n        })\n    }, [xScale, xValues])\n\n    const yLines = yScale\n        ? computeGridLines({\n              width,\n              height,\n              scale: yScale,\n              axis: 'y',\n              values: yValues,\n          })\n        : false\n\n    return (\n        <>\n            {xLines && <GridLines type=\"x\" lines={xLines} />}\n            {yLines && <GridLines type=\"y\" lines={yLines} />}\n        </>\n    )\n}\n\nGrid.propTypes = {\n    width: PropTypes.number.isRequired,\n    height: PropTypes.number.isRequired,\n\n    xScale: PropTypes.func,\n    yScale: PropTypes.func,\n    xValues: PropTypes.oneOfType([\n        PropTypes.number,\n        PropTypes.arrayOf(\n            PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)])\n        ),\n    ]),\n    yValues: PropTypes.oneOfType([\n        PropTypes.number,\n        PropTypes.arrayOf(\n            PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)])\n        ),\n    ]),\n}\n\nexport default memo(Grid)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\n\nexport const degreesToRadians = degrees => (degrees * Math.PI) / 180\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { degreesToRadians } from './utils'\nimport { computeCartesianTicks, getFormatter, computeGridLines } from './compute'\n\nexport const renderAxisToCanvas = (\n    ctx,\n    {\n        axis,\n        scale,\n        x = 0,\n        y = 0,\n        length,\n\n        ticksPosition,\n        tickValues,\n        tickSize = 5,\n        tickPadding = 5,\n        tickRotation = 0,\n        format,\n\n        legend,\n        legendPosition = 'end',\n        legendOffset = 0,\n\n        theme,\n    }\n) => {\n    const { ticks, textAlign, textBaseline } = computeCartesianTicks({\n        axis,\n        scale,\n        ticksPosition,\n        tickValues,\n        tickSize,\n        tickPadding,\n        tickRotation,\n        engine: 'canvas',\n    })\n\n    ctx.save()\n    ctx.translate(x, y)\n\n    ctx.textAlign = textAlign\n    ctx.textBaseline = textBaseline\n    ctx.font = `${theme.axis.ticks.text.fontSize}px ${theme.axis.ticks.text.fontFamily}`\n\n    if (theme.axis.domain.line.strokeWidth > 0) {\n        ctx.lineWidth = theme.axis.domain.line.strokeWidth\n        ctx.lineCap = 'square'\n        ctx.strokeStyle = theme.axis.domain.line.stroke\n        ctx.beginPath()\n        ctx.moveTo(0, 0)\n        ctx.lineTo(axis === 'x' ? length : 0, axis === 'x' ? 0 : length)\n        ctx.stroke()\n    }\n\n    ticks.forEach(tick => {\n        if (theme.axis.ticks.line.strokeWidth > 0) {\n            ctx.lineWidth = theme.axis.ticks.line.strokeWidth\n            ctx.lineCap = 'square'\n            ctx.strokeStyle = theme.axis.ticks.line.stroke\n            ctx.beginPath()\n            ctx.moveTo(tick.x, tick.y)\n            ctx.lineTo(tick.x + tick.lineX, tick.y + tick.lineY)\n            ctx.stroke()\n        }\n\n        const value = format !== undefined ? format(tick.value) : tick.value\n\n        ctx.save()\n        ctx.translate(tick.x + tick.textX, tick.y + tick.textY)\n        ctx.rotate(degreesToRadians(tickRotation))\n        ctx.fillStyle = theme.axis.ticks.text.fill\n        ctx.fillText(value, 0, 0)\n        ctx.restore()\n    })\n\n    if (legend !== undefined) {\n        let legendX = 0\n        let legendY = 0\n        let legendRotation = 0\n        let textAlign\n\n        if (axis === 'y') {\n            legendRotation = -90\n            legendX = legendOffset\n            if (legendPosition === 'start') {\n                textAlign = 'start'\n                legendY = length\n            } else if (legendPosition === 'middle') {\n                textAlign = 'center'\n                legendY = length / 2\n            } else if (legendPosition === 'end') {\n                textAlign = 'end'\n            }\n        } else {\n            legendY = legendOffset\n            if (legendPosition === 'start') {\n                textAlign = 'start'\n            } else if (legendPosition === 'middle') {\n                textAlign = 'center'\n                legendX = length / 2\n            } else if (legendPosition === 'end') {\n                textAlign = 'end'\n                legendX = length\n            }\n        }\n\n        ctx.translate(legendX, legendY)\n        ctx.rotate(degreesToRadians(legendRotation))\n        ctx.font = `${\n            theme.axis.legend.text.fontWeight ? `${theme.axis.legend.text.fontWeight} ` : ''\n        }${theme.axis.legend.text.fontSize}px ${theme.axis.legend.text.fontFamily}`\n        ctx.fillStyle = theme.axis.legend.text.fill\n        ctx.textAlign = textAlign\n        ctx.textBaseline = 'middle'\n        ctx.fillText(legend, 0, 0)\n    }\n\n    ctx.restore()\n}\n\nconst positions = ['top', 'right', 'bottom', 'left']\n\nexport const renderAxesToCanvas = (\n    ctx,\n    {\n        xScale,\n        yScale,\n        width,\n        height,\n\n        top,\n        right,\n        bottom,\n        left,\n\n        theme,\n    }\n) => {\n    const axes = { top, right, bottom, left }\n\n    positions.forEach(position => {\n        const axis = axes[position]\n\n        if (!axis) return null\n\n        const isXAxis = position === 'top' || position === 'bottom'\n        const ticksPosition = position === 'top' || position === 'left' ? 'before' : 'after'\n        const scale = isXAxis ? xScale : yScale\n        const format = getFormatter(axis.format, scale)\n\n        renderAxisToCanvas(ctx, {\n            ...axis,\n            axis: isXAxis ? 'x' : 'y',\n            x: position === 'right' ? width : 0,\n            y: position === 'bottom' ? height : 0,\n            scale,\n            format,\n            length: isXAxis ? width : height,\n            ticksPosition,\n            theme,\n        })\n    })\n}\n\nexport const renderGridLinesToCanvas = (ctx, { width, height, scale, axis, values }) => {\n    const lines = computeGridLines({ width, height, scale, axis, values })\n\n    lines.forEach(line => {\n        ctx.beginPath()\n        ctx.moveTo(line.x1, line.y1)\n        ctx.lineTo(line.x2, line.y2)\n        ctx.stroke()\n    })\n}\n"],"names":["defineProperty","centerScale","scale","bandwidth","offset","round","Math","d","timeByType","millisecond","timeMillisecond","utcMillisecond","second","timeSecond","utcSecond","minute","timeMinute","utcMinute","hour","timeHour","utcHour","day","timeDay","utcDay","week","timeWeek","utcWeek","sunday","timeSunday","utcSunday","monday","timeMonday","utcMonday","tuesday","timeTuesday","utcTuesday","wednesday","timeWednesday","utcWednesday","thursday","timeThursday","utcThursday","friday","timeFriday","utcFriday","saturday","timeSaturday","utcSaturday","month","timeMonth","utcMonth","year","timeYear","utcYear","timeTypes","Object","keys","timeIntervalRegexp","RegExp","join","isInteger","value","isFinite","floor","getScaleTicks","spec","Array","isArray","ticks","undefined","matches","match","timeType","useUTC","every","Number","Error","domain","computeCartesianTicks","axis","ticksPosition","tickValues","tickSize","tickPadding","tickRotation","engine","values","textProps","textPropsByEngine","position","line","lineX","lineY","text","textX","textY","translate","textAlign","align","center","textBaseline","baseline","x","y","top","bottom","right","left","map","key","getFormatter","format","type","f","timeFormat","Date","d3Format","computeGridLines","width","height","_values","lineValues","lineCount","lines","v","x1","x2","y1","y2","axisPropTypes","PropTypes","oneOf","oneOfType","number","arrayOf","string","instanceOf","func","renderTick","legend","node","legendPosition","legendOffset","ariaHidden","bool","axisPropType","shape","AxisTick","_value","onClick","textAnchor","animatedProps","theme","useTheme","gStyle","opacity","transform","e","textTransform","defaultProps","rotate","memo","defaultTickRenderer","props","Axis","length","formatValue","useMemo","legendNode","legendX","legendY","legendRotation","dominantBaseline","useMotionConfig","animate","springConfig","config","useSpring","lineX2","lineY2","immediate","transitions","useTransition","tick","initial","from","enter","update","leave","tickIndex","item","transitionProps","React","createElement","positions","Axes","xScale","yScale","axes","isXAxis","GridLine","grid","GridLines","Grid","xValues","yValues","xLines","yLines","degreesToRadians","degrees","PI","renderAxisToCanvas","ctx","save","font","fontSize","fontFamily","strokeWidth","lineWidth","lineCap","strokeStyle","stroke","beginPath","moveTo","lineTo","forEach","fillStyle","fill","fillText","restore","fontWeight","renderAxesToCanvas","renderGridLinesToCanvas"],"mappings":"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"}