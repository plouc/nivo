{"version":3,"file":"nivo-axes.umd.js","sources":["../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../src/compute.js","../src/props.js","../src/components/AxisTick.js","../src/components/Axis.js","../src/components/Axes.js","../src/components/GridLine.js","../src/components/GridLines.js","../src/components/Grid.js","../src/utils.js","../src/canvas.js"],"sourcesContent":["export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport {\n    timeMillisecond,\n    utcMillisecond,\n    timeSecond,\n    utcSecond,\n    timeMinute,\n    utcMinute,\n    timeHour,\n    utcHour,\n    timeDay,\n    utcDay,\n    timeWeek,\n    utcWeek,\n    timeSunday,\n    utcSunday,\n    timeMonday,\n    utcMonday,\n    timeTuesday,\n    utcTuesday,\n    timeWednesday,\n    utcWednesday,\n    timeThursday,\n    utcThursday,\n    timeFriday,\n    utcFriday,\n    timeSaturday,\n    utcSaturday,\n    timeMonth,\n    utcMonth,\n    timeYear,\n    utcYear,\n} from 'd3-time'\nimport { timeFormat } from 'd3-time-format'\nimport { format as d3Format } from 'd3-format'\nimport { textPropsByEngine } from '@bitbloom/nivo-core'\n\nexport const centerScale = scale => {\n    const bandwidth = scale.bandwidth()\n\n    if (bandwidth === 0) return scale\n\n    let offset = bandwidth / 2\n    if (scale.round()) {\n        offset = Math.round(offset)\n    }\n\n    return d => scale(d) + offset\n}\n\nconst timeByType = {\n    millisecond: [timeMillisecond, utcMillisecond],\n    second: [timeSecond, utcSecond],\n    minute: [timeMinute, utcMinute],\n    hour: [timeHour, utcHour],\n    day: [timeDay, utcDay],\n    week: [timeWeek, utcWeek],\n    sunday: [timeSunday, utcSunday],\n    monday: [timeMonday, utcMonday],\n    tuesday: [timeTuesday, utcTuesday],\n    wednesday: [timeWednesday, utcWednesday],\n    thursday: [timeThursday, utcThursday],\n    friday: [timeFriday, utcFriday],\n    saturday: [timeSaturday, utcSaturday],\n    month: [timeMonth, utcMonth],\n    year: [timeYear, utcYear],\n}\n\nconst timeTypes = Object.keys(timeByType)\nconst timeIntervalRegexp = new RegExp(`^every\\\\s*(\\\\d+)?\\\\s*(${timeTypes.join('|')})s?$`, 'i')\n\nconst isInteger = value =>\n    typeof value === 'number' && isFinite(value) && Math.floor(value) === value\n\nexport const getScaleTicks = (scale, spec) => {\n    // specific values\n    if (Array.isArray(spec)) {\n        return spec\n    }\n\n    // continuous scales\n    if (scale.ticks) {\n        // default behaviour\n        if (spec === undefined) {\n            return scale.ticks()\n        }\n\n        // specific tick count\n        if (isInteger(spec)) {\n            return scale.ticks(spec)\n        }\n\n        if (typeof spec === 'string') {\n            // time interval\n            const matches = spec.match(timeIntervalRegexp)\n            if (matches) {\n                // UTC is used as it's more predictible\n                // however local time could be used too\n                // let's see how it fits users' requirements\n                const timeType = timeByType[matches[2]][scale.useUTC ? 1 : 0]\n                if (matches[1] === undefined) {\n                    return scale.ticks(timeType)\n                }\n\n                return scale.ticks(timeType.every(Number(matches[1])))\n            }\n\n            throw new Error(`Invalid tickValues: ${spec}`)\n        }\n    }\n\n    // non linear scale default\n    return scale.domain()\n}\n\nexport const computeCartesianTicks = ({\n    axis,\n    scale,\n    ticksPosition,\n    tickValues,\n    tickSize,\n    tickPadding,\n    tickRotation,\n    engine = 'svg',\n}) => {\n    const values = getScaleTicks(scale, tickValues)\n\n    const textProps = textPropsByEngine[engine]\n\n    const position = scale.bandwidth ? centerScale(scale) : scale\n    const line = { lineX: 0, lineY: 0 }\n    const text = { textX: 0, textY: 0 }\n\n    let translate\n    let textAlign = textProps.align.center\n    let textBaseline = textProps.baseline.center\n\n    if (axis === 'x') {\n        translate = d => ({ x: position(d), y: 0 })\n\n        line.lineY = tickSize * (ticksPosition === 'after' ? 1 : -1)\n        text.textY = (tickSize + tickPadding) * (ticksPosition === 'after' ? 1 : -1)\n\n        if (ticksPosition === 'after') {\n            textBaseline = textProps.baseline.top\n        } else {\n            textBaseline = textProps.baseline.bottom\n        }\n\n        if (tickRotation === 0) {\n            textAlign = textProps.align.center\n        } else if (\n            (ticksPosition === 'after' && tickRotation < 0) ||\n            (ticksPosition === 'before' && tickRotation > 0)\n        ) {\n            textAlign = textProps.align.right\n            textBaseline = textProps.baseline.center\n        } else if (\n            (ticksPosition === 'after' && tickRotation > 0) ||\n            (ticksPosition === 'before' && tickRotation < 0)\n        ) {\n            textAlign = textProps.align.left\n            textBaseline = textProps.baseline.center\n        }\n    } else {\n        translate = d => ({ x: 0, y: position(d) })\n\n        line.lineX = tickSize * (ticksPosition === 'after' ? 1 : -1)\n        text.textX = (tickSize + tickPadding) * (ticksPosition === 'after' ? 1 : -1)\n\n        if (ticksPosition === 'after') {\n            textAlign = textProps.align.left\n        } else {\n            textAlign = textProps.align.right\n        }\n    }\n\n    const ticks = values.map(value => ({\n        key: value,\n        value,\n        ...translate(value),\n        ...line,\n        ...text,\n    }))\n\n    return {\n        ticks,\n        textAlign,\n        textBaseline,\n    }\n}\n\nexport const getFormatter = (format, scale) => {\n    if (!format || typeof format === 'function') return format\n\n    if (scale.type === 'time') {\n        const f = timeFormat(format)\n        return d => f(new Date(d))\n    }\n\n    return d3Format(format)\n}\n\nexport const computeGridLines = ({ width, height, scale, axis, values: _values }) => {\n    const lineValues = Array.isArray(_values) ? _values : undefined\n    const lineCount = isInteger(_values) ? _values : undefined\n\n    const values = lineValues || getScaleTicks(scale, lineCount)\n\n    const position = scale.bandwidth ? centerScale(scale) : scale\n\n    let lines\n    if (axis === 'x') {\n        lines = values.map(v => ({\n            key: `${v}`,\n            x1: position(v),\n            x2: position(v),\n            y1: 0,\n            y2: height,\n        }))\n    } else if (axis === 'y') {\n        lines = values.map(v => ({\n            key: `${v}`,\n            x1: 0,\n            x2: width,\n            y1: position(v),\n            y2: position(v),\n        }))\n    }\n\n    return lines\n}\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport PropTypes from 'prop-types'\n\nexport const axisPropTypes = {\n    ticksPosition: PropTypes.oneOf(['before', 'after']),\n    tickValues: PropTypes.oneOfType([\n        PropTypes.number,\n        PropTypes.arrayOf(\n            PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)])\n        ),\n        PropTypes.string,\n    ]),\n    tickSize: PropTypes.number,\n    tickPadding: PropTypes.number,\n    tickRotation: PropTypes.number,\n    format: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n    renderTick: PropTypes.func,\n    legend: PropTypes.node,\n    legendPosition: PropTypes.oneOf(['start', 'middle', 'end']),\n    legendOffset: PropTypes.number,\n    ariaHidden: PropTypes.bool,\n}\n\nexport const axisPropType = PropTypes.shape(axisPropTypes)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport { animated } from 'react-spring'\nimport PropTypes from 'prop-types'\nimport { useTheme } from '@bitbloom/nivo-core'\n\nconst AxisTick = ({\n    value: _value,\n    format,\n    lineX,\n    lineY,\n    onClick,\n    textBaseline,\n    textAnchor,\n    animatedProps,\n}) => {\n    const theme = useTheme()\n\n    let value = _value\n    if (format !== undefined) {\n        value = format(value)\n    }\n\n    let gStyle = { opacity: animatedProps.opacity }\n    if (onClick) {\n        gStyle['cursor'] = 'pointer'\n    }\n\n    return (\n        <animated.g\n            transform={animatedProps.transform}\n            {...(onClick ? { onClick: e => onClick(e, value) } : {})}\n            style={gStyle}\n        >\n            <line x1={0} x2={lineX} y1={0} y2={lineY} style={theme.axis.ticks.line} />\n            <animated.text\n                dominantBaseline={textBaseline}\n                textAnchor={textAnchor}\n                transform={animatedProps.textTransform}\n                style={theme.axis.ticks.text}\n            >\n                {value}\n            </animated.text>\n        </animated.g>\n    )\n}\n\nAxisTick.propTypes = {\n    value: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)])\n        .isRequired,\n    format: PropTypes.func,\n    x: PropTypes.number.isRequired,\n    y: PropTypes.number.isRequired,\n    lineX: PropTypes.number.isRequired,\n    lineY: PropTypes.number.isRequired,\n    textX: PropTypes.number.isRequired,\n    textY: PropTypes.number.isRequired,\n    textBaseline: PropTypes.string.isRequired,\n    textAnchor: PropTypes.string.isRequired,\n    opacity: PropTypes.number.isRequired,\n    rotate: PropTypes.number.isRequired,\n    onClick: PropTypes.func,\n    animatedProps: PropTypes.object.isRequired,\n}\nAxisTick.defaultProps = {\n    opacity: 1,\n    rotate: 0,\n}\n\nexport default memo(AxisTick)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo, useMemo } from 'react'\nimport PropTypes from 'prop-types'\nimport { useSpring, useTransition, animated } from 'react-spring'\nimport { useTheme, useMotionConfig } from '@bitbloom/nivo-core'\nimport { computeCartesianTicks, getFormatter } from '../compute'\nimport { axisPropTypes } from '../props'\nimport AxisTick from './AxisTick'\n\nconst defaultTickRenderer = props => <AxisTick {...props} />\n\nconst Axis = ({\n    axis,\n    scale,\n    x,\n    y,\n    length,\n    ticksPosition,\n    tickValues,\n    tickSize,\n    tickPadding,\n    tickRotation,\n    format,\n    renderTick,\n    legend,\n    legendPosition,\n    legendOffset,\n    onClick,\n    ariaHidden,\n}) => {\n    const theme = useTheme()\n\n    const formatValue = useMemo(() => getFormatter(format, scale), [format, scale])\n\n    const { ticks, textAlign, textBaseline } = computeCartesianTicks({\n        axis,\n        scale,\n        ticksPosition,\n        tickValues,\n        tickSize,\n        tickPadding,\n        tickRotation,\n    })\n\n    let legendNode = null\n    if (legend !== undefined) {\n        let legendX = 0\n        let legendY = 0\n        let legendRotation = 0\n        let textAnchor\n\n        if (axis === 'y') {\n            legendRotation = -90\n            legendX = legendOffset\n            if (legendPosition === 'start') {\n                textAnchor = 'start'\n                legendY = length\n            } else if (legendPosition === 'middle') {\n                textAnchor = 'middle'\n                legendY = length / 2\n            } else if (legendPosition === 'end') {\n                textAnchor = 'end'\n            }\n        } else {\n            legendY = legendOffset\n            if (legendPosition === 'start') {\n                textAnchor = 'start'\n            } else if (legendPosition === 'middle') {\n                textAnchor = 'middle'\n                legendX = length / 2\n            } else if (legendPosition === 'end') {\n                textAnchor = 'end'\n                legendX = length\n            }\n        }\n\n        legendNode = (\n            <text\n                transform={`translate(${legendX}, ${legendY}) rotate(${legendRotation})`}\n                textAnchor={textAnchor}\n                style={{\n                    dominantBaseline: 'central',\n                    ...theme.axis.legend.text,\n                }}\n            >\n                {legend}\n            </text>\n        )\n    }\n\n    const { animate, config: springConfig } = useMotionConfig()\n\n    const animatedProps = useSpring({\n        transform: `translate(${x},${y})`,\n        lineX2: axis === 'x' ? length : 0,\n        lineY2: axis === 'x' ? 0 : length,\n        config: springConfig,\n        immediate: !animate,\n    })\n\n    const transitions = useTransition(ticks, tick => tick.key, {\n        initial: tick => ({\n            opacity: 1,\n            transform: `translate(${tick.x},${tick.y})`,\n            textTransform: `translate(${tick.textX},${tick.textY}) rotate(${tickRotation})`,\n        }),\n        from: tick => ({\n            opacity: 0,\n            transform: `translate(${tick.x},${tick.y})`,\n            textTransform: `translate(${tick.textX},${tick.textY}) rotate(${tickRotation})`,\n        }),\n        enter: tick => ({\n            opacity: 1,\n            transform: `translate(${tick.x},${tick.y})`,\n            textTransform: `translate(${tick.textX},${tick.textY}) rotate(${tickRotation})`,\n        }),\n        update: tick => ({\n            opacity: 1,\n            transform: `translate(${tick.x},${tick.y})`,\n            textTransform: `translate(${tick.textX},${tick.textY}) rotate(${tickRotation})`,\n        }),\n        leave: {\n            opacity: 0,\n        },\n        config: springConfig,\n        immediate: !animate,\n    })\n\n    return (\n        <animated.g transform={animatedProps.transform} aria-hidden={ariaHidden}>\n            {transitions.map(({ item: tick, props: transitionProps, key }, tickIndex) => {\n                return React.createElement(renderTick, {\n                    tickIndex,\n                    format: formatValue,\n                    rotate: tickRotation,\n                    textBaseline,\n                    textAnchor: textAlign,\n                    animatedProps: transitionProps,\n                    ...tick,\n                    ...(onClick ? { onClick } : {}),\n                    key,\n                })\n            })}\n            <animated.line\n                style={theme.axis.domain.line}\n                x1={0}\n                x2={animatedProps.lineX2}\n                y1={0}\n                y2={animatedProps.lineY2}\n            />\n            {legendNode}\n        </animated.g>\n    )\n}\n\nAxis.propTypes = {\n    axis: PropTypes.oneOf(['x', 'y']).isRequired,\n    scale: PropTypes.func.isRequired,\n    x: PropTypes.number.isRequired,\n    y: PropTypes.number.isRequired,\n    length: PropTypes.number.isRequired,\n    ticksPosition: PropTypes.oneOf(['before', 'after']).isRequired,\n    tickValues: axisPropTypes.tickValues,\n    tickSize: PropTypes.number.isRequired,\n    tickPadding: PropTypes.number.isRequired,\n    tickRotation: PropTypes.number.isRequired,\n    format: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n    renderTick: PropTypes.func.isRequired,\n    legend: PropTypes.node,\n    legendPosition: PropTypes.oneOf(['start', 'middle', 'end']).isRequired,\n    legendOffset: PropTypes.number.isRequired,\n    onClick: PropTypes.func,\n    ariaHidden: PropTypes.bool,\n}\nAxis.defaultProps = {\n    x: 0,\n    y: 0,\n    tickSize: 5,\n    tickPadding: 5,\n    tickRotation: 0,\n    renderTick: defaultTickRenderer,\n    legendPosition: 'end',\n    legendOffset: 0,\n}\n\nexport default memo(Axis)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\nimport Axis from './Axis'\nimport { axisPropType } from '../props'\n\nconst positions = ['top', 'right', 'bottom', 'left']\n\nconst Axes = ({ xScale, yScale, width, height, top, right, bottom, left }) => {\n    const axes = { top, right, bottom, left }\n\n    return positions.map(position => {\n        const axis = axes[position]\n\n        if (!axis) return null\n\n        const isXAxis = position === 'top' || position === 'bottom'\n        const ticksPosition = position === 'top' || position === 'left' ? 'before' : 'after'\n\n        return (\n            <Axis\n                key={position}\n                {...axis}\n                axis={isXAxis ? 'x' : 'y'}\n                x={position === 'right' ? width : 0}\n                y={position === 'bottom' ? height : 0}\n                scale={isXAxis ? xScale : yScale}\n                length={isXAxis ? width : height}\n                ticksPosition={ticksPosition}\n            />\n        )\n    })\n}\n\nAxes.propTypes = {\n    xScale: PropTypes.func,\n    yScale: PropTypes.func,\n    width: PropTypes.number.isRequired,\n    height: PropTypes.number.isRequired,\n    top: axisPropType,\n    right: axisPropType,\n    bottom: axisPropType,\n    left: axisPropType,\n}\n\nexport default memo(Axes)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\nimport { animated } from 'react-spring'\nimport { useTheme } from '@bitbloom/nivo-core'\n\nconst GridLine = ({ animatedProps }) => {\n    const theme = useTheme()\n\n    return <animated.line {...animatedProps} {...theme.grid.line} />\n}\n\nGridLine.propTypes = {\n    x1: PropTypes.number.isRequired,\n    x2: PropTypes.number.isRequired,\n    y1: PropTypes.number.isRequired,\n    y2: PropTypes.number.isRequired,\n    animatedProps: PropTypes.object.isRequired,\n}\nGridLine.defaultProps = {\n    x1: 0,\n    x2: 0,\n    y1: 0,\n    y2: 0,\n}\n\nexport default memo(GridLine)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\nimport { useTransition } from 'react-spring'\nimport { useMotionConfig } from '@bitbloom/nivo-core'\nimport GridLine from './GridLine'\n\nconst GridLines = ({ lines }) => {\n    const { animate, config: springConfig } = useMotionConfig()\n\n    const transitions = useTransition(lines, line => line.key, {\n        initial: line => ({\n            opacity: 1,\n            x1: line.x1,\n            x2: line.x2,\n            y1: line.y1,\n            y2: line.y2,\n        }),\n        from: line => ({\n            opacity: 0,\n            x1: line.x1,\n            x2: line.x2,\n            y1: line.y1,\n            y2: line.y2,\n        }),\n        enter: line => ({\n            opacity: 1,\n            x1: line.x1,\n            x2: line.x2,\n            y1: line.y1,\n            y2: line.y2,\n        }),\n        update: line => ({\n            opacity: 1,\n            x1: line.x1,\n            x2: line.x2,\n            y1: line.y1,\n            y2: line.y2,\n        }),\n        leave: {\n            opacity: 0,\n        },\n        config: springConfig,\n        immediate: !animate,\n    })\n\n    return (\n        <g>\n            {transitions.map(({ item: line, props: animatedProps, key }) => (\n                <GridLine {...line} key={key} animatedProps={animatedProps} />\n            ))}\n        </g>\n    )\n}\n\nGridLines.propTypes = {\n    type: PropTypes.oneOf(['x', 'y']).isRequired,\n    lines: PropTypes.arrayOf(\n        PropTypes.shape({\n            key: PropTypes.string.isRequired,\n            x1: PropTypes.number,\n            x2: PropTypes.number,\n            y1: PropTypes.number,\n            y2: PropTypes.number,\n        })\n    ).isRequired,\n}\n\nexport default memo(GridLines)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo, useMemo } from 'react'\nimport PropTypes from 'prop-types'\nimport GridLines from './GridLines'\nimport { computeGridLines } from '../compute'\n\nconst Grid = ({ width, height, xScale, yScale, xValues, yValues }) => {\n    const xLines = useMemo(() => {\n        if (!xScale) return false\n\n        return computeGridLines({\n            width,\n            height,\n            scale: xScale,\n            axis: 'x',\n            values: xValues,\n        })\n    }, [xScale, xValues])\n\n    const yLines = yScale\n        ? computeGridLines({\n              width,\n              height,\n              scale: yScale,\n              axis: 'y',\n              values: yValues,\n          })\n        : false\n\n    return (\n        <>\n            {xLines && <GridLines type=\"x\" lines={xLines} />}\n            {yLines && <GridLines type=\"y\" lines={yLines} />}\n        </>\n    )\n}\n\nGrid.propTypes = {\n    width: PropTypes.number.isRequired,\n    height: PropTypes.number.isRequired,\n\n    xScale: PropTypes.func,\n    yScale: PropTypes.func,\n    xValues: PropTypes.oneOfType([\n        PropTypes.number,\n        PropTypes.arrayOf(\n            PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)])\n        ),\n    ]),\n    yValues: PropTypes.oneOfType([\n        PropTypes.number,\n        PropTypes.arrayOf(\n            PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)])\n        ),\n    ]),\n}\n\nexport default memo(Grid)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\n\nexport const degreesToRadians = degrees => (degrees * Math.PI) / 180\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { degreesToRadians } from './utils'\nimport { computeCartesianTicks, getFormatter, computeGridLines } from './compute'\n\nexport const renderAxisToCanvas = (\n    ctx,\n    {\n        axis,\n        scale,\n        x = 0,\n        y = 0,\n        length,\n\n        ticksPosition,\n        tickValues,\n        tickSize = 5,\n        tickPadding = 5,\n        tickRotation = 0,\n        format,\n\n        legend,\n        legendPosition = 'end',\n        legendOffset = 0,\n\n        theme,\n    }\n) => {\n    const { ticks, textAlign, textBaseline } = computeCartesianTicks({\n        axis,\n        scale,\n        ticksPosition,\n        tickValues,\n        tickSize,\n        tickPadding,\n        tickRotation,\n        engine: 'canvas',\n    })\n\n    ctx.save()\n    ctx.translate(x, y)\n\n    ctx.textAlign = textAlign\n    ctx.textBaseline = textBaseline\n    ctx.font = `${theme.axis.ticks.text.fontSize}px ${theme.axis.ticks.text.fontFamily}`\n\n    if (theme.axis.domain.line.strokeWidth > 0) {\n        ctx.lineWidth = theme.axis.domain.line.strokeWidth\n        ctx.lineCap = 'square'\n        ctx.strokeStyle = theme.axis.domain.line.stroke\n        ctx.beginPath()\n        ctx.moveTo(0, 0)\n        ctx.lineTo(axis === 'x' ? length : 0, axis === 'x' ? 0 : length)\n        ctx.stroke()\n    }\n\n    ticks.forEach(tick => {\n        if (theme.axis.ticks.line.strokeWidth > 0) {\n            ctx.lineWidth = theme.axis.ticks.line.strokeWidth\n            ctx.lineCap = 'square'\n            ctx.strokeStyle = theme.axis.ticks.line.stroke\n            ctx.beginPath()\n            ctx.moveTo(tick.x, tick.y)\n            ctx.lineTo(tick.x + tick.lineX, tick.y + tick.lineY)\n            ctx.stroke()\n        }\n\n        const value = format !== undefined ? format(tick.value) : tick.value\n\n        ctx.save()\n        ctx.translate(tick.x + tick.textX, tick.y + tick.textY)\n        ctx.rotate(degreesToRadians(tickRotation))\n        ctx.fillStyle = theme.axis.ticks.text.fill\n        ctx.fillText(value, 0, 0)\n        ctx.restore()\n    })\n\n    if (legend !== undefined) {\n        let legendX = 0\n        let legendY = 0\n        let legendRotation = 0\n        let textAlign\n\n        if (axis === 'y') {\n            legendRotation = -90\n            legendX = legendOffset\n            if (legendPosition === 'start') {\n                textAlign = 'start'\n                legendY = length\n            } else if (legendPosition === 'middle') {\n                textAlign = 'center'\n                legendY = length / 2\n            } else if (legendPosition === 'end') {\n                textAlign = 'end'\n            }\n        } else {\n            legendY = legendOffset\n            if (legendPosition === 'start') {\n                textAlign = 'start'\n            } else if (legendPosition === 'middle') {\n                textAlign = 'center'\n                legendX = length / 2\n            } else if (legendPosition === 'end') {\n                textAlign = 'end'\n                legendX = length\n            }\n        }\n\n        ctx.translate(legendX, legendY)\n        ctx.rotate(degreesToRadians(legendRotation))\n        ctx.font = `${\n            theme.axis.legend.text.fontWeight ? `${theme.axis.legend.text.fontWeight} ` : ''\n        }${theme.axis.legend.text.fontSize}px ${theme.axis.legend.text.fontFamily}`\n        ctx.fillStyle = theme.axis.legend.text.fill\n        ctx.textAlign = textAlign\n        ctx.textBaseline = 'middle'\n        ctx.fillText(legend, 0, 0)\n    }\n\n    ctx.restore()\n}\n\nconst positions = ['top', 'right', 'bottom', 'left']\n\nexport const renderAxesToCanvas = (\n    ctx,\n    {\n        xScale,\n        yScale,\n        width,\n        height,\n\n        top,\n        right,\n        bottom,\n        left,\n\n        theme,\n    }\n) => {\n    const axes = { top, right, bottom, left }\n\n    positions.forEach(position => {\n        const axis = axes[position]\n\n        if (!axis) return null\n\n        const isXAxis = position === 'top' || position === 'bottom'\n        const ticksPosition = position === 'top' || position === 'left' ? 'before' : 'after'\n        const scale = isXAxis ? xScale : yScale\n        const format = getFormatter(axis.format, scale)\n\n        renderAxisToCanvas(ctx, {\n            ...axis,\n            axis: isXAxis ? 'x' : 'y',\n            x: position === 'right' ? width : 0,\n            y: position === 'bottom' ? height : 0,\n            scale,\n            format,\n            length: isXAxis ? width : height,\n            ticksPosition,\n            theme,\n        })\n    })\n}\n\nexport const renderGridLinesToCanvas = (ctx, { width, height, scale, axis, values }) => {\n    const lines = computeGridLines({ width, height, scale, axis, values })\n\n    lines.forEach(line => {\n        ctx.beginPath()\n        ctx.moveTo(line.x1, line.y1)\n        ctx.lineTo(line.x2, line.y2)\n        ctx.stroke()\n    })\n}\n"],"names":["defineProperty","centerScale","scale","bandwidth","offset","round","Math","d","timeByType","millisecond","timeMillisecond","utcMillisecond","second","timeSecond","utcSecond","minute","timeMinute","utcMinute","hour","timeHour","utcHour","day","timeDay","utcDay","week","timeWeek","utcWeek","sunday","timeSunday","utcSunday","monday","timeMonday","utcMonday","tuesday","timeTuesday","utcTuesday","wednesday","timeWednesday","utcWednesday","thursday","timeThursday","utcThursday","friday","timeFriday","utcFriday","saturday","timeSaturday","utcSaturday","month","timeMonth","utcMonth","year","timeYear","utcYear","timeTypes","Object","keys","timeIntervalRegexp","RegExp","join","isInteger","value","isFinite","floor","getScaleTicks","spec","Array","isArray","ticks","undefined","matches","match","timeType","useUTC","every","Number","Error","domain","computeCartesianTicks","axis","ticksPosition","tickValues","tickSize","tickPadding","tickRotation","engine","values","textProps","textPropsByEngine","position","line","lineX","lineY","text","textX","textY","translate","textAlign","align","center","textBaseline","baseline","x","y","top","bottom","right","left","map","key","getFormatter","format","type","f","timeFormat","Date","d3Format","computeGridLines","width","height","_values","lineValues","lineCount","lines","v","x1","x2","y1","y2","axisPropTypes","PropTypes","oneOf","oneOfType","number","arrayOf","string","instanceOf","func","renderTick","legend","node","legendPosition","legendOffset","ariaHidden","bool","axisPropType","shape","AxisTick","_value","onClick","textAnchor","animatedProps","theme","useTheme","gStyle","opacity","animated","transform","e","React","textTransform","defaultProps","rotate","memo","defaultTickRenderer","props","Axis","length","formatValue","useMemo","legendNode","legendX","legendY","legendRotation","dominantBaseline","useMotionConfig","animate","springConfig","config","useSpring","lineX2","lineY2","immediate","transitions","useTransition","tick","initial","from","enter","update","leave","tickIndex","item","transitionProps","createElement","positions","Axes","xScale","yScale","axes","isXAxis","GridLine","grid","GridLines","Grid","xValues","yValues","xLines","yLines","degreesToRadians","degrees","PI","renderAxisToCanvas","ctx","save","font","fontSize","fontFamily","strokeWidth","lineWidth","lineCap","strokeStyle","stroke","beginPath","moveTo","lineTo","forEach","fillStyle","fill","fillText","restore","fontWeight","renderAxesToCanvas","renderGridLinesToCanvas"],"mappings":"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"}