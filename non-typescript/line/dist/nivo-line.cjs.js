"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),t=require("@nivo/core"),r=require("@nivo/colors"),i=require("@nivo/axes"),a=require("@nivo/legends"),n=require("@nivo/tooltip"),o=require("d3-shape"),l=require("@nivo/scales"),u=require("prop-types"),s=require("react/jsx-runtime"),d=require("@react-spring/web"),f=require("@nivo/voronoi");function c(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var p=c(u);function h(){return h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},h.apply(this,arguments)}var y=function(e){var t=e.point;return s.jsx(n.BasicTooltip,{id:s.jsxs("span",{children:["x: ",s.jsx("strong",{children:t.data.xFormatted}),", y:"," ",s.jsx("strong",{children:t.data.yFormatted})]}),enableChip:!0,color:t.serieColor})};y.propTypes={point:p.default.object.isRequired};var b=e.memo(y),m=function(e){var r=e.slice,i=e.axis,a=t.useTheme(),o="x"===i?"y":"x";return s.jsx(n.TableTooltip,{rows:r.points.map((function(e){return[s.jsx(n.Chip,{color:e.serieColor,style:a.tooltip.chip},"chip"),e.serieId,s.jsx("span",{style:a.tooltip.tableCellValue,children:e.data[o+"Formatted"]},"value")]}))})};m.propTypes={slice:p.default.object.isRequired,axis:p.default.oneOf(["x","y"]).isRequired};var x=e.memo(m),g={data:p.default.arrayOf(p.default.shape({id:p.default.oneOfType([p.default.string,p.default.number]).isRequired,data:p.default.arrayOf(p.default.shape({x:p.default.oneOfType([p.default.number,p.default.string,p.default.instanceOf(Date)]),y:p.default.oneOfType([p.default.number,p.default.string,p.default.instanceOf(Date)])})).isRequired})).isRequired,xScale:p.default.object.isRequired,xFormat:p.default.oneOfType([p.default.func,p.default.string]),yScale:p.default.object.isRequired,yFormat:p.default.oneOfType([p.default.func,p.default.string]),layers:p.default.arrayOf(p.default.oneOfType([p.default.oneOf(["grid","markers","axes","areas","crosshair","lines","slices","points","mesh","legends"]),p.default.func])).isRequired,curve:t.lineCurvePropType.isRequired,axisTop:i.axisPropType,axisRight:i.axisPropType,axisBottom:i.axisPropType,axisLeft:i.axisPropType,enableGridX:p.default.bool.isRequired,enableGridY:p.default.bool.isRequired,gridXValues:p.default.oneOfType([p.default.number,p.default.arrayOf(p.default.oneOfType([p.default.number,p.default.string,p.default.instanceOf(Date)]))]),gridYValues:p.default.oneOfType([p.default.number,p.default.arrayOf(p.default.oneOfType([p.default.number,p.default.string,p.default.instanceOf(Date)]))]),enablePoints:p.default.bool.isRequired,pointSymbol:p.default.func,pointSize:p.default.number.isRequired,pointColor:p.default.any.isRequired,pointBorderWidth:p.default.number.isRequired,pointBorderColor:p.default.any.isRequired,enablePointLabel:p.default.bool.isRequired,pointLabel:p.default.oneOfType([p.default.string,p.default.func]).isRequired,markers:p.default.arrayOf(p.default.shape({axis:p.default.oneOf(["x","y"]).isRequired,value:p.default.oneOfType([p.default.number,p.default.string,p.default.instanceOf(Date)]).isRequired,style:p.default.object})),colors:r.ordinalColorsPropType.isRequired,enableArea:p.default.bool.isRequired,areaOpacity:p.default.number.isRequired,areaBlendMode:t.blendModePropType.isRequired,areaBaselineValue:p.default.oneOfType([p.default.number,p.default.string,p.default.instanceOf(Date)]).isRequired,lineWidth:p.default.number.isRequired,legends:p.default.arrayOf(p.default.shape(a.LegendPropShape)).isRequired,isInteractive:p.default.bool.isRequired,debugMesh:p.default.bool.isRequired,tooltip:p.default.oneOfType([p.default.func,p.default.object]).isRequired,enableSlices:p.default.oneOf(["x","y",!1]).isRequired,debugSlices:p.default.bool.isRequired,sliceTooltip:p.default.oneOfType([p.default.func,p.default.object]).isRequired,enableCrosshair:p.default.bool.isRequired,crosshairType:p.default.string.isRequired},v=h({},g,{enablePointLabel:p.default.bool.isRequired,role:p.default.string.isRequired,useMesh:p.default.bool.isRequired},t.motionPropTypes,t.defsPropTypes),R=h({pixelRatio:p.default.number.isRequired},g),q={curve:"linear",xScale:{type:"point"},yScale:{type:"linear",min:0,max:"auto"},layers:["grid","markers","axes","areas","crosshair","lines","points","slices","mesh","legends"],axisBottom:{},axisLeft:{},enableGridX:!0,enableGridY:!0,enablePoints:!0,pointSize:6,pointColor:{from:"color"},pointBorderWidth:0,pointBorderColor:{theme:"background"},enablePointLabel:!1,pointLabel:"yFormatted",colors:{scheme:"nivo"},enableArea:!1,areaBaselineValue:0,areaOpacity:.2,areaBlendMode:"normal",lineWidth:2,legends:[],isInteractive:!0,tooltip:b,enableSlices:!1,debugSlices:!1,sliceTooltip:x,debugMesh:!1,enableCrosshair:!0,crosshairType:"bottom-left"},C=h({},q,{enablePointLabel:!1,useMesh:!1,animate:!0,motionConfig:"gentle",defs:[],fill:[],role:"img"}),T=h({},q,{pixelRatio:"undefined"!=typeof window&&window.devicePixelRatio||1}),O=function(r){var i=r.curve;return e.useMemo((function(){return o.line().defined((function(e){return null!==e.x&&null!==e.y})).x((function(e){return e.x})).y((function(e){return e.y})).curve(t.curveFromProp(i))}),[i])},S=function(r){var i=r.curve,a=r.yScale,n=r.areaBaselineValue;return e.useMemo((function(){return o.area().defined((function(e){return null!==e.x&&null!==e.y})).x((function(e){return e.x})).y1((function(e){return e.y})).curve(t.curveFromProp(i)).y0(a(n))}),[i,a,n])},M=function(t){var r=t.enableSlices,i=t.points,a=t.width,n=t.height;return e.useMemo((function(){if(!1===r)return[];if("x"===r){var e=new Map;return i.forEach((function(t){null!==t.data.x&&null!==t.data.y&&(e.has(t.x)?e.get(t.x).push(t):e.set(t.x,[t]))})),Array.from(e.entries()).sort((function(e,t){return e[0]-t[0]})).map((function(e,t,r){var i,o=e[0],l=e[1],u=r[t-1],s=r[t+1];return{id:o,x0:i=u?o-(o-u[0])/2:o,x:o,y0:0,y:0,width:s?o-i+(s[0]-o)/2:a-i,height:n,points:l.reverse()}}))}if("y"===r){var t=new Map;return i.forEach((function(e){null!==e.data.x&&null!==e.data.y&&(t.has(e.y)?t.get(e.y).push(e):t.set(e.y,[e]))})),Array.from(t.entries()).sort((function(e,t){return e[0]-t[0]})).map((function(e,t,r){var i,o,l=e[0],u=e[1],s=r[t-1],d=r[t+1];return i=s?l-(l-s[0])/2:l,o=d?l-i+(d[0]-l)/2:n-i,{id:l,x0:0,x:0,y0:i,y:l,width:a,height:o,points:u.reverse()}}))}}),[r,i])},j=function(i){var a=i.data,n=i.xScale,o=void 0===n?C.xScale:n,u=i.xFormat,s=i.yScale,d=void 0===s?C.yScale:s,f=i.yFormat,c=i.width,p=i.height,y=i.colors,b=void 0===y?C.colors:y,m=i.curve,x=void 0===m?C.curve:m,g=i.areaBaselineValue,v=void 0===g?C.areaBaselineValue:g,R=i.pointColor,q=void 0===R?C.pointColor:R,T=i.pointBorderColor,j=void 0===T?C.pointBorderColor:T,k=i.enableSlices,w=void 0===k?C.enableSlicesTooltip:k,P=t.useValueFormatter(u),B=t.useValueFormatter(f),L=r.useOrdinalColorScale(b,"id"),W=t.useTheme(),G=r.useInheritedColor(q,W),F=r.useInheritedColor(j,W),V=e.useState([]),E=V[0],D=V[1],Y=e.useMemo((function(){return l.computeXYScalesForSeries(a.filter((function(e){return-1===E.indexOf(e.id)})),o,d,c,p)}),[a,E,o,d,c,p]),A=Y.xScale,I=Y.yScale,X=Y.series,z=e.useMemo((function(){var e=a.map((function(e){return{id:e.id,label:e.id,color:L(e)}})),t=e.map((function(e){return h({},X.find((function(t){return t.id===e.id})),{color:e.color})})).filter((function(e){return Boolean(e.id)}));return{legendData:e.map((function(e){return h({},e,{hidden:!t.find((function(t){return t.id===e.id}))})})).reverse(),series:t}}),[a,X,L]),H=z.legendData,_=z.series,J=e.useCallback((function(e){D((function(t){return t.indexOf(e)>-1?t.filter((function(t){return t!==e})):[].concat(t,[e])}))}),[]),K=function(t){var r=t.series,i=t.getPointColor,a=t.getPointBorderColor,n=t.formatX,o=t.formatY;return e.useMemo((function(){return r.reduce((function(e,t){return[].concat(e,t.data.filter((function(e){return null!==e.position.x&&null!==e.position.y})).map((function(r,l){var u={id:t.id+"."+l,index:e.length+l,serieId:t.id,serieColor:t.color,x:r.position.x,y:r.position.y};return u.color=i(t),u.borderColor=a(u),u.data=h({},r.data,{xFormatted:n(r.data.x),yFormatted:o(r.data.y)}),u})))}),[])}),[r,i,a,n,o])}({series:_,getPointColor:G,getPointBorderColor:F,formatX:P,formatY:B}),N=M({enableSlices:w,points:K,width:c,height:p});return{legendData:H,toggleSerie:J,lineGenerator:O({curve:x}),areaGenerator:S({curve:x,yScale:I,areaBaselineValue:v}),getColor:L,series:_,xScale:A,yScale:I,slices:N,points:K}},k=function(e){var r=e.areaBlendMode,i=e.areaOpacity,a=e.color,n=e.fill,o=e.path,l=t.useMotionConfig(),u=l.animate,f=l.config,c=t.useAnimatedPath(o),p=d.useSpring({color:a,config:f,immediate:!u});return s.jsx(d.animated.path,{d:c,fill:n||p.color,fillOpacity:i,strokeWidth:0,style:{mixBlendMode:r}})};k.propTypes={areaBlendMode:t.blendModePropType.isRequired,areaOpacity:p.default.number.isRequired,color:p.default.string,fill:p.default.string,path:p.default.string.isRequired};var w=function(e){var t=e.areaGenerator,r=e.areaOpacity,i=e.areaBlendMode,a=e.lines.slice(0).reverse();return s.jsx("g",{children:a.map((function(e){return s.jsx(k,h({path:t(e.data.map((function(e){return e.position})))},h({areaOpacity:r,areaBlendMode:i},e)),e.id)}))})};w.propTypes={areaGenerator:p.default.func.isRequired,areaOpacity:p.default.number.isRequired,areaBlendMode:t.blendModePropType.isRequired,lines:p.default.arrayOf(p.default.object).isRequired};var P=e.memo(w),B=function(r){var i=r.lineGenerator,a=r.points,n=r.color,o=r.thickness,l=e.useMemo((function(){return i(a)}),[i,a]),u=t.useAnimatedPath(l);return s.jsx(d.animated.path,{d:u,fill:"none",strokeWidth:o,stroke:n})};B.propTypes={points:p.default.arrayOf(p.default.shape({x:p.default.oneOfType([p.default.string,p.default.number]),y:p.default.oneOfType([p.default.string,p.default.number])})),lineGenerator:p.default.func.isRequired,color:p.default.string.isRequired,thickness:p.default.number.isRequired};var L=e.memo(B),W=function(e){var t=e.lines,r=e.lineGenerator,i=e.lineWidth;return t.slice(0).reverse().map((function(e){var t=e.id,a=e.data,n=e.color;return s.jsx(L,{id:t,points:a.map((function(e){return e.position})),lineGenerator:r,color:n,thickness:i},t)}))};W.propTypes={lines:p.default.arrayOf(p.default.shape({id:p.default.oneOfType([p.default.string,p.default.number]).isRequired,color:p.default.string.isRequired,data:p.default.arrayOf(p.default.shape({data:p.default.shape({x:p.default.oneOfType([p.default.string,p.default.number,p.default.instanceOf(Date)]),y:p.default.oneOfType([p.default.string,p.default.number,p.default.instanceOf(Date)])}).isRequired,position:p.default.shape({x:p.default.number,y:p.default.number}).isRequired})).isRequired})).isRequired,lineWidth:p.default.number.isRequired,lineGenerator:p.default.func.isRequired};var G=e.memo(W),F=function(t){var r=t.slice,i=t.axis,a=t.debug,o=t.tooltip,l=t.isCurrent,u=t.setCurrent,d=n.useTooltip(),f=d.showTooltipFromEvent,c=d.hideTooltip,p=e.useCallback((function(t){f(e.createElement(o,{slice:r,axis:i}),t,"right"),u(r)}),[f,o,r]),h=e.useCallback((function(t){f(e.createElement(o,{slice:r,axis:i}),t,"right")}),[f,o,r]),y=e.useCallback((function(){c(),u(null)}),[c]);return s.jsx("rect",{x:r.x0,y:r.y0,width:r.width,height:r.height,stroke:"red",strokeWidth:a?1:0,strokeOpacity:.75,fill:"red",fillOpacity:l&&a?.35:0,onMouseEnter:p,onMouseMove:h,onMouseLeave:y})};F.propTypes={slice:p.default.object.isRequired,axis:p.default.oneOf(["x","y"]).isRequired,debug:p.default.bool.isRequired,height:p.default.number.isRequired,tooltip:p.default.oneOfType([p.default.func,p.default.object]),isCurrent:p.default.bool.isRequired,setCurrent:p.default.func.isRequired};var V=e.memo(F),E=function(e){var t=e.slices,r=e.axis,i=e.debug,a=e.height,n=e.tooltip,o=e.current,l=e.setCurrent;return t.map((function(e){return s.jsx(V,{slice:e,axis:r,debug:i,height:a,tooltip:n,setCurrent:l,isCurrent:null!==o&&o.id===e.id},e.id)}))};E.propTypes={slices:p.default.arrayOf(p.default.shape({id:p.default.oneOfType([p.default.number,p.default.string,p.default.instanceOf(Date)]).isRequired,x:p.default.number.isRequired,y:p.default.number.isRequired,points:p.default.arrayOf(p.default.object).isRequired})).isRequired,axis:p.default.oneOf(["x","y"]).isRequired,debug:p.default.bool.isRequired,height:p.default.number.isRequired,tooltip:p.default.oneOfType([p.default.func,p.default.object]).isRequired,current:p.default.object,setCurrent:p.default.func.isRequired};var D=e.memo(E),Y=function(e){var r=e.points,i=e.symbol,a=e.size,n=e.borderWidth,o=e.enableLabel,l=e.label,u=e.labelYOffset,d=t.useTheme(),f=t.getLabelGenerator(l),c=r.slice(0).reverse().map((function(e){return{id:e.id,x:e.x,y:e.y,datum:e.data,fill:e.color,stroke:e.borderColor,label:o?f(e.data):null}}));return s.jsx("g",{children:c.map((function(e){return s.jsx(t.DotsItem,{x:e.x,y:e.y,datum:e.datum,symbol:i,size:a,color:e.fill,borderWidth:n,borderColor:e.stroke,label:e.label,labelYOffset:u,theme:d},e.id)}))})};Y.propTypes={points:p.default.arrayOf(p.default.object),symbol:p.default.func,size:p.default.number.isRequired,color:p.default.func.isRequired,borderWidth:p.default.number.isRequired,borderColor:p.default.func.isRequired,enableLabel:p.default.bool.isRequired,label:p.default.oneOfType([p.default.string,p.default.func]).isRequired,labelYOffset:p.default.number};var A=e.memo(Y),I=function(t){var r=t.points,i=t.width,a=t.height,o=t.margin,l=t.setCurrent,u=t.onMouseEnter,d=t.onMouseMove,c=t.onMouseLeave,p=t.onClick,h=t.tooltip,y=t.debug,b=n.useTooltip(),m=b.showTooltipAt,x=b.hideTooltip,g=e.useCallback((function(t,r){m(e.createElement(h,{point:t}),[t.x+o.left,t.y+o.top],"top"),l(t),u&&u(t,r)}),[l,m,h,u,o]),v=e.useCallback((function(t,r){m(e.createElement(h,{point:t}),[t.x+o.left,t.y+o.top],"top"),l(t),d&&d(t,r)}),[l,m,h,d]),R=e.useCallback((function(e,t){x(),l(null),c&&c(e,t)}),[x,l,c]),q=e.useCallback((function(e,t){p&&p(e,t)}),[p]);return s.jsx(f.Mesh,{nodes:r,width:i,height:a,onMouseEnter:g,onMouseMove:v,onMouseLeave:R,onClick:q,debug:y})};I.propTypes={points:p.default.arrayOf(p.default.object).isRequired,width:p.default.number.isRequired,height:p.default.number.isRequired,margin:p.default.object.isRequired,setCurrent:p.default.func.isRequired,onMouseEnter:p.default.func,onMouseMove:p.default.func,onMouseLeave:p.default.func,onClick:p.default.func,tooltip:p.default.oneOfType([p.default.func,p.default.object]).isRequired,debug:p.default.bool.isRequired};var X=e.memo(I),z=function(o){var l=o.data,u=o.xScale,d=o.xFormat,f=o.yScale,c=o.yFormat,p=o.layers,y=o.curve,b=o.areaBaselineValue,m=o.colors,x=o.margin,g=o.width,v=o.height,R=o.axisTop,q=o.axisRight,C=o.axisBottom,T=o.axisLeft,O=o.enableGridX,S=o.enableGridY,M=o.gridXValues,k=o.gridYValues,w=o.lineWidth,B=o.enableArea,L=o.areaOpacity,W=o.areaBlendMode,F=o.enablePoints,V=o.pointSymbol,E=o.pointSize,Y=o.pointColor,I=o.pointBorderWidth,z=o.pointBorderColor,H=o.enablePointLabel,_=o.pointLabel,J=o.pointLabelYOffset,K=o.defs,N=o.fill,Q=o.markers,U=o.legends,Z=o.isInteractive,$=o.useMesh,ee=o.debugMesh,te=o.onMouseEnter,re=o.onMouseMove,ie=o.onMouseLeave,ae=o.onClick,ne=o.tooltip,oe=o.enableSlices,le=o.debugSlices,ue=o.sliceTooltip,se=o.enableCrosshair,de=o.crosshairType,fe=o.role,ce=t.useDimensions(g,v,x),pe=ce.margin,he=ce.innerWidth,ye=ce.innerHeight,be=ce.outerWidth,me=ce.outerHeight,xe=j({data:l,xScale:u,xFormat:d,yScale:f,yFormat:c,width:he,height:ye,colors:m,curve:y,areaBaselineValue:b,pointColor:Y,pointBorderColor:z,enableSlices:oe}),ge=xe.legendData,ve=xe.toggleSerie,Re=xe.lineGenerator,qe=xe.areaGenerator,Ce=xe.series,Te=xe.xScale,Oe=xe.yScale,Se=xe.slices,Me=xe.points,je=t.useTheme(),ke=r.useInheritedColor(Y,je),we=r.useInheritedColor(z,je),Pe=e.useState(null),Be=Pe[0],Le=Pe[1],We=e.useState(null),Ge=We[0],Fe=We[1],Ve={grid:s.jsx(i.Grid,{theme:je,width:he,height:ye,xScale:O?Te:null,yScale:S?Oe:null,xValues:M,yValues:k},"grid"),markers:s.jsx(t.CartesianMarkers,{markers:Q,width:he,height:ye,xScale:Te,yScale:Oe,theme:je},"markers"),axes:s.jsx(i.Axes,{xScale:Te,yScale:Oe,width:he,height:ye,theme:je,top:R,right:q,bottom:C,left:T},"axes"),areas:null,lines:s.jsx(G,{lines:Ce,lineGenerator:Re,lineWidth:w},"lines"),slices:null,points:null,crosshair:null,mesh:null,legends:U.map((function(e,t){return s.jsx(a.BoxLegendSvg,h({},e,{containerWidth:he,containerHeight:ye,data:e.data||ge,theme:je,toggleSerie:e.toggleSerie?ve:void 0}),"legend."+t)}))},Ee=t.bindDefs(K,Ce,N);return B&&(Ve.areas=s.jsx(P,{areaGenerator:qe,areaOpacity:L,areaBlendMode:W,lines:Ce},"areas")),Z&&!1!==oe&&(Ve.slices=s.jsx(D,{slices:Se,axis:oe,debug:le,height:ye,tooltip:ue,current:Ge,setCurrent:Fe},"slices")),F&&(Ve.points=s.jsx(A,{points:Me,symbol:V,size:E,color:ke,borderWidth:I,borderColor:we,enableLabel:H,label:_,labelYOffset:J},"points")),Z&&se&&(null!==Be&&(Ve.crosshair=s.jsx(n.Crosshair,{width:he,height:ye,x:Be.x,y:Be.y,type:de},"crosshair")),null!==Ge&&(Ve.crosshair=s.jsx(n.Crosshair,{width:he,height:ye,x:Ge.x,y:Ge.y,type:oe},"crosshair"))),Z&&$&&!1===oe&&(Ve.mesh=s.jsx(X,{points:Me,width:he,height:ye,margin:pe,current:Be,setCurrent:Le,onMouseEnter:te,onMouseMove:re,onMouseLeave:ie,onClick:ae,tooltip:ne,debug:ee},"mesh")),s.jsx(t.SvgWrapper,{defs:Ee,width:be,height:me,margin:pe,role:fe,children:p.map((function(t,r){return"function"==typeof t?s.jsx(e.Fragment,{children:t(h({},o,{innerWidth:he,innerHeight:ye,series:Ce,slices:Se,points:Me,xScale:Te,yScale:Oe,lineGenerator:Re,areaGenerator:qe,currentPoint:Be,setCurrentPoint:Le,currentSlice:Ge,setCurrentSlice:Fe}))},r):Ve[t]}))})};z.propTypes=v,z.defaultProps=C;var H=t.withContainer(z),_=function(r){var o=r.width,l=r.height,u=r.margin,d=r.pixelRatio,c=r.data,p=r.xScale,y=r.xFormat,b=r.yScale,m=r.yFormat,x=r.curve,g=r.layers,v=r.colors,R=r.lineWidth,q=r.enableArea,C=r.areaBaselineValue,T=r.areaOpacity,O=r.enablePoints,S=r.pointSize,M=r.pointColor,k=r.pointBorderWidth,w=r.pointBorderColor,P=r.enableGridX,B=r.gridXValues,L=r.enableGridY,W=r.gridYValues,G=r.axisTop,F=r.axisRight,V=r.axisBottom,E=r.axisLeft,D=r.legends,Y=r.isInteractive,A=r.debugMesh,I=r.onMouseLeave,X=r.onClick,z=r.tooltip,H=r.canvasRef,_=e.useRef(null),J=t.useDimensions(o,l,u),K=J.margin,N=J.innerWidth,Q=J.innerHeight,U=J.outerWidth,Z=J.outerHeight,$=t.useTheme(),ee=e.useState(null),te=ee[0],re=ee[1],ie=j({data:c,xScale:p,xFormat:y,yScale:b,yFormat:m,width:N,height:Q,colors:v,curve:x,areaBaselineValue:C,pointColor:M,pointBorderColor:w}),ae=ie.lineGenerator,ne=ie.areaGenerator,oe=ie.series,le=ie.xScale,ue=ie.yScale,se=ie.points,de=f.useVoronoiMesh({points:se,width:N,height:Q,debug:A}),fe=de.delaunay,ce=de.voronoi;e.useEffect((function(){H&&(H.current=_.current),_.current.width=U*d,_.current.height=Z*d;var e=_.current.getContext("2d");e.scale(d,d),e.fillStyle=$.background,e.fillRect(0,0,U,Z),e.translate(K.left,K.top),g.forEach((function(t){if("function"==typeof t&&t({ctx:e,innerWidth:N,innerHeight:Q,series:oe,points:se,xScale:le,yScale:ue,lineWidth:R,lineGenerator:ae,areaGenerator:ne,currentPoint:te,setCurrentPoint:re}),"grid"===t&&$.grid.line.strokeWidth>0&&(e.lineWidth=$.grid.line.strokeWidth,e.strokeStyle=$.grid.line.stroke,P&&i.renderGridLinesToCanvas(e,{width:N,height:Q,scale:le,axis:"x",values:B}),L&&i.renderGridLinesToCanvas(e,{width:N,height:Q,scale:ue,axis:"y",values:W})),"axes"===t&&i.renderAxesToCanvas(e,{xScale:le,yScale:ue,width:N,height:Q,top:G,right:F,bottom:V,left:E,theme:$}),"areas"===t&&!0===q&&(e.save(),e.globalAlpha=T,ne.context(e),oe.forEach((function(t){e.fillStyle=t.color,e.beginPath(),ne(t.data.map((function(e){return e.position}))),e.fill()})),e.restore()),"lines"===t&&(ae.context(e),oe.forEach((function(t){e.strokeStyle=t.color,e.lineWidth=R,e.beginPath(),ae(t.data.map((function(e){return e.position}))),e.stroke()}))),"points"===t&&!0===O&&S>0&&se.forEach((function(t){e.fillStyle=t.color,e.beginPath(),e.arc(t.x,t.y,S/2,0,2*Math.PI),e.fill(),k>0&&(e.strokeStyle=t.borderColor,e.lineWidth=k,e.stroke())})),"mesh"===t&&!0===A&&(f.renderVoronoiToCanvas(e,ce),te&&f.renderVoronoiCellToCanvas(e,ce,te.index)),"legends"===t){var r=oe.map((function(e){return{id:e.id,label:e.id,color:e.color}})).reverse();D.forEach((function(t){a.renderLegendToCanvas(e,h({},t,{data:t.data||r,containerWidth:N,containerHeight:Q,theme:$}))}))}}))}),[_,U,Z,g,$,ae,oe,le,ue,P,B,L,W,G,F,V,E,D,se,O,S,te]);var pe=e.useCallback((function(e){var r=t.getRelativeCursor(_.current,e),i=r[0],a=r[1];if(!t.isCursorInRect(K.left,K.top,N,Q,i,a))return null;var n=fe.find(i-K.left,a-K.top);return se[n]}),[_,K,N,Q,fe]),he=n.useTooltip(),ye=he.showTooltipFromEvent,be=he.hideTooltip,me=e.useCallback((function(t){var r=pe(t);re(r),r?ye(e.createElement(z,{point:r}),t):be()}),[pe,re,ye,be,z]),xe=e.useCallback((function(e){be(),re(null),te&&I&&I(te,e)}),[be,re,I]),ge=e.useCallback((function(e){if(X){var t=pe(e);t&&X(t,e)}}),[pe,X]);return s.jsx("canvas",{ref:_,width:U*d,height:Z*d,style:{width:U,height:Z,cursor:Y?"auto":"normal"},onMouseEnter:Y?me:void 0,onMouseMove:Y?me:void 0,onMouseLeave:Y?xe:void 0,onClick:Y?ge:void 0})};_.propTypes=R,_.defaultProps=T;var J=t.withContainer(_),K=e.forwardRef((function(e,t){return s.jsx(J,h({},e,{canvasRef:t}))})),N=e.forwardRef((function(e,r){return s.jsx(t.ResponsiveWrapper,{children:function(t){var i=t.width,a=t.height;return s.jsx(K,h({width:i,height:a},e,{ref:r}))}})}));exports.Line=H,exports.LineCanvas=K,exports.LineCanvasDefaultProps=T,exports.LineCanvasPropTypes=R,exports.LineDefaultProps=C,exports.LinePropTypes=v,exports.ResponsiveLine=function(e){return s.jsx(t.ResponsiveWrapper,{children:function(t){var r=t.width,i=t.height;return s.jsx(H,h({width:r,height:i},e))}})},exports.ResponsiveLineCanvas=N,exports.useAreaGenerator=S,exports.useLine=j,exports.useLineGenerator=O,exports.useSlices=M;
//# sourceMappingURL=nivo-line.cjs.js.map
