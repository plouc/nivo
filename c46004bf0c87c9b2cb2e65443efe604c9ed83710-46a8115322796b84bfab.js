"use strict";(self.webpackChunknivo_website=self.webpackChunknivo_website||[]).push([[103],{25592:function(e,t,o){o.d(t,{X:function(){return a}});var n=o(9971),i=o(80169),r=n.e8,l=[{key:"total",group:"Base",type:"number",required:!0,help:"Max value.",description:"Max value, ratio will be computed against this value for each datum.",flavors:["svg","html","canvas"]},{key:"data",group:"Base",help:"Chart data.",description:"\n            Chart data, which must conform to this structure:\n            ```\n            Array<{\n                id:    string | number\n                value: number\n                label: string | number\n            }>\n            ```\n        ",type:"object[]",required:!0,flavors:["svg","html","canvas"]},{key:"rows",group:"Base",type:"number",help:"Number of rows.",required:!0,flavors:["svg","html","canvas"],controlType:"range",controlOptions:{min:1,max:100}},{key:"columns",group:"Base",type:"number",help:"Number of columns.",required:!0,flavors:["svg","html","canvas"],controlType:"range",controlOptions:{min:1,max:100}},{key:"fillDirection",group:"Base",type:"string",required:!1,help:"How to fill the waffle.",flavors:["svg","html","canvas"],defaultValue:r.fillDirection,controlType:"choices",controlOptions:{choices:[{label:"top",value:"top"},{label:"right",value:"right"},{label:"bottom",value:"bottom"},{label:"left",value:"left"}]}},{key:"padding",group:"Base",type:"number",help:"Padding between each cell.",required:!0,flavors:["svg","html","canvas"],controlType:"range",controlOptions:{unit:"px",min:0,max:10}},{key:"width",group:"Base",enableControlForFlavors:["api"],flavors:["svg","html","canvas"],help:"Chart width.",description:"\n            not required if using responsive alternative\n            of the component\n            `<Responsive*/>`.\n        ",type:"number",required:!0},{key:"height",group:"Base",enableControlForFlavors:["api"],flavors:["svg","html","canvas"],help:"Chart height.",description:"\n            not required if using responsive alternative\n            of the component\n            `<Responsive*/>`.\n        ",type:"number",required:!0},{key:"pixelRatio",flavors:["canvas"],help:"Adjust pixel ratio, useful for HiDPI screens.",required:!1,defaultValue:"Depends on device",type:"number",controlType:"range",group:"Base",controlOptions:{min:1,max:2}},{key:"margin",group:"Base",type:"object",required:!1,help:"Chart margin.",flavors:["svg","html","canvas"],controlType:"margin"},(0,i.JR)(["svg","html","canvas"]),{key:"cellComponent",flavors:["svg","html"],help:"Override default cell component.",type:"Function",required:!1,controlType:"choices",group:"Style",controlOptions:{choices:["default","Custom(props) => (…)"].map((function(e){return{label:e,value:e}}))}},{key:"colors",group:"Style",type:"string | Function | string[]",required:!1,help:"Defines how to compute node color.",defaultValue:r.colors,flavors:["svg","html","canvas"],controlType:"ordinalColors"},{key:"emptyColor",group:"Style",help:"Defines empty cells color.",type:"string",required:!1,defaultValue:r.emptyColor,flavors:["svg","html","canvas"],controlType:"colorPicker"},{key:"emptyOpacity",group:"Style",help:"Empty cells opacity.",required:!1,defaultValue:r.emptyOpacity,type:"number",flavors:["svg","html","canvas"],controlType:"opacity"},{key:"borderWidth",group:"Style",type:"number",required:!1,help:"Control cell border width.",defaultValue:r.borderWidth,flavors:["svg","html","canvas"],controlType:"lineWidth"},{key:"borderColor",group:"Style",type:"string | object | Function",required:!1,help:"Method to compute cell border color.",defaultValue:r.borderColor,flavors:["svg","html","canvas"],controlType:"inheritedColor"}].concat((0,i.uE)("Style",["svg"]),[{key:"isInteractive",group:"Interactivity",type:"boolean",required:!1,help:"Enable/disable interactivity.",defaultValue:r.isInteractive,flavors:["svg","html","canvas"],controlType:"switch"},{key:"onClick",group:"Interactivity",type:"Function",required:!1,help:"onClick handler, it receives clicked node data and style plus mouse event.",flavors:["svg","html","canvas"]},{key:"tooltip",group:"Interactivity",type:"Function",required:!1,help:"Custom tooltip component",flavors:["svg","html","canvas"],description:"\n            A function allowing complete tooltip customisation,\n            it must return a valid HTML element and will\n            receive the following data:\n            ```\n            {\n                id:         {string|number},\n                value:      number,\n                label:      {string|number},\n                color:      string,\n                position:   number,\n                row:        number,\n                column:     number,\n                groupIndex: number,\n                startAt:    number,\n                endAt:      number,\n            }\n            ```\n            You can customize the tooltip style\n            using the `theme.tooltip` object.\n        "},{key:"custom tooltip example",group:"Interactivity",type:"boolean",required:!1,controlType:"switch",help:"Showcase custom tooltip.",flavors:["svg","html","canvas"]},{key:"legends",group:"Legends",type:"object[]",required:!1,help:"Optional chart's legends.",flavors:["svg","canvas"],controlType:"array",controlOptions:{props:(0,i.y0)(["svg","canvas"]),shouldCreate:!0,addLabel:"add legend",shouldRemove:!0,defaults:{anchor:"left",direction:"column",justify:!1,translateX:-100,translateY:0,itemWidth:100,itemHeight:20,itemsSpacing:4,symbolSize:20,itemDirection:"left-to-right",itemTextColor:"#777",onClick:function(e){alert(JSON.stringify(e,null,"    "))},effects:[{on:"hover",style:{itemTextColor:"#000",itemBackground:"#f7fafb"}}]}}}],(0,i.$j)(["svg","html"],r)),a=(0,i.R2)(l)},47425:function(e,t,o){o.d(t,{$6:function(){return f},iQ:function(){return x},Ae:function(){return h},as:function(){return v},_i:function(){return b}});var n=o(24246),i=o(27378),r=o(45434),l=o(23615),a=o.n(l);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},s.apply(this,arguments)}var c={top:0,right:0,bottom:0,left:0},d=function(e){var t,o=e.direction,n=e.itemsSpacing,i=e.padding,r=e.itemCount,l=e.itemWidth,a=e.itemHeight;if("number"!=typeof i&&("object"!=typeof(t=i)||Array.isArray(t)||null===t))throw new Error("Invalid property padding, must be one of: number, object");var d="number"==typeof i?{top:i,right:i,bottom:i,left:i}:s({},c,i),u=d.left+d.right,p=d.top+d.bottom,m=l+u,h=a+p,y=(r-1)*n;return"row"===o?m=l*r+y+u:"column"===o&&(h=a*r+y+p),{width:m,height:h,padding:d}},u=function(e){var t=e.anchor,o=e.translateX,n=e.translateY,i=e.containerWidth,r=e.containerHeight,l=e.width,a=e.height,s=o,c=n;switch(t){case"top":s+=(i-l)/2;break;case"top-right":s+=i-l;break;case"right":s+=i-l,c+=(r-a)/2;break;case"bottom-right":s+=i-l,c+=r-a;break;case"bottom":s+=(i-l)/2,c+=r-a;break;case"bottom-left":c+=r-a;break;case"left":c+=(r-a)/2;break;case"center":s+=(i-l)/2,c+=(r-a)/2}return{x:s,y:c}},p=function(e){var t,o,n,i,r,l,a=e.direction,s=e.justify,c=e.symbolSize,d=e.symbolSpacing,u=e.width,p=e.height;switch(a){case"left-to-right":t=0,o=(p-c)/2,i=p/2,l="central",!0===s?(n=u,r="end"):(n=c+d,r="start");break;case"right-to-left":t=u-c,o=(p-c)/2,i=p/2,l="central",!0===s?(n=0,r="start"):(n=u-c-d,r="end");break;case"top-to-bottom":t=(u-c)/2,o=0,n=u/2,r="middle",!0===s?(i=p,l="alphabetic"):(i=c+d,l="text-before-edge");break;case"bottom-to-top":t=(u-c)/2,o=p-c,n=u/2,r="middle",!0===s?(i=0,l="text-before-edge"):(i=p-c-d,l="alphabetic")}return{symbolX:t,symbolY:o,labelX:n,labelY:i,labelAnchor:r,labelAlignment:l}},m={circle:function(e){var t=e.x,o=e.y,i=e.size,r=e.fill,l=e.opacity,a=void 0===l?1:l,s=e.borderWidth,c=void 0===s?0:s,d=e.borderColor;return(0,n.jsx)("circle",{r:i/2,cx:t+i/2,cy:o+i/2,fill:r,opacity:a,strokeWidth:c,stroke:void 0===d?"transparent":d,style:{pointerEvents:"none"}})},diamond:function(e){var t=e.x,o=e.y,i=e.size,r=e.fill,l=e.opacity,a=void 0===l?1:l,s=e.borderWidth,c=void 0===s?0:s,d=e.borderColor;return(0,n.jsx)("g",{transform:"translate("+t+","+o+")",children:(0,n.jsx)("path",{d:"\n                    M"+i/2+" 0\n                    L"+.8*i+" "+i/2+"\n                    L"+i/2+" "+i+"\n                    L"+.2*i+" "+i/2+"\n                    L"+i/2+" 0\n                ",fill:r,opacity:a,strokeWidth:c,stroke:void 0===d?"transparent":d,style:{pointerEvents:"none"}})})},square:function(e){var t=e.x,o=e.y,i=e.size,r=e.fill,l=e.opacity,a=void 0===l?1:l,s=e.borderWidth,c=void 0===s?0:s,d=e.borderColor;return(0,n.jsx)("rect",{x:t,y:o,fill:r,opacity:a,strokeWidth:c,stroke:void 0===d?"transparent":d,width:i,height:i,style:{pointerEvents:"none"}})},triangle:function(e){var t=e.x,o=e.y,i=e.size,r=e.fill,l=e.opacity,a=void 0===l?1:l,s=e.borderWidth,c=void 0===s?0:s,d=e.borderColor;return(0,n.jsx)("g",{transform:"translate("+t+","+o+")",children:(0,n.jsx)("path",{d:"\n                M"+i/2+" 0\n                L"+i+" "+i+"\n                L0 "+i+"\n                L"+i/2+" 0\n            ",fill:r,opacity:a,strokeWidth:c,stroke:void 0===d?"transparent":d,style:{pointerEvents:"none"}})})}},h=function(e){var t,o,l,a,c,d,u,h,y,f,g,v=e.x,b=e.y,x=e.width,k=e.height,C=e.data,S=e.direction,j=void 0===S?"left-to-right":S,w=e.justify,W=void 0!==w&&w,B=e.textColor,T=e.background,q=void 0===T?"transparent":T,O=e.opacity,M=void 0===O?1:O,z=e.symbolShape,E=void 0===z?"square":z,L=e.symbolSize,H=void 0===L?16:L,A=e.symbolSpacing,I=void 0===A?8:A,R=e.symbolBorderWidth,X=void 0===R?0:R,Y=e.symbolBorderColor,D=void 0===Y?"transparent":Y,F=e.onClick,V=e.onMouseEnter,_=e.onMouseLeave,N=e.toggleSerie,P=e.effects,J=(0,i.useState)({}),$=J[0],K=J[1],Q=(0,r.Fg)(),Z=(0,i.useCallback)((function(e){if(P){var t=P.filter((function(e){return"hover"===e.on})).reduce((function(e,t){return s({},e,t.style)}),{});K(t)}null==V||V(C,e)}),[V,C,P]),G=(0,i.useCallback)((function(e){if(P){var t=P.filter((function(e){return"hover"!==e.on})).reduce((function(e,t){return s({},e,t.style)}),{});K(t)}null==_||_(C,e)}),[_,C,P]),U=p({direction:j,justify:W,symbolSize:null!=(t=$.symbolSize)?t:H,symbolSpacing:I,width:x,height:k}),ee=U.symbolX,te=U.symbolY,oe=U.labelX,ne=U.labelY,ie=U.labelAnchor,re=U.labelAlignment,le=[F,V,_,N].some((function(e){return void 0!==e})),ae="function"==typeof E?E:m[E];return(0,n.jsxs)("g",{transform:"translate("+v+","+b+")",style:{opacity:null!=(o=$.itemOpacity)?o:M},children:[(0,n.jsx)("rect",{width:x,height:k,fill:null!=(l=$.itemBackground)?l:q,style:{cursor:le?"pointer":"auto"},onClick:function(e){null==F||F(C,e),null==N||N(C.id)},onMouseEnter:Z,onMouseLeave:G}),i.createElement(ae,s({id:C.id,x:ee,y:te,size:null!=(a=$.symbolSize)?a:H,fill:null!=(c=null!=(d=C.fill)?d:C.color)?c:"black",borderWidth:null!=(u=$.symbolBorderWidth)?u:X,borderColor:null!=(h=$.symbolBorderColor)?h:D},C.hidden?Q.legends.hidden.symbol:void 0)),(0,n.jsx)("text",{textAnchor:ie,style:s({},Q.legends.text,{fill:null!=(y=null!=(f=null!=(g=$.itemTextColor)?g:B)?f:Q.legends.text.fill)?y:"black",dominantBaseline:re,pointerEvents:"none",userSelect:"none"},C.hidden?Q.legends.hidden.text:void 0),x:oe,y:ne,children:C.label})]})},y=function(e){var t=e.data,o=e.x,i=e.y,r=e.direction,l=e.padding,a=void 0===l?0:l,s=e.justify,c=e.effects,u=e.itemWidth,p=e.itemHeight,m=e.itemDirection,y=void 0===m?"left-to-right":m,f=e.itemsSpacing,g=void 0===f?0:f,v=e.itemTextColor,b=e.itemBackground,x=void 0===b?"transparent":b,k=e.itemOpacity,C=void 0===k?1:k,S=e.symbolShape,j=e.symbolSize,w=e.symbolSpacing,W=e.symbolBorderWidth,B=e.symbolBorderColor,T=e.onClick,q=e.onMouseEnter,O=e.onMouseLeave,M=e.toggleSerie,z=d({itemCount:t.length,itemWidth:u,itemHeight:p,itemsSpacing:g,direction:r,padding:a}).padding,E="row"===r?u+g:0,L="column"===r?p+g:0;return(0,n.jsx)("g",{transform:"translate("+o+","+i+")",children:t.map((function(e,t){return(0,n.jsx)(h,{data:e,x:t*E+z.left,y:t*L+z.top,width:u,height:p,direction:y,justify:s,effects:c,textColor:v,background:x,opacity:C,symbolShape:S,symbolSize:j,symbolSpacing:w,symbolBorderWidth:W,symbolBorderColor:B,onClick:T,onMouseEnter:q,onMouseLeave:O,toggleSerie:M},t)}))})},f=function(e){var t=e.data,o=e.containerWidth,i=e.containerHeight,r=e.translateX,l=void 0===r?0:r,a=e.translateY,s=void 0===a?0:a,c=e.anchor,p=e.direction,m=e.padding,h=void 0===m?0:m,f=e.justify,g=e.itemsSpacing,v=void 0===g?0:g,b=e.itemWidth,x=e.itemHeight,k=e.itemDirection,C=e.itemTextColor,S=e.itemBackground,j=e.itemOpacity,w=e.symbolShape,W=e.symbolSize,B=e.symbolSpacing,T=e.symbolBorderWidth,q=e.symbolBorderColor,O=e.onClick,M=e.onMouseEnter,z=e.onMouseLeave,E=e.toggleSerie,L=e.effects,H=d({itemCount:t.length,itemsSpacing:v,itemWidth:b,itemHeight:x,direction:p,padding:h}),A=H.width,I=H.height,R=u({anchor:c,translateX:l,translateY:s,containerWidth:o,containerHeight:i,width:A,height:I}),X=R.x,Y=R.y;return(0,n.jsx)(y,{data:t,x:X,y:Y,direction:p,padding:h,justify:f,effects:L,itemsSpacing:v,itemWidth:b,itemHeight:x,itemDirection:k,itemTextColor:C,itemBackground:S,itemOpacity:j,symbolShape:w,symbolSize:W,symbolSpacing:B,symbolBorderWidth:T,symbolBorderColor:q,onClick:O,onMouseEnter:M,onMouseLeave:z,toggleSerie:"boolean"==typeof E?void 0:E})},g={start:"left",middle:"center",end:"right"},v=function(e,t){var o=t.data,n=t.containerWidth,i=t.containerHeight,r=t.translateX,l=void 0===r?0:r,a=t.translateY,s=void 0===a?0:a,c=t.anchor,m=t.direction,h=t.padding,y=void 0===h?0:h,f=t.justify,v=void 0!==f&&f,b=t.itemsSpacing,x=void 0===b?0:b,k=t.itemWidth,C=t.itemHeight,S=t.itemDirection,j=void 0===S?"left-to-right":S,w=t.itemTextColor,W=t.symbolSize,B=void 0===W?16:W,T=t.symbolSpacing,q=void 0===T?8:T,O=t.theme,M=d({itemCount:o.length,itemWidth:k,itemHeight:C,itemsSpacing:x,direction:m,padding:y}),z=M.width,E=M.height,L=M.padding,H=u({anchor:c,translateX:l,translateY:s,containerWidth:n,containerHeight:i,width:z,height:E}),A=H.x,I=H.y,R="row"===m?k+x:0,X="column"===m?C+x:0;e.save(),e.translate(A,I),e.font=O.legends.text.fontSize+"px "+(O.legends.text.fontFamily||"sans-serif"),o.forEach((function(t,o){var n,i,r=o*R+L.left,l=o*X+L.top,a=p({direction:j,justify:v,symbolSize:B,symbolSpacing:q,width:k,height:C}),s=a.symbolX,c=a.symbolY,d=a.labelX,u=a.labelY,m=a.labelAnchor,h=a.labelAlignment;e.fillStyle=null!=(n=t.color)?n:"black",e.fillRect(r+s,l+c,B,B),e.textAlign=g[m],"central"===h&&(e.textBaseline="middle"),e.fillStyle=null!=(i=null!=w?w:O.legends.text.fill)?i:"black",e.fillText(String(t.label),r+d,l+u)})),e.restore()},b=function(e){var t=e.scale,o=e.domain,n=e.reverse,r=void 0!==n&&n,l=e.valueFormat,a=void 0===l?function(e){return e}:l,s=e.separator,c=void 0===s?" - ":s;return(0,i.useMemo)((function(){var e=(null!=o?o:t.range()).map((function(e,o){var n=t.invertExtent(e),i=n[0],r=n[1];return{id:e,index:o,extent:[i,r],label:""+a(i)+c+a(r),value:t(i),color:e}}));return!0===r&&e.reverse(),e}),[o,t,r])},x={data:a().arrayOf(a().object),anchor:a().oneOf(["top","top-right","right","bottom-right","bottom","bottom-left","left","top-left","center"]).isRequired,translateX:a().number,translateY:a().number,direction:a().oneOf(["row","column"]).isRequired,itemsSpacing:a().number,itemWidth:a().number.isRequired,itemHeight:a().number.isRequired,itemDirection:a().oneOf(["left-to-right","right-to-left","top-to-bottom","bottom-to-top"]),itemTextColor:a().string,itemBackground:a().string,itemOpacity:a().number,symbolShape:a().oneOfType([a().oneOf(["circle","diamond","square","triangle"]),a().func]),symbolSize:a().number,symbolSpacing:a().number,symbolBorderWidth:a().number,symbolBorderColor:a().string,onClick:a().func,onMouseEnter:a().func,onMouseLeave:a().func,effects:a().arrayOf(a().shape({on:a().oneOfType([a().oneOf(["hover"])]).isRequired,style:a().shape({itemTextColor:a().string,itemBackground:a().string,itemOpacity:a().number,symbolSize:a().number,symbolBorderWidth:a().number,symbolBorderColor:a().string}).isRequired}))}},81521:function(e,t,o){o.d(t,{Z:function(){return p}});o(27378);var n=o(62370),i=o(91542),r=o(24246),l=i.default.div.withConfig({displayName:"CustomTooltip__TooltipWrapper",componentId:"sc-d9sxf5-0"})(["display:grid;grid-template-columns:1fr 1fr;grid-column-gap:12px;"]),a=i.default.span.withConfig({displayName:"CustomTooltip__TooltipKey",componentId:"sc-d9sxf5-1"})(["font-weight:600;"]),s=i.default.span.withConfig({displayName:"CustomTooltip__TooltipValue",componentId:"sc-d9sxf5-2"})([""]),c=function(e){return(0,r.jsxs)(l,{style:{color:e.color},children:[(0,r.jsx)(a,{children:"label"}),(0,r.jsx)(s,{children:e.label}),(0,r.jsx)(a,{children:"id"}),(0,r.jsx)(s,{children:e.id}),(0,r.jsx)(a,{children:"value"}),(0,r.jsx)(s,{children:e.value}),(0,r.jsx)(a,{children:"position"}),(0,r.jsx)(s,{children:e.position}),(0,r.jsx)(a,{children:"groupIndex"}),(0,r.jsx)(s,{children:e.groupIndex}),(0,r.jsx)(a,{children:"row"}),(0,r.jsx)(s,{children:e.row}),(0,r.jsx)(a,{children:"column"}),(0,r.jsx)(s,{children:e.column}),(0,r.jsx)(a,{children:"color"}),(0,r.jsx)(s,{children:e.color})]})},d=function(e){var t=e.position,o=e.size,n=e.x,i=e.y,l=e.color,a=e.fill,s=e.opacity,c=e.borderWidth,d=e.borderColor,u=e.data,p=e.onHover,m=e.onLeave,h=e.onClick;return(0,r.jsx)("circle",{r:o/2,cx:n+o/2,cy:i+o/2,fill:a||l,strokeWidth:c,stroke:d,opacity:s,onMouseEnter:p,onMouseMove:p,onMouseLeave:m,onClick:function(e){h({position:t,color:l,x:n,y:i,data:u},e)}})},u=function(e){var t=e.position,o=e.size,n=e.x,i=e.y,l=e.color,a=e.opacity,s=e.borderWidth,c=e.borderColor,d=e.data,u=e.onHover,p=e.onLeave,m=e.onClick;return(0,r.jsx)("div",{style:{borderRadius:o/2+"px 0 "+o/2+"px 0",position:"absolute",top:i,left:n,width:o,height:o,background:l,opacity:a,boxSizing:"content-box",borderStyle:"solid",borderWidth:s+"px",borderColor:c},onMouseEnter:u,onMouseMove:u,onMouseLeave:p,onClick:function(e){m({position:t,color:l,x:n,y:i,data:d},e)}})},p=(0,n.h8)({cellComponent:function(e,t,o){if("Custom(props) => (…)"===e)return"Waffle"===o.component?d:u},tooltip:function(e,t){return t["custom tooltip example"]?c:null}},{exclude:["custom tooltip example"]})}}]);
//# sourceMappingURL=c46004bf0c87c9b2cb2e65443efe604c9ed83710-46a8115322796b84bfab.js.map