"use strict";(self.webpackChunknivo_website=self.webpackChunknivo_website||[]).push([[8606],{32204:function(e,t,i){i.d(t,{X:function(){return l}});var n=i(64548),r=i(80169),o=[{key:"data",group:"Base",help:"Chart data.",type:"object[]",required:!0},{key:"indexBy",group:"Base",help:"Key to use to index the data.",description:"\n            Key to use to index the data,\n            this key must exist in each data item.\n            You can also provide a function which will\n            receive the data item and must return\n            the desired index\n        ",type:"string | Function",required:!1,defaultValue:n.JD.indexBy},{key:"keys",group:"Base",help:"Keys to use to determine each serie.",type:"string[]",required:!1,defaultValue:n.JD.keys},{key:"minValue",help:"Minimum value.",description:"\n            Minimum value.\n            If 'auto', will pick the lowest value\n            in the provided data set. Should be overriden\n            if your data set does not contain desired\n            lower bound value.\n        ",required:!1,defaultValue:n.JD.minValue,type:"number | 'auto'",controlType:"switchableRange",group:"Base",controlOptions:{disabledValue:"auto",defaultValue:0,min:-100,max:100}},{key:"maxValue",help:"Maximum value.",description:"\n            Maximum value. If 'auto', will pick the highest value\n            in the provided data set. Should be overriden\n            if your data set does not contain desired\n            higher bound value.\n        ",required:!1,defaultValue:n.JD.maxValue,type:"number | 'auto'",controlType:"switchableRange",group:"Base",controlOptions:{disabledValue:"auto",defaultValue:100,min:-100,max:100}},{key:"forceSquare",help:"Force square cells (width = height).",required:!1,defaultValue:n.JD.forceSquare,type:"boolean",controlType:"switch",group:"Base"},{key:"sizeVariation",help:"Cell size variation.",description:"Size variation (0~1), if value is 0 size won't be affected. If you use for example the value 0.3, cell width/height will vary between 0.7~1 according to its corresponding value.",required:!1,defaultValue:n.JD.sizeVariation,type:"number",controlType:"range",group:"Base",controlOptions:{min:0,max:1,step:.02}},{key:"padding",help:"Padding.",required:!1,defaultValue:n.JD.padding,type:"number",controlType:"range",group:"Base",controlOptions:{min:0,max:36,unit:"px"}},{key:"width",enableControlForFlavors:["api"],help:"Chart width.",description:"\n            not required if using\n            `<ResponsiveHeatMap/>`.\n        ",type:"number",required:!0,controlType:"range",group:"Base",controlOptions:{unit:"px",min:100,max:1200,step:5}},{key:"height",enableControlForFlavors:["api"],help:"Chart height.",description:"\n            not required if using\n            `<ResponsiveHeatMap/>`.\n        ",type:"number",required:!0,controlType:"range",group:"Base",controlOptions:{unit:"px",min:100,max:1200,step:5}},{key:"pixelRatio",flavors:["canvas"],help:"Adjust pixel ratio, useful for HiDPI screens.",required:!1,defaultValue:"Depends on device",type:"number",controlType:"range",group:"Base",controlOptions:{min:1,max:2}},{key:"margin",help:"Chart margin.",type:"object",required:!1,controlType:"margin",group:"Base"},(0,r.JR)(["svg","canvas","api"]),{key:"cellShape",help:"Cell shape/component.",description:"\n            Cell shape, can be one of: `'rect'`, `'circle'`,\n            if a function is provided, it must return\n            a valid SVG element and will receive\n            the following props:\n            ```\n            {\n                value:       number,\n                x:           number,\n                y:           number,\n                width:       number,\n                height:      number,\n                color:       string,\n                opacity:     number,\n                borderWidth: number,\n                borderColor: string,\n                textColor:   string,\n            }\n            ```\n        ",type:"string | Function",required:!1,defaultValue:n.JD.cellShape,controlType:"choices",group:"Style",controlOptions:{choices:["rect","circle","Custom(props) => (…)"].map((function(e){return{label:e,value:e}}))}},{key:"colors",help:"Defines color range.",type:"string | Function | string[]",required:!1,defaultValue:"nivo",controlType:"quantizeColors",group:"Style"},{key:"cellOpacity",help:"Cell opacity (0~1).",required:!1,defaultValue:n.JD.cellOpacity,type:"number",controlType:"opacity",group:"Style"},{key:"cellBorderWidth",help:"Cell border width.",required:!1,defaultValue:n.JD.cellBorderWidth,type:"number",controlType:"lineWidth",group:"Style"},{key:"cellBorderColor",help:"Method to compute cell border color.",description:"\n            how to compute cell border color,\n            [see dedicated documentation](self:/guides/colors).\n        ",type:"string | object | Function",required:!1,defaultValue:n.JD.cellBorderColor,controlType:"inheritedColor",group:"Style"},{key:"enableLabels",help:"Enable/disable labels.",type:"boolean",required:!1,defaultValue:n.JD.enableLabels,controlType:"switch",group:"Labels"},{key:"labelTextColor",help:"Method to compute label text color.",description:"\n            how to compute label text color,\n            [see dedicated documentation](self:/guides/colors).\n        ",type:"string | object | Function",required:!1,defaultValue:n.JD.labelTextColor,controlType:"inheritedColor",group:"Labels"},{key:"enableGridX",help:"Enable/disable x grid.",type:"boolean",required:!1,defaultValue:n.JD.enableGridX,controlType:"switch",group:"Grid & Axes"},{key:"enableGridY",help:"Enable/disable y grid.",type:"boolean",required:!1,defaultValue:n.JD.enableGridY,controlType:"switch",group:"Grid & Axes"}].concat((0,r.uh)(),[{key:"isInteractive",flavors:["svg","canvas"],help:"Enable/disable interactivity.",type:"boolean",required:!1,defaultValue:n.JD.isInteractive,controlType:"switch",group:"Interactivity"},{key:"onClick",flavors:["svg","canvas"],group:"Interactivity",type:"(cell, event) => void",required:!1,help:"onClick handler.",description:"\n            onClick handler, will receive node data\n            as first argument & event as second one.\n            The node data has the following shape:\n            ```\n            {\n                key:        string,\n                value:      number,\n                x:          number,\n                xKey:       {string|number},\n                y:          number,\n                yKey:       {string|number},\n                width:      number,\n                height:     number,\n                opacity:    number\n            }\n            ```\n        "},{key:"hoverTarget",flavors:["svg","canvas"],help:"Defines hover behavior.",description:"\n            Defines hover behavior:\n\n            - **cell**: highlight the current cell\n            - **row**: highlight the current cell's row\n            - **column**: highlight the current cell's column\n            - **rowColumn**: highlight the current cell's row & column\n        ",required:!1,defaultValue:n.JD.hoverTarget,type:"string",controlType:"choices",group:"Interactivity",controlOptions:{choices:["cell","row","column","rowColumn"].map((function(e){return{label:e,value:e}}))}},{key:"cellHoverOpacity",flavors:["svg","canvas"],help:"Cell opacity on hover.",required:!1,defaultValue:n.JD.cellHoverOpacity,type:"number",controlType:"opacity",group:"Interactivity"},{key:"cellHoverOthersOpacity",flavors:["svg","canvas"],help:"Cell opacity when not hovered.",required:!1,defaultValue:n.JD.cellHoverOthersOpacity,type:"number",controlType:"opacity",group:"Interactivity"}],(0,r.$j)(["svg"],n.JD,"react-spring")),l=(0,r.R2)(o)},44365:function(e,t,i){i.d(t,{dk:function(){return k},RD:function(){return m},rj:function(){return T},VT:function(){return b},DZ:function(){return O},RN:function(){return w},FA:function(){return R}});var n=i(27378),r=i(58493),o=i(45434),l=i(6164),a=i(16935),u=i(770),c=i(24246),s=i(23615),d=i.n(s);function h(){return h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},h.apply(this,arguments)}var f=function(e){var t,i=e.axis,n=e.scale,r=e.ticksPosition,l=e.tickValues,a=e.tickSize,c=e.tickPadding,s=e.tickRotation,d=e.engine,f=void 0===d?"svg":d,p=(0,u.xX)(n,l),y=o.a6[f],x="bandwidth"in n?(0,u.Gv)(n):n,m={lineX:0,lineY:0},g={textX:0,textY:0},b="object"==typeof document&&"rtl"===document.dir,v=y.align.center,k=y.baseline.center;return"x"===i?(t=function(e){var t;return{x:null!=(t=x(e))?t:0,y:0}},m.lineY=a*("after"===r?1:-1),g.textY=(a+c)*("after"===r?1:-1),k="after"===r?y.baseline.top:y.baseline.bottom,0===s?v=y.align.center:"after"===r&&s<0||"before"===r&&s>0?(v=y.align[b?"left":"right"],k=y.baseline.center):("after"===r&&s>0||"before"===r&&s<0)&&(v=y.align[b?"right":"left"],k=y.baseline.center)):(t=function(e){var t;return{x:0,y:null!=(t=x(e))?t:0}},m.lineX=a*("after"===r?1:-1),g.textX=(a+c)*("after"===r?1:-1),v="after"===r?y.align.left:y.align.right),{ticks:p.map((function(e){return h({key:"number"==typeof e||"string"==typeof e?e:""+e,value:e},t(e),m,g)})),textAlign:v,textBaseline:k}},p=function(e,t){if(void 0===e||"function"==typeof e)return e;if("time"===t.type){var i=(0,l.i$)(e);return function(e){return i(e instanceof Date?e:new Date(e))}}return(0,a.WU)(e)},y=function(e){var t,i=e.width,n=e.height,r=e.scale,o=e.axis,l=e.values,a=(t=l,(Array.isArray(t)?l:void 0)||(0,u.xX)(r,l)),c="bandwidth"in r?(0,u.Gv)(r):r,s="x"===o?a.map((function(e){var t,i;return{key:""+e,x1:null!=(t=c(e))?t:0,x2:null!=(i=c(e))?i:0,y1:0,y2:n}})):a.map((function(e){var t,n;return{key:""+e,x1:0,x2:i,y1:null!=(t=c(e))?t:0,y2:null!=(n=c(e))?n:0}}));return s},x=(0,n.memo)((function(e){var t,i=e.value,l=e.format,a=e.lineX,u=e.lineY,s=e.onClick,d=e.textBaseline,f=e.textAnchor,p=e.animatedProps,y=(0,o.Fg)(),x=null!=(t=null==l?void 0:l(i))?t:i,m=(0,n.useMemo)((function(){var e={opacity:p.opacity};return s?{style:h({},e,{cursor:"pointer"}),onClick:function(e){return s(e,x)}}:{style:e}}),[p.opacity,s,x]);return(0,c.jsxs)(r.q.g,h({transform:p.transform},m,{children:[(0,c.jsx)("line",{x1:0,x2:a,y1:0,y2:u,style:y.axis.ticks.line}),(0,c.jsx)(r.q.text,{dominantBaseline:d,textAnchor:f,transform:p.textTransform,style:y.axis.ticks.text,children:x})]}))})),m=(0,n.memo)((function(e){var t=e.axis,i=e.scale,l=e.x,a=void 0===l?0:l,u=e.y,s=void 0===u?0:u,d=e.length,y=e.ticksPosition,m=e.tickValues,g=e.tickSize,b=void 0===g?5:g,v=e.tickPadding,k=void 0===v?5:v,C=e.tickRotation,q=void 0===C?0:C,T=e.format,w=e.renderTick,O=void 0===w?x:w,R=e.legend,S=e.legendPosition,B=void 0===S?"end":S,V=e.legendOffset,j=void 0===V?0:V,M=e.onClick,L=e.ariaHidden,W=(0,o.Fg)(),H=(0,n.useMemo)((function(){return p(T,i)}),[T,i]),P=f({axis:t,scale:i,ticksPosition:y,tickValues:m,tickSize:b,tickPadding:k,tickRotation:q}),D=P.ticks,z=P.textAlign,F=P.textBaseline,I=null;if(void 0!==R){var X,K=0,J=0,Y=0;"y"===t?(Y=-90,K=j,"start"===B?(X="start",J=d):"middle"===B?(X="middle",J=d/2):"end"===B&&(X="end")):(J=j,"start"===B?X="start":"middle"===B?(X="middle",K=d/2):"end"===B&&(X="end",K=d)),I=(0,c.jsx)("text",{transform:"translate("+K+", "+J+") rotate("+Y+")",textAnchor:X,style:h({dominantBaseline:"central"},W.axis.legend.text),children:R})}var A=(0,o.tf)(),E=A.animate,G=A.config,Z=(0,r.useSpring)({transform:"translate("+a+","+s+")",lineX2:"x"===t?d:0,lineY2:"x"===t?0:d,config:G,immediate:!E}),N=(0,r.useTransition)(D,{keys:function(e){return e.key},initial:function(e){return{opacity:1,transform:"translate("+e.x+","+e.y+")",textTransform:"translate("+e.textX+","+e.textY+") rotate("+q+")"}},from:function(e){return{opacity:0,transform:"translate("+e.x+","+e.y+")",textTransform:"translate("+e.textX+","+e.textY+") rotate("+q+")"}},enter:function(e){return{opacity:1,transform:"translate("+e.x+","+e.y+")",textTransform:"translate("+e.textX+","+e.textY+") rotate("+q+")"}},update:function(e){return{opacity:1,transform:"translate("+e.x+","+e.y+")",textTransform:"translate("+e.textX+","+e.textY+") rotate("+q+")"}},leave:{opacity:0},config:G,immediate:!E});return(0,c.jsxs)(r.q.g,{transform:Z.transform,"aria-hidden":L,children:[N((function(e,t,i,r){return n.createElement(O,h({tickIndex:r,format:H,rotate:q,textBaseline:F,textAnchor:z,animatedProps:e},t,M?{onClick:M}:{}))})),(0,c.jsx)(r.q.line,{style:W.axis.domain.line,x1:0,x2:Z.lineX2,y1:0,y2:Z.lineY2}),I]})})),g={ticksPosition:d().oneOf(["before","after"]),tickValues:d().oneOfType([d().number,d().arrayOf(d().oneOfType([d().number,d().string,d().instanceOf(Date)])),d().string]),tickSize:d().number,tickPadding:d().number,tickRotation:d().number,format:d().oneOfType([d().func,d().string]),renderTick:d().func,legend:d().node,legendPosition:d().oneOf(["start","middle","end"]),legendOffset:d().number,ariaHidden:d().bool},b=d().shape(g),v=["top","right","bottom","left"],k=(0,n.memo)((function(e){var t=e.xScale,i=e.yScale,n=e.width,r=e.height,o={top:e.top,right:e.right,bottom:e.bottom,left:e.left};return(0,c.jsx)(c.Fragment,{children:v.map((function(e){var l=o[e];if(!l)return null;var a="top"===e||"bottom"===e;return(0,c.jsx)(m,h({},l,{axis:a?"x":"y",x:"right"===e?n:0,y:"bottom"===e?r:0,scale:a?t:i,length:a?n:r,ticksPosition:"top"===e||"left"===e?"before":"after"}),e)}))})})),C=(0,n.memo)((function(e){var t=e.animatedProps,i=(0,o.Fg)();return(0,c.jsx)(r.q.line,h({},t,i.grid.line))})),q=(0,n.memo)((function(e){var t=e.lines,i=(0,o.tf)(),l=i.animate,a=i.config,u=(0,r.useTransition)(t,{keys:function(e){return e.key},initial:function(e){return{opacity:1,x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2}},from:function(e){return{opacity:0,x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2}},enter:function(e){return{opacity:1,x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2}},update:function(e){return{opacity:1,x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2}},leave:{opacity:0},config:a,immediate:!l});return(0,c.jsx)("g",{children:u((function(e,t){return(0,n.createElement)(C,h({},t,{key:t.key,animatedProps:e}))}))})})),T=(0,n.memo)((function(e){var t=e.width,i=e.height,r=e.xScale,o=e.yScale,l=e.xValues,a=e.yValues,u=(0,n.useMemo)((function(){return!!r&&y({width:t,height:i,scale:r,axis:"x",values:l})}),[r,l,t,i]),s=(0,n.useMemo)((function(){return!!o&&y({width:t,height:i,scale:o,axis:"y",values:a})}),[i,t,o,a]);return(0,c.jsxs)(c.Fragment,{children:[u&&(0,c.jsx)(q,{lines:u}),s&&(0,c.jsx)(q,{lines:s})]})})),w=function(e,t){var i,n=t.axis,r=t.scale,l=t.x,a=void 0===l?0:l,u=t.y,c=void 0===u?0:u,s=t.length,d=t.ticksPosition,h=t.tickValues,p=t.tickSize,y=void 0===p?5:p,x=t.tickPadding,m=void 0===x?5:x,g=t.tickRotation,b=void 0===g?0:g,v=t.format,k=t.legend,C=t.legendPosition,q=void 0===C?"end":C,T=t.legendOffset,w=void 0===T?0:T,O=t.theme,R=f({axis:n,scale:r,ticksPosition:d,tickValues:h,tickSize:y,tickPadding:m,tickRotation:b,engine:"canvas"}),S=R.ticks,B=R.textAlign,V=R.textBaseline;e.save(),e.translate(a,c),e.textAlign=B,e.textBaseline=V,e.font=(O.axis.ticks.text.fontWeight?O.axis.ticks.text.fontWeight+" ":"")+O.axis.ticks.text.fontSize+"px "+O.axis.ticks.text.fontFamily,(null!=(i=O.axis.domain.line.strokeWidth)?i:0)>0&&(e.lineWidth=Number(O.axis.domain.line.strokeWidth),e.lineCap="square",O.axis.domain.line.stroke&&(e.strokeStyle=O.axis.domain.line.stroke),e.beginPath(),e.moveTo(0,0),e.lineTo("x"===n?s:0,"x"===n?0:s),e.stroke());var j="function"==typeof v?v:function(e){return""+e};if(S.forEach((function(t){var i;(null!=(i=O.axis.ticks.line.strokeWidth)?i:0)>0&&(e.lineWidth=Number(O.axis.ticks.line.strokeWidth),e.lineCap="square",O.axis.ticks.line.stroke&&(e.strokeStyle=O.axis.ticks.line.stroke),e.beginPath(),e.moveTo(t.x,t.y),e.lineTo(t.x+t.lineX,t.y+t.lineY),e.stroke());var n=j(t.value);e.save(),e.translate(t.x+t.textX,t.y+t.textY),e.rotate((0,o.Ht)(b)),O.axis.ticks.text.fill&&(e.fillStyle=O.axis.ticks.text.fill),e.fillText(String(n),0,0),e.restore()})),void 0!==k){var M=0,L=0,W=0,H="center";"y"===n?(W=-90,M=w,"start"===q?(H="start",L=s):"middle"===q?(H="center",L=s/2):"end"===q&&(H="end")):(L=w,"start"===q?H="start":"middle"===q?(H="center",M=s/2):"end"===q&&(H="end",M=s)),e.translate(M,L),e.rotate((0,o.Ht)(W)),e.font=(O.axis.legend.text.fontWeight?O.axis.legend.text.fontWeight+" ":"")+O.axis.legend.text.fontSize+"px "+O.axis.legend.text.fontFamily,O.axis.legend.text.fill&&(e.fillStyle=O.axis.legend.text.fill),e.textAlign=H,e.textBaseline="middle",e.fillText(k,0,0)}e.restore()},O=function(e,t){var i=t.xScale,n=t.yScale,r=t.width,o=t.height,l=t.top,a=t.right,u=t.bottom,c=t.left,s=t.theme,d={top:l,right:a,bottom:u,left:c};v.forEach((function(t){var l=d[t];if(!l)return null;var a="top"===t||"bottom"===t,u="top"===t||"left"===t?"before":"after",c=a?i:n,f=p(l.format,c);w(e,h({},l,{axis:a?"x":"y",x:"right"===t?r:0,y:"bottom"===t?o:0,scale:c,format:f,length:a?r:o,ticksPosition:u,theme:s}))}))},R=function(e,t){var i=t.width,n=t.height,r=t.scale,o=t.axis,l=t.values;y({width:i,height:n,scale:r,axis:o,values:l}).forEach((function(t){e.beginPath(),e.moveTo(t.x1,t.y1),e.lineTo(t.x2,t.y2),e.stroke()}))}},64548:function(e,t,i){i.d(t,{Br:function(){return B},JD:function(){return m},Pm:function(){return W},Tu:function(){return H}});var n=i(27378),r=i(45434),o=i(44365),l=i(89193),a=i(23615),u=i.n(a),c=i(79234),s=i(19183),d=i(9841),h=i(58493),f=i(24246);function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},p.apply(this,arguments)}var y={data:u().arrayOf(u().object).isRequired,indexBy:u().oneOfType([u().string,u().func]).isRequired,keys:u().arrayOf(u().string).isRequired,minValue:u().oneOfType([u().oneOf(["auto"]),u().number]).isRequired,maxValue:u().oneOfType([u().oneOf(["auto"]),u().number]).isRequired,forceSquare:u().bool.isRequired,sizeVariation:u().number.isRequired,padding:u().number.isRequired,cellShape:u().oneOfType([u().oneOf(["rect","circle"]),u().func]).isRequired,cellOpacity:u().number.isRequired,cellBorderWidth:u().number.isRequired,cellBorderColor:c.UO.isRequired,axisTop:o.VT,axisRight:o.VT,axisBottom:o.VT,axisLeft:o.VT,enableGridX:u().bool.isRequired,enableGridY:u().bool.isRequired,enableLabels:u().bool.isRequired,label:u().func.isRequired,labelTextColor:c.UO.isRequired,colors:r.Dd.isRequired,nanColor:u().string,isInteractive:u().bool,onClick:u().func.isRequired,hoverTarget:u().oneOf(["cell","row","column","rowColumn"]).isRequired,cellHoverOpacity:u().number.isRequired,cellHoverOthersOpacity:u().number.isRequired,tooltipFormat:u().oneOfType([u().func,u().string]),tooltip:u().func,pixelRatio:u().number.isRequired},x=p({},y,{role:u().string.isRequired}),m={indexBy:"id",minValue:"auto",maxValue:"auto",forceSquare:!1,sizeVariation:0,padding:0,cellShape:"rect",cellOpacity:.85,cellBorderWidth:0,cellBorderColor:{from:"color"},axisTop:{},axisLeft:{},enableGridX:!1,enableGridY:!1,enableLabels:!0,label:function(e,t){return e[t]},labelTextColor:{from:"color",modifiers:[["darker",1.4]]},colors:"nivo",nanColor:"#000000",isInteractive:!0,onClick:r.ZT,hoverTarget:"rowColumn",cellHoverOpacity:1,cellHoverOthersOpacity:.35,pixelRatio:"undefined"!=typeof window&&window.devicePixelRatio||1},g=p({},m,{role:"img"}),b={cell:function(e,t){return e.xKey===t.xKey&&e.yKey===t.yKey},row:function(e,t){return e.yKey===t.yKey},column:function(e,t){return e.xKey===t.xKey},rowColumn:function(e,t){return e.xKey===t.xKey||e.yKey===t.yKey}},v=function(e){var t=e.data,i=e.keys,o=e.indexBy,l=e.minValue,a=void 0===l?"auto":l,u=e.maxValue,h=void 0===u?"auto":u,f=e.width,y=e.height,x=e.padding,m=e.forceSquare,g=e.sizeVariation,v=e.colors,k=e.nanColor,C=e.cellOpacity,q=e.cellBorderColor,T=e.label,w=e.labelTextColor,O=e.hoverTarget,R=e.cellHoverOpacity,S=e.cellHoverOthersOpacity,B=(0,n.useState)(null),V=B[0],j=B[1],M=(0,r.LR)(o),L=(0,n.useMemo)((function(){return t.map(M)}),[t,M]),W=(0,n.useMemo)((function(){return(0,r.ji)(T)}),[T]),H=(0,n.useMemo)((function(){var e=i.length,n=t.length,r=Math.max((f-x*(e+1))/e,0),o=Math.max((y-x*(n+1))/n,0),l=0,a=0;if(!0===m){var u=Math.min(r,o);l=(f-(((r=u)+x)*e+x))/2,a=(y-(((o=u)+x)*n+x))/2}return{cellWidth:r,cellHeight:o,offsetX:l,offsetY:a}}),[t,i,f,y,x,m]),P=(0,n.useMemo)((function(){return{x:(0,s.Z)(i.map((function(e,t){return function(e,t,i){return e*t+.5*t+i*e+i}(t,H.cellWidth,x)}))).domain(i),y:(0,s.Z)(L.map((function(e,t){return function(e,t,i){return e*t+.5*t+i*e+i}(t,H.cellHeight,x)}))).domain(L)}}),[L,i,H,x]),D=(0,n.useMemo)((function(){var e=a,n=h;if("auto"===e||"auto"===n){var r=t.reduce((function(e,t){return e.concat(i.map((function(e){return t[e]})))}),[]);"auto"===e&&(e=Math.min.apply(Math,r)),"auto"===n&&(n=Math.max.apply(Math,r))}return{min:Math.min(e,n),max:Math.max(n,e)}}),[t,i,a,h]),z=(0,n.useMemo)((function(){if(g>0)return(0,d.Z)().range([1-g,1]).domain([D.min,D.max])}),[g,D]),F=(0,n.useMemo)((function(){return(0,r.om)(v).domain([D.min,D.max])}),[v,D]),I=(0,r.Fg)(),X=(0,c.Bf)(q,I),K=(0,c.Bf)(w,I),J=(0,n.useMemo)((function(){return function(e){var t=e.keys,i=e.getIndex,n=e.xScale,r=e.yScale,o=e.sizeScale,l=e.cellOpacity,a=e.cellWidth,u=e.cellHeight,c=e.colorScale,s=e.nanColor,d=e.getLabel,h=e.getLabelTextColor,f=[];return e.data.forEach((function(e){t.forEach((function(t){var p=e[t],y=d(e,t),x=i(e),m=o?o(p):1,g=m*a,b=m*u,v={id:t+"."+x,xKey:t,yKey:x,x:n(t),y:r(x),width:g,height:b,value:p,label:y,color:isNaN(p)?s:c(p),opacity:l};v.labelTextColor=h(v),f.push(v)}))})),f}({data:t,keys:i,getIndex:M,xScale:P.x,yScale:P.y,sizeScale:z,cellOpacity:C,cellWidth:H.cellWidth,cellHeight:H.cellHeight,colorScale:F,nanColor:k,getLabel:W,getLabelTextColor:K})}),[t,i,M,P,z,C,H,F,k,W,K]),Y=(0,n.useMemo)((function(){if(null===V)return J;var e=b[O],t=J.find((function(e){return e.id===V}));return J.map((function(i){var n=e(i,t)?R:S;return n===i.opacity?i:p({},i,{opacity:n})}))}),[J,V,O,R,S]);return p({cells:Y,getIndex:M,xScale:P.x,yScale:P.y},H,{sizeScale:z,currentCellId:V,setCurrentCellId:j,colorScale:F,getCellBorderColor:X,getLabelTextColor:K})},k=function(e){var t=e.cells,i=e.cellComponent,r=e.cellBorderWidth,o=e.getCellBorderColor,l=e.enableLabels,a=e.getLabelTextColor,u=e.handleCellHover,c=e.handleCellLeave,s=e.onClick;return t.map((function(e){return(0,n.createElement)(i,{key:e.id,data:e,label:e.label,x:e.x,y:e.y,width:e.width,height:e.height,color:e.color,opacity:e.opacity,borderWidth:r,borderColor:o(e),enableLabel:l,textColor:a(e),onHover:u?function(t){return u(e,t)}:void 0,onLeave:c,onClick:s})}))};k.propTypes={};var C=function(e){var t=e.data,i=e.label,n=e.x,o=e.y,l=e.width,a=e.height,u=e.color,c=e.opacity,s=e.borderWidth,d=e.borderColor,y=e.enableLabel,x=e.textColor,m=e.onHover,g=e.onLeave,b=e.onClick,v=(0,r.Fg)(),k=(0,r.tf)(),C=k.animate,q=k.config,T=(0,h.useSpring)({transform:"translate("+n+", "+o+")",width:l,height:a,xOffset:-.5*l,yOffset:-.5*a,color:u,opacity:c,textColor:x,borderWidth:s,borderColor:d,config:q,immediate:!C});return(0,f.jsxs)(h.q.g,{transform:T.transform,style:{cursor:"pointer"},onMouseEnter:m,onMouseMove:m,onMouseLeave:g,onClick:b?function(e){return b(t,e)}:void 0,children:[(0,f.jsx)(h.q.rect,{x:T.xOffset,y:T.yOffset,width:T.width,height:T.height,fill:T.color,fillOpacity:T.opacity,strokeWidth:T.borderWidth,stroke:T.borderColor,strokeOpacity:T.opacity}),y&&(0,f.jsx)(h.q.text,{dominantBaseline:"central",textAnchor:"middle",style:p({},v.labels.text,{fill:T.textColor}),fillOpacity:T.opacity,children:i})]})};C.propTypes={data:u().object.isRequired,label:u().oneOfType([u().number,u().string]).isRequired,x:u().number.isRequired,y:u().number.isRequired,width:u().number.isRequired,height:u().number.isRequired,color:u().string.isRequired,opacity:u().number.isRequired,borderWidth:u().number.isRequired,borderColor:u().string.isRequired,enableLabel:u().bool.isRequired,textColor:u().string.isRequired,onHover:u().func,onLeave:u().func,onClick:u().func};var q=(0,n.memo)(C),T=function(e){var t=e.data,i=e.label,n=e.x,o=e.y,l=e.width,a=e.height,u=e.color,c=e.opacity,s=e.borderWidth,d=e.borderColor,y=e.enableLabel,x=e.textColor,m=e.onHover,g=e.onLeave,b=e.onClick,v=(0,r.Fg)(),k=(0,r.tf)(),C=k.animate,q=k.config,T=(0,h.useSpring)({transform:"translate("+n+", "+o+")",radius:Math.min(l,a)/2,color:u,opacity:c,textColor:x,borderWidth:s,borderColor:d,config:q,immediate:!C});return(0,f.jsxs)(h.q.g,{transform:T.transform,style:{cursor:"pointer"},onMouseEnter:m,onMouseMove:m,onMouseLeave:g,onClick:b?function(e){return b(t,e)}:void 0,children:[(0,f.jsx)(h.q.circle,{r:T.radius,fill:T.color,fillOpacity:T.opacity,strokeWidth:T.borderWidth,stroke:T.borderColor,strokeOpacity:T.opacity}),y&&(0,f.jsx)(h.q.text,{dominantBaseline:"central",textAnchor:"middle",style:p({},v.labels.text,{fill:T.textColor}),fillOpacity:T.opacity,children:i})]})};T.propTypes={data:u().object.isRequired,label:u().oneOfType([u().number,u().string]).isRequired,x:u().number.isRequired,y:u().number.isRequired,width:u().number.isRequired,height:u().number.isRequired,color:u().string.isRequired,opacity:u().number.isRequired,borderWidth:u().number.isRequired,borderColor:u().string.isRequired,enableLabel:u().bool.isRequired,textColor:u().string.isRequired,onHover:u().func,onLeave:u().func,onClick:u().func};var w=(0,n.memo)(T),O=function(e){var t=e.cell,i=e.format,n=e.tooltip;return(0,f.jsx)(l._5,{id:t.yKey+" - "+t.xKey,value:t.value,enableChip:!0,color:t.color,format:i,renderContent:"function"==typeof n?n.bind(null,p({},t)):null})};O.propTypes={cell:u().shape({xKey:u().string.isRequired,yKey:u().string.isRequired,value:u().number.isRequired,color:u().string.isRequired}).isRequired,format:u().func,tooltip:u().func};var R=(0,n.memo)(O),S=function(e){var t,i=e.data,a=e.keys,u=e.indexBy,c=e.minValue,s=e.maxValue,d=e.width,h=e.height,p=e.margin,y=e.forceSquare,x=e.padding,m=e.sizeVariation,g=e.cellShape,b=e.cellOpacity,C=e.cellBorderWidth,T=e.cellBorderColor,O=e.axisTop,S=e.axisRight,B=e.axisBottom,V=e.axisLeft,j=e.enableGridX,M=e.enableGridY,L=e.enableLabels,W=e.label,H=e.labelTextColor,P=e.colors,D=e.nanColor,z=e.isInteractive,F=e.onClick,I=e.hoverTarget,X=e.cellHoverOpacity,K=e.cellHoverOthersOpacity,J=e.tooltipFormat,Y=e.tooltip,A=e.role,E=(0,r.Bs)(d,h,p),G=E.margin,Z=E.innerWidth,N=E.innerHeight,U=E.outerWidth,_=E.outerHeight,$=v({data:i,keys:a,indexBy:u,minValue:c,maxValue:s,width:Z,height:N,padding:x,forceSquare:y,sizeVariation:m,colors:P,nanColor:D,cellOpacity:b,cellBorderColor:T,label:W,labelTextColor:H,hoverTarget:I,cellHoverOpacity:X,cellHoverOthersOpacity:K}),Q=$.cells,ee=$.xScale,te=$.yScale,ie=$.offsetX,ne=$.offsetY,re=$.setCurrentCellId,oe=$.getCellBorderColor,le=$.getLabelTextColor,ae=(0,l.lL)(),ue=ae.showTooltipFromEvent,ce=ae.hideTooltip,se=(0,n.useCallback)((function(e,t){re(e.id),ue((0,f.jsx)(R,{cell:e,format:J,tooltip:Y}),t)}),[re,ue,J,Y]),de=(0,n.useCallback)((function(){re(null),ce()}),[re,ce]);return t="rect"===g?q:"circle"===g?w:g,(0,f.jsxs)(r.tM,{width:U,height:_,margin:Object.assign({},G,{top:G.top+ne,left:G.left+ie}),role:A,children:[(0,f.jsx)(o.rj,{width:Z-2*ie,height:N-2*ne,xScale:j?ee:null,yScale:M?te:null}),(0,f.jsx)(o.dk,{xScale:ee,yScale:te,width:Z-2*ie,height:N-2*ne,top:O,right:S,bottom:B,left:V}),(0,f.jsx)(k,{cells:Q,cellComponent:t,cellBorderWidth:C,getCellBorderColor:oe,enableLabels:L,getLabelTextColor:le,handleCellHover:z?se:void 0,handleCellLeave:z?de:void 0,onClick:z?F:void 0})]})};S.propTypes=x;var B=(0,r.li)(S);B.defaultProps=g;var V=function(e,t,i){var n=t.enableLabels,r=t.theme,o=i.x,l=i.y,a=i.width,u=i.height,c=i.color,s=i.opacity,d=i.labelTextColor,h=i.label;e.save(),e.globalAlpha=s,e.fillStyle=c,e.fillRect(o-a/2,l-u/2,a,u),!0===n&&(e.fillStyle=d,e.font=r.labels.text.fontSize+"px "+r.labels.text.fontFamily,e.fillText(h,o,l)),e.restore()},j=function(e,t,i){var n=t.enableLabels,r=t.theme,o=i.x,l=i.y,a=i.width,u=i.height,c=i.color,s=i.opacity,d=i.labelTextColor,h=i.label;e.save(),e.globalAlpha=s;var f=Math.min(a,u)/2;e.fillStyle=c,e.beginPath(),e.arc(o,l,f,0,2*Math.PI),e.fill(),!0===n&&(e.fillStyle=d,e.font=r.labels.text.fontSize+"px "+r.labels.text.fontFamily,e.fillText(h,o,l)),e.restore()},M=function(e){var t=e.data,i=e.keys,a=e.indexBy,u=e.minValue,c=e.maxValue,s=e.width,d=e.height,h=e.margin,p=e.forceSquare,y=e.padding,x=e.sizeVariation,m=e.cellShape,g=e.cellOpacity,b=e.cellBorderColor,k=e.axisTop,C=e.axisRight,q=e.axisBottom,T=e.axisLeft,w=e.enableLabels,O=e.label,S=e.labelTextColor,B=e.colors,M=e.nanColor,L=e.isInteractive,W=e.onClick,H=e.hoverTarget,P=e.cellHoverOpacity,D=e.cellHoverOthersOpacity,z=e.tooltipFormat,F=e.tooltip,I=e.pixelRatio,X=(0,n.useRef)(null),K=(0,r.Bs)(s,d,h),J=K.margin,Y=K.innerWidth,A=K.innerHeight,E=K.outerWidth,G=K.outerHeight,Z=v({data:t,keys:i,indexBy:a,minValue:u,maxValue:c,width:Y,height:A,padding:y,forceSquare:p,sizeVariation:x,colors:B,nanColor:M,cellOpacity:g,cellBorderColor:b,label:O,labelTextColor:S,hoverTarget:H,cellHoverOpacity:P,cellHoverOthersOpacity:D}),N=Z.cells,U=Z.xScale,_=Z.yScale,$=Z.offsetX,Q=Z.offsetY,ee=Z.currentCellId,te=Z.setCurrentCellId,ie=(0,r.Fg)();(0,n.useEffect)((function(){X.current.width=E*I,X.current.height=G*I;var e,t=X.current.getContext("2d");t.scale(I,I),t.fillStyle=ie.background,t.fillRect(0,0,E,G),t.translate(J.left+$,J.top+Q),(0,o.DZ)(t,{xScale:U,yScale:_,width:Y-2*$,height:A-2*Q,top:k,right:C,bottom:q,left:T,theme:ie}),t.textAlign="center",t.textBaseline="middle",e="rect"===m?V:j,N.forEach((function(i){e(t,{enableLabels:w,theme:ie},i)}))}),[X,N,E,G,Y,A,J,$,Q,m,k,C,q,T,U,_,ie,w,I]);var ne=(0,l.lL)(),re=ne.showTooltipFromEvent,oe=ne.hideTooltip,le=(0,n.useCallback)((function(e){var t=(0,r.P6)(X.current,e),i=t[0],n=t[1],o=N.find((function(e){return(0,r.zn)(e.x+J.left+$-e.width/2,e.y+J.top+Q-e.height/2,e.width,e.height,i,n)}));void 0!==o?(te(o.id),re((0,f.jsx)(R,{cell:o,tooltip:F,format:z}),e)):(te(null),oe())}),[X,N,J,$,Q,te,re,oe,F,z]),ae=(0,n.useCallback)((function(){te(null),oe()}),[te,oe]),ue=(0,n.useCallback)((function(e){if(null!==ee){var t=N.find((function(e){return e.id===ee}));t&&W(t,e)}}),[N,ee,W]);return(0,f.jsx)("canvas",{ref:X,width:E*I,height:G*I,style:{width:E,height:G},onMouseEnter:L?le:void 0,onMouseMove:L?le:void 0,onMouseLeave:L?ae:void 0,onClick:L?ue:void 0})};M.propTypes=y;var L=(0,r.li)(M);L.defaultProps=m;var W=function(e){return(0,f.jsx)(r.d,{children:function(t){var i=t.width,n=t.height;return(0,f.jsx)(B,p({width:i,height:n},e))}})},H=function(e){return(0,f.jsx)(r.d,{children:function(t){var i=t.width,n=t.height;return(0,f.jsx)(L,p({width:i,height:n},e))}})}},28122:function(e,t,i){i.d(t,{i:function(){return o},g:function(){return l}});var n=i(38681),r=["hot dog","burger","sandwich","kebab","fries","donut","junk","sushi","ramen","curry","udon","bagel","yakitori","takoyaki","tacos","miso soup","tortilla","tapas","chipirones","gazpacho","soba","bavette","steak","pizza","spaghetti","ravioli","salad","pad thai","bun","waffle","crepe","churros","paella","empanadas","bruschetta","onion soup","cassoulet","bouillabaisse","unagi","tempura","tonkatsu","shabu-shabu","twinkies","jerky","fajitas","jambalaya","meatloaf","mac n' cheese","baked beans","popcorn","buffalo wings","BBQ ribs","apple pie","nachos","risotto","tiramisu"],o=function(){return{data:(0,n.aw)(r.slice(0,11),{size:9,min:0,max:100}),keys:r.slice(0,11)}},l=function(){return{data:(0,n.aw)(r,{size:22,min:0,max:100}),keys:r}}},89220:function(e,t,i){i(27378);var n=i(62370),r=i(24246),o=function(e){var t=e.value,i=e.x,n=e.y,o=e.width,l=e.height,a=e.color,u=e.opacity,c=e.borderWidth,s=e.borderColor,d=e.textColor;return(0,r.jsxs)("g",{transform:"translate("+i+", "+n+")",children:[(0,r.jsx)("path",{transform:"rotate("+(t<50?180:0)+")",fill:a,fillOpacity:u,strokeWidth:c,stroke:s,d:"\n                M0 -"+Math.round(l/2)+"\n                L"+Math.round(o/2)+" "+Math.round(l/2)+"\n                L-"+Math.round(o/2)+" "+Math.round(l/2)+"\n                L0 -"+Math.round(l/2)+"\n            "}),(0,r.jsx)("text",{alignmentBaseline:"central",textAnchor:"middle",style:{fill:d},dy:t<50?-6:6,children:t})]})};t.Z=(0,n.h8)({cellShape:function(e){return"Custom(props) => (…)"===e?o:e},axisTop:(0,n.h6)("top"),axisRight:(0,n.h6)("right"),axisBottom:(0,n.h6)("bottom"),axisLeft:(0,n.h6)("left")},{exclude:["enable axisTop","enable axisRight","enable axisBottom","enable axisLeft"]})}}]);
//# sourceMappingURL=74a3323269f816433de8976cfbd9d0ceb5d37e1e-92c7545774460d95e4fd.js.map